(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))t(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&t(s)}).observe(document,{childList:!0,subtree:!0});function A(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function t(r){if(r.ep)return;r.ep=!0;const a=A(r);fetch(r.href,a)}})();class Vi{constructor(){this.routes=new Map,this.currentPage=null,this.currentParams={},this.history=[],window.addEventListener("popstate",e=>{this.handleRoute(window.location.pathname+window.location.search,!1)})}register(e,A){return this.routes.set(e,A),this}navigate(e,A={}){this.history.push({path:window.location.pathname,state:this.currentParams}),window.history.pushState(A,"",e),this.handleRoute(e,!0)}back(){this.history.length>0?window.history.back():this.navigate("/")}handleRoute(e,A=!0){const[t,r]=e.split("?"),{handler:a,params:s}=this.matchRoute(t);if(!a){console.warn(`è·¯ç”±æœªæ‰¾åˆ°: ${t}`),t!=="/"&&this.navigate("/");return}if(r){const c=new URLSearchParams(r);for(const[l,g]of c)s[l]=g}this.currentParams=s;const i=document.getElementById("app");if(!i){console.error("æ‰¾ä¸åˆ° #app å®¹å™¨");return}const o=i.querySelector(".page");o&&o.classList.add(A?"page-exit":"page-exit-back"),setTimeout(()=>{let c;if(typeof a=="function")try{c=new a(s)}catch{c=a(s)}if(c&&typeof c.render=="function"){i.innerHTML=c.render();const l=i.querySelector(".page");l&&l.classList.add(A?"page-enter":"page-enter-back"),typeof c.attachEvents=="function"&&c.attachEvents(),typeof c.init=="function"&&c.init(),this.currentPage=c}else typeof c=="string"&&(i.innerHTML=c);window.scrollTo(0,0)},o?250:0)}matchRoute(e){if(this.routes.has(e))return{handler:this.routes.get(e),params:{}};for(const[A,t]of this.routes){const r=this.extractParams(A,e);if(r!==null)return{handler:t,params:r}}return{handler:null,params:{}}}extractParams(e,A){const t=e.split("/").filter(Boolean),r=A.split("/").filter(Boolean);if(t.length!==r.length)return null;const a={};for(let s=0;s<t.length;s++)if(t[s].startsWith(":")){const i=t[s].slice(1);a[i]=decodeURIComponent(r[s])}else if(t[s]!==r[s])return null;return a}getParams(){return this.currentParams}start(){const e=window.location.pathname+window.location.search;this.handleRoute(e,!1)}}const cn=new Vi;window.router=cn;class Yi{constructor(){this.state={},this.listeners=new Map,this.storageKey="matching_game_state",this.loadFromStorage()}get(e,A=null){return e in this.state?this.state[e]:A}set(e,A,t=!1){const r=this.state[e];this.state[e]=A,this.listeners.has(e)&&this.listeners.get(e).forEach(a=>{a(A,r)}),t&&this.saveToStorage()}update(e,A,t=!1){const r=this.get(e,{});this.set(e,{...r,...A},t)}delete(e){delete this.state[e],this.saveToStorage()}subscribe(e,A){return this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(A),()=>{this.listeners.get(e).delete(A)}}saveToStorage(){try{const e={user:this.state.user,testHistory:this.state.testHistory,settings:this.state.settings};localStorage.setItem(this.storageKey,JSON.stringify(e))}catch(e){console.warn("ä¿å­˜çŠ¶æ€å¤±è´¥:",e)}}loadFromStorage(){try{const e=localStorage.getItem(this.storageKey);if(e){const A=JSON.parse(e);this.state={...this.state,...A}}}catch(e){console.warn("åŠ è½½çŠ¶æ€å¤±è´¥:",e)}}clear(){this.state={},localStorage.removeItem(this.storageKey)}}const Ie=new Yi;Ie.set("currentTest",null);Ie.set("testProgress",{step:0,total:0});function ns(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n==="x"?e:e&3|8).toString(16)})}function qi(){if(localStorage.getItem("sessionId"))console.log("âœ… å·²æœ‰ä¼šè¯, sessionId:",localStorage.getItem("sessionId"));else{const n=ns();localStorage.setItem("sessionId",n),console.log("âœ… æ–°ä¼šè¯å·²åˆ›å»º, sessionId:",n)}}function ln(){let n=localStorage.getItem("sessionId");return n||(n=ns(),localStorage.setItem("sessionId",n)),n}qi();window.appState=Ie;const lt=()=>"/api",rs=lt();async function Y(n,e={}){const A=`${rs}${n}`,t={"Content-Type":"application/json"},r=localStorage.getItem("auth_token");r&&(t.Authorization=`Bearer ${r}`);const a={...e,headers:{...t,...e.headers}};try{const s=await fetch(A,a),i=await s.json();if(!s.ok)throw new Fe(i.error?.message||"è¯·æ±‚å¤±è´¥",i.error?.code,s.status);return i}catch(s){throw s instanceof Fe?s:new Fe("ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œ","NETWORK_ERROR",0)}}class Fe extends Error{constructor(e,A,t){super(e),this.code=A,this.status=t}}const Qe={async sendSms(n,e="login"){return Y("/auth/send-sms",{method:"POST",body:JSON.stringify({phone:n,type:e})})},async sendCode(n){return Y("/auth/send-code",{method:"POST",body:JSON.stringify({phone:n})})},async register(n){const e=await Y("/auth/register",{method:"POST",body:JSON.stringify(n)});return e.success&&e.data?.token&&(localStorage.setItem("auth_token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),e.data.user?.id&&localStorage.setItem("userId",e.data.user.id),e.data.sessionId&&(localStorage.setItem("sessionId",e.data.sessionId),console.log("ğŸ”„ æ³¨å†ŒæˆåŠŸï¼ŒsessionId å·²æ›´æ–°:",e.data.sessionId))),e},async quickLogin(n,e){const A={phone:n,sessionId:localStorage.getItem("sessionId")||""};e&&(A.smsCode=e);const t=await Y("/auth/quick-login",{method:"POST",body:JSON.stringify(A)});return t.success&&t.data?.token&&(localStorage.setItem("auth_token",t.data.token),localStorage.setItem("user",JSON.stringify(t.data.user)),t.data.user?.id&&localStorage.setItem("userId",t.data.user.id),t.data.sessionId&&(localStorage.setItem("sessionId",t.data.sessionId),console.log("ğŸ”„ å¿«é€Ÿç™»å½•æ³¨å†ŒæˆåŠŸï¼ŒsessionId å·²æ›´æ–°:",t.data.sessionId))),t},async login(n,e){const A=await Y("/auth/login",{method:"POST",body:JSON.stringify({phone:n,code:e,sessionId:localStorage.getItem("sessionId")||""})});return A.success&&A.data?.token&&(localStorage.setItem("auth_token",A.data.token),localStorage.setItem("user",JSON.stringify(A.data.user)),A.data.user?.id&&localStorage.setItem("userId",A.data.user.id),A.data.sessionId&&(localStorage.setItem("sessionId",A.data.sessionId),console.log("ğŸ”„ ç™»å½•æ³¨å†ŒæˆåŠŸï¼ŒsessionId å·²æ›´æ–°:",A.data.sessionId))),A},async loginWithPassword(n,e,A=!1){const t=await Y("/auth/login",{method:"POST",body:JSON.stringify({phone:n,password:e,rememberMe:A,sessionId:localStorage.getItem("sessionId")||""})});return t.success&&t.data?.token&&(localStorage.setItem("auth_token",t.data.token),localStorage.setItem("user",JSON.stringify(t.data.user)),t.data.user?.id&&localStorage.setItem("userId",t.data.user.id),t.data.sessionId&&(localStorage.setItem("sessionId",t.data.sessionId),console.log("ğŸ”„ ç™»å½•æ³¨å†ŒæˆåŠŸï¼ŒsessionId å·²æ›´æ–°:",t.data.sessionId))),t},async resetPassword(n){return Y("/auth/reset-password",{method:"POST",body:JSON.stringify(n)})},async getMe(){return Y("/auth/me")},logout(){localStorage.removeItem("auth_token"),localStorage.removeItem("user"),localStorage.removeItem("userId")},isLoggedIn(){return!!localStorage.getItem("auth_token")},getLocalUser(){const n=localStorage.getItem("user");return n?JSON.parse(n):null}},Ji={async birthday(n){return Y("/analysis/birthday",{method:"POST",body:JSON.stringify(n)})},async birthMatchStream(n,{onChunk:e,onDone:A,onError:t,signal:r}){try{const a=await fetch(`${rs}/analysis/birthMatch`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n),signal:r});if(!a.ok){const c=await a.json();throw new Fe(c.error?.message||"è¯·æ±‚å¤±è´¥",c.error?.code,a.status)}const s=a.body.getReader(),i=new TextDecoder;let o="";for(;;){const{done:c,value:l}=await s.read();if(c)break;const B=i.decode(l,{stream:!0}).split(`

`).filter(w=>w.trim());for(const w of B)if(w.startsWith("data: ")){const m=w.slice(6);if(m==="[DONE]"){A?.(o);return}try{const h=JSON.parse(m);if(h.content&&(o+=h.content,e?.(h.content,o)),h.error)throw new Fe(h.error,"STREAM_ERROR",500)}catch(h){if(h instanceof Fe)throw h}}}A?.(o)}catch(a){throw t?.(a),a}},async hexagram(n){return Y("/analysis/hexagram",{method:"POST",body:JSON.stringify(n)})},async getResult(n){return Y(`/analysis/result/${n}`)}},En={async createOrder(n){return Y("/payment/create-order",{method:"POST",body:JSON.stringify(n)})},async getOrderStatus(n){return Y(`/payment/order/${n}`)},async simulatePay(n){return Y("/payment/simulate-pay",{method:"POST",body:JSON.stringify({orderId:n})})},async redeem(n){return Y("/payment/redeem",{method:"POST",body:JSON.stringify({redeemCode:n})})},async getOrders(){return Y("/payment/orders")}},dt={async create(n,e,A=null){const t=e?.method||null,r=e?.type||null;return Y("/match/record/create",{method:"POST",body:JSON.stringify({sessionId:n,reqData:e,userId:A,method:t,type:r})})},async updateStatus(n,e,A,t=null){return Y("/match/record/update-status",{method:"PUT",body:JSON.stringify({sessionId:n,userId:e,status:A,resultData:t})})},async getStatus(n){return Y(`/match/record/status?sessionId=${encodeURIComponent(n)}`)},async getDetail(n){return Y(`/match/record/detail?sessionId=${encodeURIComponent(n)}`)}},tr={async getRecords(n={}){const e=new URLSearchParams;return n.sessionId&&e.append("sessionId",n.sessionId),n.userId&&e.append("userId",n.userId),n.page&&e.append("page",n.page),n.pageSize&&e.append("pageSize",n.pageSize),Y(`/history/records?${e.toString()}`)},async getRecordDetail(n,e={}){const A=new URLSearchParams;return e.sessionId&&A.append("sessionId",e.sessionId),e.userId&&A.append("userId",e.userId),Y(`/history/record/${n}?${A.toString()}`)}},Xi={async getServerState(){return Y("/config/server-state")}},as={async getList(){return Y("/topic-categories")}},ss={async getByCategory(n){return Y(`/questions?category=${encodeURIComponent(n)}`)}},Wi={async getList(){return Y("/xhs-topics")}},is={async getList(){return Y("/xhs-menus")}},ut=[{id:"love",icon:"ğŸ’‘",title:"æ„Ÿæƒ…åŒ¹é…",description:"æµ‹è¯•ä½ ä»¬çš„å¥‘åˆæŒ‡æ•°",longDescription:"é€šè¿‡ç”Ÿæ—¥ç‰¹è´¨æˆ–ç›´è§‰å¡”ç½—åˆ†æï¼Œæ·±å…¥äº†è§£ä½ ä¸TAä¹‹é—´çš„æ€§æ ¼å¥‘åˆåº¦ï¼Œæ¢ç´¢ä¸¤äººæ€§æ ¼çš„äº’è¡¥ä¸æ‘©æ“¦ç‚¹ã€‚",price:29.9,category:"relationship",popular:!0,features:["æ€§æ ¼ç‰¹è´¨åˆ†æ","æ€§æ ¼äº’è¡¥æ€§è¯„ä¼°","ç›¸å¤„å»ºè®®"]},{id:"career",icon:"ğŸ’¼",title:"èŒåœºå…³ç³»",description:"è§£æèŒåœºäººé™…å…³ç³»",longDescription:"åˆ†æä½ ä¸åŒäº‹ã€é¢†å¯¼ä¹‹é—´çš„ç›¸å¤„ä¹‹é“ï¼Œäº†è§£èŒåœºä¸­çš„æ½œåœ¨åŠ©åŠ›ä¸é˜»åŠ›ã€‚",price:29.9,category:"career",popular:!0,features:["é¢†å¯¼å…³ç³»åˆ†æ","åŒäº‹ç›¸å¤„å»ºè®®","èŒåœºé£é™©æç¤º"]},{id:"cooperation",icon:"ğŸ¤",title:"åˆä½œå…³ç³»",description:"çœ‹æ¸…åˆä½œå¯¹è±¡ï¼Œæ—©åšå†³å®š",longDescription:"è¯„ä¼°ä½ ä¸æ½œåœ¨åˆä½œä¼™ä¼´çš„å¥‘åˆåº¦ï¼Œåˆ†æåˆä½œä¸­å¯èƒ½é‡åˆ°çš„æŒ‘æˆ˜ä¸æœºé‡ã€‚",price:29.9,category:"career",popular:!1,features:["åˆä½œå¥‘åˆåº¦è¯„åˆ†","é£é™©é¢„è­¦","åˆä½œç­–ç•¥å»ºè®®"]},{id:"thoughts",icon:"ğŸ’­",title:"TAçš„æƒ³æ³•å’Œæ€åº¦",description:"æ­å¼€TAçš„çœŸå®æƒ³æ³•",longDescription:"é€šè¿‡ç›´è§‰å¡”ç½—æµ‹è¯•ï¼Œæ¢ç´¢å¯¹æ–¹å†…å¿ƒçš„çœŸå®æƒ³æ³•å’Œå¯¹ä½ çš„æ€åº¦ã€‚",price:29.9,category:"relationship",popular:!0,features:["å¯¹æ–¹å¿ƒç†åˆ†æ","çœŸå®æ€åº¦è§£è¯»","æ²Ÿé€šå»ºè®®"]},{id:"job",icon:"ğŸ“ˆ",title:"èŒä¸šå‘å±•",description:"æ‰¾åˆ°æœ€é€‚åˆä½ çš„èŒä¸šæ–¹å‘",longDescription:"åŸºäºä½ çš„æ€§æ ¼ç‰¹å¾åˆ†æï¼Œä¸ºä½ æ¨èæœ€é€‚åˆçš„èŒä¸šå‘å±•æ–¹å‘ã€‚",price:29.9,category:"career",popular:!1,features:["æ€§æ ¼èŒä¸šåŒ¹é…","è¡Œä¸šæ¨è","å‘å±•è·¯å¾„è§„åˆ’"]},{id:"city",icon:"ğŸ—ºï¸",title:"åŸå¸‚æ–¹å‘",description:"å“ªåº§åŸå¸‚æœ€é€‚åˆä½ å‘å±•",longDescription:"æ ¹æ®ä½ çš„å‡ºç”Ÿåœ°å’Œæ€§æ ¼ç‰¹å¾ï¼Œåˆ†ææœ€é€‚åˆä½ å‘å±•çš„åŸå¸‚æ–¹å‘ã€‚",price:29.9,category:"direction",popular:!1,features:["æ–¹ä½é€‚é…åˆ†æ","åŸå¸‚æ¨è","å‘å±•å»ºè®®"]},{id:"peach",icon:"ğŸŒ¸",title:"ç¤¾äº¤é­…åŠ›",description:"æµ‹è¯•ä½ çš„ç¤¾äº¤é­…åŠ›å€¼",longDescription:"åˆ†æä½ è¿‘æœŸçš„ç¤¾äº¤çŠ¶æ€ï¼Œäº†è§£æå‡äººé™…å¸å¼•åŠ›çš„æ–¹å¼ã€‚",price:29.9,category:"relationship",popular:!0,features:["ç¤¾äº¤é­…åŠ›åˆ†æ","æå‡å»ºè®®","äººé™…å…³ç³»æŒ‡å¯¼"]},{id:"benefactor",icon:"â­",title:"äººè„‰åˆ†æ",description:"å‘ç°ä½ èº«è¾¹çš„åŠ©åŠ›è€…",longDescription:"åˆ†æé€‚åˆä½ çš„äººè„‰ç‰¹å¾ï¼Œå¸®åŠ©ä½ è¯†åˆ«å’Œæ‹“å±•æœ‰ä»·å€¼çš„äººé™…å…³ç³»ã€‚",price:29.9,category:"direction",popular:!1,features:["äººè„‰ç‰¹å¾åˆ†æ","è¯†åˆ«æ–¹æ³•","ç¤¾äº¤å»ºè®®"]},{id:"yesno",icon:"â“",title:"Yes or No",description:"çŠ¹è±«æ—¶ï¼Œå¿«é€Ÿå¸®ä½ åˆ¤æ–­",longDescription:"é¢å¯¹é€‰æ‹©çŠ¹è±«ä¸å†³ï¼Ÿè®©ç›´è§‰å¡”ç½—ç»™ä½ ä¸€ä¸ªå‚è€ƒç­”æ¡ˆã€‚",price:19.9,category:"decision",popular:!0,features:["å¿«é€Ÿæµ‹è¯•","æ˜ç¡®ç­”æ¡ˆ","è¡ŒåŠ¨å»ºè®®"]},{id:"choice",icon:"âš–ï¸",title:"äºŒé€‰ä¸€",description:"å·¦å³ä¸ºéš¾ï¼Ÿå¸®ä½ ç¨³å¦¥é€‰å¯¹",longDescription:"ä¸¤ä¸ªé€‰æ‹©å·¦å³ä¸ºéš¾ï¼Ÿç›´è§‰å¡”ç½—å¸®ä½ åˆ†ææ¯ä¸ªé€‰æ‹©çš„åˆ©å¼Šã€‚",price:19.9,category:"decision",popular:!1,features:["åŒé€‰å¯¹æ¯”åˆ†æ","åˆ©å¼Šæƒè¡¡","æœ€ä¼˜å»ºè®®"]},{id:"pet",icon:"ğŸ¾",title:"å® ç‰©åŒ¹é…",description:"æ‰¾åˆ°æœ€é€‚åˆä½ çš„èŒå® ä¼™ä¼´",longDescription:"æ ¹æ®ä½ çš„æ€§æ ¼ç‰¹å¾å’Œç”Ÿæ´»ä¹ æƒ¯ï¼Œåˆ†ææœ€é€‚åˆä½ çš„å® ç‰©ç±»å‹ï¼Œæ‰¾åˆ°ä¸ä½ æœ€åˆæ‹çš„èŒå® ä¼™ä¼´ã€‚",price:19.9,category:"relationship",popular:!1,features:["æ€§æ ¼å® ç‰©åŒ¹é…","å…»å® å»ºè®®","äº’åŠ¨æŒ‡å¯¼"]}];function FA(n){return ut.find(e=>e.id===n)}function j(n={}){const{title:e="åŒ¹é…æ¸¸æˆ",showBack:A=!1,showHistory:t=!1,showProfile:r=!0,onBack:a=null}=n;return`
    <nav class="navbar">
      <div class="navbar__left">
        ${A?'<button class="navbar__back-btn" data-action="back">â†</button>':""}
        <div class="navbar__logo">${e}</div>
      </div>
      <div class="navbar__actions">
        ${t?'<button class="navbar__icon-btn" data-action="history" title="å†å²è®°å½•">ğŸ•</button>':""}
        ${r?'<button class="navbar__icon-btn navbar__profile-btn" data-action="profile" title="ä¸ªäººä¸­å¿ƒ">ğŸ‘¤</button>':""}
      </div>
    </nav>
  `}function os(n={}){const{icon:e="âœ¨",title:A="å‘ç°ä½ çš„æ€§æ ¼å¥‘åˆåº¦",subtitle:t="æ¢ç´¢äººé™…å…³ç³»çš„å¥¥ç§˜",buttonText:r="å¼€å§‹æµ‹è¯•",onButtonClick:a=null}=n;return`
    <section class="hero-banner">
      <div class="glass-card text-center animate-fade-in-up">
        <div class="hero-banner__icon animate-float">${e}</div>
        <h1 class="heading-1 mb-2">${A}</h1>
        <p class="body-text-secondary mb-4">${t}</p>
        <button class="btn btn--primary btn--lg" data-action="hero-start">
          <span>âœ¨</span>
          <span>${r}</span>
        </button>
      </div>
    </section>
  `}function gt(n,e,A={}){const{showText:t=!0,showSteps:r=!1,stepLabel:a=""}=A,s=Math.min(n/e*100,100),i=a?`<div class="progress-bar__label">${a}</div>`:"",o=t?`<div class="progress-bar__text">${n} / ${e}</div>`:"";return`
    <div class="progress-bar">
      <div class="progress-bar__track-wrapper">
        <div class="progress-bar__track">
          <div class="progress-bar__fill" style="width: ${s}%"></div>
        </div>
      </div>
      ${i}
      ${o}
    </div>
  `}function cs(n="åŠ è½½ä¸­..."){return`
    <div class="loading-indicator">
      <div class="loading-dots">
        <span class="loading-dots__dot"></span>
        <span class="loading-dots__dot"></span>
        <span class="loading-dots__dot"></span>
      </div>
      <p class="small-text mt-2">${n}</p>
    </div>
  `}function zi(n={}){const{icon:e="ğŸ“­",title:A="æš‚æ— å†…å®¹",description:t="",actionText:r=null,onAction:a=null}=n,s=r?`<button class="btn btn--primary btn--sm mt-4" data-action="empty-action">${r}</button>`:"";return`
    <div class="empty-state">
      <div class="empty-state__icon">${e}</div>
      <h3 class="empty-state__title">${A}</h3>
      ${t?`<p class="empty-state__description">${t}</p>`:""}
      ${s}
    </div>
  `}function Zi(n,e={}){window.router&&typeof window.router.navigate=="function"?window.router.navigate(n,e):(console.warn("è·¯ç”±å™¨ä¸å¯ç”¨ï¼Œä½¿ç”¨ location å¯¼èˆª"),window.location.href=n)}function xe(n,e={}){const{showPrice:A=!1,showBadge:t=!0,onClick:r=null}=e,a=t&&n.popular?'<span class="feature-card__badge">çƒ­é—¨</span>':"",s=A?`<span class="feature-card__price">Â¥${n.price}</span>`:"";return`
    <div class="glass-card glass-card--interactive feature-card" data-type="${n.id}">
      ${a}
      <div class="feature-card__icon">${n.icon}</div>
      <div class="feature-card__content">
        <h3 class="feature-card__title">${n.title}</h3>
        <p class="feature-card__description">${n.description}</p>
      </div>
      ${s}
      <span class="feature-card__arrow">â†’</span>
    </div>
  `}function ji(n){return`
    <div class="glass-card feature-card-detail">
      <div class="feature-card-detail__header">
        <span class="feature-card-detail__icon">${n.icon}</span>
        <div>
          <h2 class="heading-2">${n.title}</h2>
          <p class="small-text">${n.description}</p>
        </div>
      </div>
      
      <div class="divider" style="margin: 8px 0;"></div>
      
      <p class="body-text-secondary" style="margin-bottom: 0;">${n.longDescription}</p>
      
    </div>
  `}const Ao={æ„Ÿæƒ…åŒ¹é…:"love",åˆä½œå…³ç³»:"cooperation",åˆä½œåŒ¹é…:"cooperation",èŒåœºå…³ç³»:"career",èŒä¸šåŒ¹é…:"career",TAçš„æƒ³æ³•å’Œæ€åº¦:"thoughts",èŒä¸šå‘å±•:"job",åŸå¸‚æ–¹å‘:"city",åŸå¸‚åŒ¹é…:"city",å® ç‰©åŒ¹é…:"pet",ç¤¾äº¤é­…åŠ›:"peach",äººè„‰åˆ†æ:"benefactor","Yes or No":"yesno",äºŒé€‰ä¸€:"choice"};class eo{constructor(e={}){this.matchTypes=ut,this.topicCategories=[],this.redeemCode=e.s||null,this.isXHS=!!this.redeemCode}render(){const e=(this.isXHS,"å¼€å§‹åŒ¹é…..."),A=(this.isXHS,"è¶£å‘³æ€§æ ¼æµ‹è¯•å¹³å°");return`
      <div class="page home-page">
        ${j({title:A,showBack:!1,showHistory:!this.isXHS,showProfile:!this.isXHS})}
        
        <main class="page-content">
          <div class="app-container">
            
            <!-- æ¬¢è¿æ¨ªå¹… -->
            ${os({icon:"âœ¨",title:"å‘ç°ä½ çš„æ€§æ ¼å¥‘åˆåº¦",subtitle:"æ¢ç´¢äººé™…å…³ç³»çš„å¥¥ç§˜",buttonText:e})}

            <!-- åœºæ™¯æµ‹è¯•æ ‡é¢˜ -->
            <section class="section-header mt-6 mb-4">
              <h2 class="heading-2 text-center" style="color: var(--color-text-secondary);">
                è¶£å‘³æµ‹è¯•
              </h2>
            </section>

            <!-- åŠŸèƒ½å¡ç‰‡åˆ—è¡¨ï¼ˆåˆå§‹ä½¿ç”¨æœ¬åœ°æ•°æ®ï¼Œinitåä¼šæ›¿æ¢ï¼‰ -->
            <section class="feature-list" id="featureListSection">
              ${this.matchTypes.map((t,r)=>`
                <div class="animate-fade-in-up animate-delay-${Math.min((r+1)*100,500)} animate-hidden">
                  ${xe(t,{showBadge:!0})}
                </div>
              `).join("")}
            </section>

            <!-- åº•éƒ¨é—´è· -->
            <div class="mt-8 safe-area-bottom"></div>
          </div>
        </main>
      </div>
    `}async init(){try{let e;this.isXHS?e=await is.getList():e=await as.getList(),e.code===200&&e.data&&e.data.length>0&&(this.topicCategories=e.data,this.renderFeatureCards())}catch(e){console.warn("è·å–èœå•/åˆ†ç±»å¤±è´¥ï¼Œä½¿ç”¨æœ¬åœ°æ•°æ®:",e.message)}}renderFeatureCards(){const e=document.getElementById("featureListSection");if(!e)return;const A={};this.matchTypes.forEach(r=>{A[r.id]=r,A[r.title]=r});const t=[];for(const r of this.topicCategories){const a=Ao[r.name],s=a?A[a]:A[r.name];if(s){const i={...s};i.title=r.name,r.description&&(i.description=r.description),t.push(i)}else t.push({id:r.name,icon:"ğŸ“‚",title:r.name,description:r.description||r.name,popular:!1})}e.innerHTML=t.map((r,a)=>`
            <div class="animate-fade-in-up animate-delay-${Math.min((a+1)*100,500)}">
              ${xe(r,{showBadge:!0})}
            </div>
        `).join(""),e.querySelectorAll(".feature-card").forEach(r=>{r.addEventListener("click",()=>{const a=r.dataset.type;this.handleFeatureClick(a)})})}attachEvents(){this.initAnimations(),document.querySelectorAll(".feature-card").forEach(A=>{A.addEventListener("click",t=>{const r=A.dataset.type;this.handleFeatureClick(r)})});const e=document.querySelector('[data-action="hero-start"]');e&&e.addEventListener("click",()=>{if(this.isXHS){let A="/xhs/test";this.redeemCode&&(A+=`?s=${encodeURIComponent(this.redeemCode)}`),window.router.navigate(A)}else window.router.navigate("/topics")}),document.querySelectorAll(".navbar__icon-btn").forEach(A=>{A.addEventListener("click",()=>{const t=A.dataset.action;this.handleNavAction(t)})})}initAnimations(){const e=document.querySelectorAll(".animate-hidden"),A=new IntersectionObserver(t=>{t.forEach(r=>{r.isIntersecting&&(r.target.classList.remove("animate-hidden"),A.unobserve(r.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});e.forEach(t=>A.observe(t))}handleFeatureClick(e){const A=new Date,t=`${A.getFullYear()}-${String(A.getMonth()+1).padStart(2,"0")}-${String(A.getDate()).padStart(2,"0")} ${String(A.getHours()).padStart(2,"0")}:${String(A.getMinutes()).padStart(2,"0")}:${String(A.getSeconds()).padStart(2,"0")}`;console.log(`[${t}] é€‰æ‹©äº†åŒ¹é…ç±»å‹: ${e}`);let r=`/test/${e}`;this.redeemCode&&(r+=`?s=${encodeURIComponent(this.redeemCode)}`),window.router.navigate(r)}handleNavAction(e){switch(e){case"history":this.goToHistory();break;case"profile":this.goToProfile();break}}goToProfile(){localStorage.getItem("auth_token")?window.router.navigate("/profile"):window.router.navigate("/auth?action=login")}goToHistory(){const e=localStorage.getItem("user");let A=null;if(e)try{const r=JSON.parse(e);A=r.id||r.userId||null}catch{}const t=localStorage.getItem("sessionId");if(console.log(`[å†å²è®°å½•] userId: ${A}, sessionId: ${t?t.slice(0,8)+"...":"null"}`),!A&&!t){window.showToast("è¯·å…ˆå®Œæˆä¸€æ¬¡æµ‹è¯•","error");return}window.router.navigate("/history")}}class to{constructor(){this.matchTypes=ut,this.topicCategories=[]}render(){return`
      <div class="page topic-list-page">
        ${j({title:"è¶£å‘³æµ‹è¯•",showBack:!0,showHistory:!1,showProfile:!1})}

        <main class="page-content">
          <div class="app-container">

            <!-- åŠŸèƒ½å¡ç‰‡åˆ—è¡¨ -->
            <section class="feature-list mt-4" id="topicFeatureListSection">
              ${this.matchTypes.map((e,A)=>`
                <div class="animate-fade-in-up animate-delay-${Math.min((A+1)*100,500)} animate-hidden">
                  ${xe(e,{showBadge:!0})}
                </div>
              `).join("")}
            </section>

            <!-- åº•éƒ¨é—´è· -->
            <div class="mt-8 safe-area-bottom"></div>
          </div>
        </main>
      </div>
    `}async init(){try{const e=await as.getList();e.code===200&&e.data&&e.data.length>0&&(this.topicCategories=e.data,this.renderFeatureCards())}catch(e){console.warn("è·å–ä¸»é¢˜åˆ†ç±»å¤±è´¥ï¼Œä½¿ç”¨æœ¬åœ°æ•°æ®:",e.message)}}renderFeatureCards(){const e=document.getElementById("topicFeatureListSection");if(!e)return;const A={};this.matchTypes.forEach(a=>{A[a.id]=a,A[a.title]=a});const t={æ„Ÿæƒ…åŒ¹é…:"love",åˆä½œå…³ç³»:"cooperation",åˆä½œåŒ¹é…:"cooperation",èŒåœºå…³ç³»:"career",èŒä¸šåŒ¹é…:"career",TAçš„æƒ³æ³•å’Œæ€åº¦:"thoughts",èŒä¸šå‘å±•:"job",åŸå¸‚æ–¹å‘:"city",åŸå¸‚åŒ¹é…:"city",å® ç‰©åŒ¹é…:"pet",ç¤¾äº¤é­…åŠ›:"peach",äººè„‰åˆ†æ:"benefactor","Yes or No":"yesno",äºŒé€‰ä¸€:"choice"},r=[];for(const a of this.topicCategories){const s=t[a.name],i=s?A[s]:A[a.name];i?r.push(i):r.push({id:a.name,icon:"ğŸ“‚",title:a.name,description:a.name,popular:!1})}e.innerHTML=r.map((a,s)=>`
            <div class="animate-fade-in-up animate-delay-${Math.min((s+1)*100,500)}">
              ${xe(a,{showBadge:!0})}
            </div>
        `).join(""),this.bindCardEvents()}attachEvents(){this.initAnimations(),this.bindCardEvents();const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{window.router.back()})}bindCardEvents(){document.querySelectorAll(".feature-card").forEach(e=>{e.addEventListener("click",()=>{const A=e.dataset.type;this.handleFeatureClick(A)})})}initAnimations(){const e=document.querySelectorAll(".animate-hidden"),A=new IntersectionObserver(t=>{t.forEach(r=>{r.isIntersecting&&(r.target.classList.remove("animate-hidden"),A.unobserve(r.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});e.forEach(t=>A.observe(t))}handleFeatureClick(e){const A=new Date,t=`${A.getFullYear()}-${String(A.getMonth()+1).padStart(2,"0")}-${String(A.getDate()).padStart(2,"0")} ${String(A.getHours()).padStart(2,"0")}:${String(A.getMinutes()).padStart(2,"0")}:${String(A.getSeconds()).padStart(2,"0")}`;console.log(`[${t}] é€‰æ‹©äº†åŒ¹é…ç±»å‹: ${e}`),window.router.navigate(`/test/${e}`)}}const no={æ„Ÿæƒ…åŒ¹é…:"love",åˆä½œå…³ç³»:"cooperation",åˆä½œåŒ¹é…:"cooperation",èŒåœºå…³ç³»:"career",èŒä¸šåŒ¹é…:"career",TAçš„æƒ³æ³•å’Œæ€åº¦:"thoughts",èŒä¸šå‘å±•:"job",åŸå¸‚æ–¹å‘:"city",åŸå¸‚åŒ¹é…:"city",å® ç‰©åŒ¹é…:"pet",ç¤¾äº¤é­…åŠ›:"peach",äººè„‰åˆ†æ:"benefactor","Yes or No":"yesno",äºŒé€‰ä¸€:"choice"};class ro{constructor(){this.matchTypes=[];const e=new URLSearchParams(window.location.search);this.redeemCode=e.get("s")}render(){return`
      <div class="page home-page xhs-landing-page">
        ${j({title:"è¶£å‘³æ€§æ ¼æµ‹è¯•å¹³å°",showBack:!1,showHistory:!1,showProfile:!1})}
        
        <main class="page-content">
          <div class="app-container">
            
            <!-- æ¬¢è¿æ¨ªå¹… -->
            ${os({icon:"âœ¨",title:"å‘ç°ä½ çš„æ€§æ ¼å¥‘åˆåº¦",subtitle:"æ¢ç´¢äººé™…å…³ç³»çš„å¥¥ç§˜",buttonText:"å¼€å§‹åŒ¹é…..."})}

            <!-- åœºæ™¯æµ‹è¯•æ ‡é¢˜ -->
            <section class="section-header mt-6 mb-4">
              <h2 class="heading-2 text-center" style="color: var(--color-text-secondary);">
                çƒ­é—¨æµ‹è¯•
              </h2>
            </section>

            <!-- åŠŸèƒ½å¡ç‰‡åˆ—è¡¨ï¼ˆinitååŠ¨æ€å¡«å……ï¼‰ -->
            <section class="feature-list" id="xhsFeatureListSection">
              <div style="text-align:center;padding:24px;color:var(--color-text-tertiary);">åŠ è½½ä¸­...</div>
            </section>

            <!-- åº•éƒ¨é—´è· -->
            <div class="mt-8 safe-area-bottom"></div>
          </div>
        </main>
      </div>
    `}async init(){try{const e=await Wi.getList();if(e.code===200&&e.data&&e.data.length>0){const A={};ut.forEach(t=>{A[t.id]=t,A[t.title]=t}),this.matchTypes=[];for(const t of e.data){const r=no[t.topic_name],a=r?A[r]:A[t.topic_name];a?this.matchTypes.push(a):this.matchTypes.push({id:t.topic_name,icon:"ğŸ“‚",title:t.topic_name,description:t.topic_desc||t.topic_name,popular:!1})}this.renderFeatureCards()}else{const A=document.getElementById("xhsFeatureListSection");A&&(A.innerHTML='<div style="text-align:center;padding:24px;color:var(--color-text-tertiary);">æš‚æ— æµ‹è¯•ä¸»é¢˜</div>')}}catch(e){console.warn("è·å–å°çº¢ä¹¦ä¸»é¢˜åˆ—è¡¨å¤±è´¥:",e.message);const A=document.getElementById("xhsFeatureListSection");A&&(A.innerHTML='<div style="text-align:center;padding:24px;color:var(--color-text-tertiary);">åŠ è½½å¤±è´¥ï¼Œè¯·åˆ·æ–°é‡è¯•</div>')}}renderFeatureCards(){const e=document.getElementById("xhsFeatureListSection");e&&(e.innerHTML=this.matchTypes.map((A,t)=>`
            <div class="animate-fade-in-up animate-delay-${Math.min((t+1)*100,500)}">
              ${xe(A,{showBadge:!0})}
            </div>
        `).join(""),e.querySelectorAll(".feature-card").forEach(A=>{A.addEventListener("click",()=>{const t=A.dataset.type;this.handleFeatureClick(t)})}),this.initAnimations())}attachEvents(){this.initAnimations(),document.querySelectorAll(".feature-card").forEach(A=>{A.addEventListener("click",()=>{const t=A.dataset.type;this.handleFeatureClick(t)})});const e=document.querySelector('[data-action="hero-start"]');e&&e.addEventListener("click",()=>{let A="/xhs/test";this.redeemCode&&(A+=`?s=${encodeURIComponent(this.redeemCode)}`),window.router.navigate(A)})}initAnimations(){const e=document.querySelectorAll(".animate-hidden"),A=new IntersectionObserver(t=>{t.forEach(r=>{r.isIntersecting&&(r.target.classList.remove("animate-hidden"),A.unobserve(r.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});e.forEach(t=>A.observe(t))}navigateToTest(e){let A=`/test/${e}`;this.redeemCode&&(A+=`?s=${encodeURIComponent(this.redeemCode)}`),window.router.navigate(A)}handleFeatureClick(e){this.navigateToTest(e)}}const ao=lt(),so={æ„Ÿæƒ…åŒ¹é…:"love",åˆä½œå…³ç³»:"cooperation",åˆä½œåŒ¹é…:"cooperation",èŒåœºå…³ç³»:"career",èŒä¸šåŒ¹é…:"career",TAçš„æƒ³æ³•å’Œæ€åº¦:"thoughts",èŒä¸šå‘å±•:"job",åŸå¸‚æ–¹å‘:"city",åŸå¸‚åŒ¹é…:"city",å® ç‰©åŒ¹é…:"pet",ç¤¾äº¤é­…åŠ›:"peach",äººè„‰åˆ†æ:"benefactor","Yes or No":"yesno",äºŒé€‰ä¸€:"choice"},io={ç»¼åˆ:"nianyun",å¥åº·ç±»:"jiankang",äº‹ä¸šç±»:"shiye",è´¢è¿ç±»:"caiyun",æ„Ÿæƒ…ç±»:"ganqing",æ„Ÿæƒ…åŒ¹é…:"ganqing",æŠ•èµ„ç±»:"gushi",å­¦ä¸šç±»:"shengxue",å…¶ä»–ç±»:"qita"};class oo{constructor(){this.menuTypes=[],this.selectedType=null;const e=new URLSearchParams(window.location.search);this.redeemCode=e.get("s"),this.isVerifying=!1,this.codeVerified=!1,this.questions=[],this.questionInputEnabled=!1,this.selectedQuestionId=null,this.userInputText=""}render(){return`
      <div class="page xhs-test-page">
        ${j({title:"è¶£å‘³æµ‹è¯•",showBack:!0,showHistory:!1,showProfile:!1})}

        <main class="page-content">
          <div class="app-container">

            <!-- èœå•åˆ—è¡¨ï¼ˆä»åå°å°çº¢ä¹¦èœå•ç®¡ç†è·å–ï¼‰ -->
            <section class="feature-list mt-4" id="xhsMenuListSection">
              <div style="text-align:center;padding:24px;color:var(--color-text-tertiary);">åŠ è½½ä¸­...</div>
            </section>

            <!-- æµ‹è¯•æ–¹å¼é€‰æ‹© -->
            <section class="xhs-test-method-section mt-6 animate-fade-in-up animate-delay-200">
              <h3 class="heading-3 mb-3 text-center">é€‰æ‹©æµ‹è¯•æ–¹å¼</h3>

              <div class="glass-card" style="padding: 0; overflow: hidden;">
                <!-- ç”Ÿæ—¥åŒ¹é… -->
                <div class="method-card method-card--compact" data-method="birthday" style="padding: 14px 16px; cursor: pointer;">
                  <div class="method-card__icon" style="font-size: 28px;">ğŸ‚</div>
                  <div class="method-card__content">
                    <h4 class="method-card__title" style="font-size: 15px; margin-bottom: 2px;">ç”Ÿæ—¥åŒ¹é…</h4>
                    <p class="method-card__description" style="font-size: 12px; margin-bottom: 0;">è¾“å…¥åŒæ–¹ç”Ÿæ—¥ï¼Œé€šè¿‡ç”Ÿæ—¥ç‰¹è´¨åˆ†ææ€§æ ¼å…³ç³»</p>
                  </div>
                  <span class="method-card__arrow">â†’</span>
                </div>

                <!-- æ¸å˜è‰²åˆ†éš”çº¿ -->
                <div style="height: 1.5px; margin: 0 16px; background: linear-gradient(90deg, transparent, var(--color-primary), #f472b6, transparent);"></div>

                <!-- ç›´è§‰å¡”ç½—æµ‹è¯• -->
                <div class="method-card method-card--compact" data-method="tarot" style="padding: 14px 16px; cursor: pointer;">
                  <div class="method-card__icon" style="font-size: 28px;">ğŸ”®</div>
                  <div class="method-card__content">
                    <h4 class="method-card__title" style="font-size: 15px; margin-bottom: 2px;">ç›´è§‰å¡”ç½—</h4>
                    <p class="method-card__description" style="font-size: 12px; margin-bottom: 0;">å‡­ç›´è§‰ç¿»ç‰Œï¼Œé€šè¿‡å¡ç‰Œç¬¦å·è§£æå…³ç³»</p>
                  </div>
                  <span class="method-card__arrow">â†’</span>
                </div>
              </div>
            </section>

            <!-- æ€§åˆ«é€‰æ‹©å¼¹æ¡† -->
            <div id="genderModal" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999;">
              <div id="genderModalOverlay" style="position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);"></div>
              <div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:85%;max-width:360px;background:#fff;border-radius:20px;padding:30px 20px 32px;box-sizing:border-box;animation:fadeScaleIn 0.3s ease;">
                <h3 style="text-align:center;font-size:18px;font-weight:600;color:var(--color-text-primary);margin-bottom:8px;">è¯·é€‰æ‹©æ‚¨çš„æ€§åˆ«</h3>
                <p style="text-align:center;font-size:13px;color:var(--color-text-tertiary);margin-bottom:24px;">æ€§åˆ«ä¿¡æ¯å°†å¸®åŠ©æ›´å‡†ç¡®è§£è¯»ç»“æœ</p>
                <div style="display:flex;justify-content:center;gap:40px;">
                  <div class="ts-gender-option" data-gender="male" style="display:flex;flex-direction:column;align-items:center;gap:10px;cursor:pointer;padding:16px 24px;border-radius:16px;border:2px solid transparent;transition:all 0.2s;">
                    <div style="width:70px;height:70px;border-radius:50%;background:linear-gradient(135deg,#60a5fa,#3b82f6);display:flex;align-items:center;justify-content:center;font-size:32px;">ğŸ‘¨</div>
                    <span style="font-size:15px;font-weight:500;color:var(--color-text-primary);">ç”·</span>
                  </div>
                  <div class="ts-gender-option" data-gender="female" style="display:flex;flex-direction:column;align-items:center;gap:10px;cursor:pointer;padding:16px 24px;border-radius:16px;border:2px solid transparent;transition:all 0.2s;">
                    <div style="width:70px;height:70px;border-radius:50%;background:linear-gradient(135deg,#f472b6,#ec4899);display:flex;align-items:center;justify-content:center;font-size:32px;">ğŸ‘©</div>
                    <span style="font-size:15px;font-weight:500;color:var(--color-text-primary);">å¥³</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="mt-8 safe-area-bottom"></div>
          </div>
        </main>
      </div>
    `}async init(){try{const e=await is.getList();if(e.code===200&&e.data&&e.data.length>0){const A={};ut.forEach(t=>{A[t.id]=t,A[t.title]=t}),this.menuTypes=[];for(const t of e.data){const r=so[t.name],a=r?A[r]:A[t.name];if(a){const s={...a};s.title=t.name,t.description&&(s.description=t.description),this.menuTypes.push(s)}else this.menuTypes.push({id:t.name,icon:"ğŸ“‚",title:t.name,description:t.description||t.name,popular:!1})}this.renderMenuCards()}else{const A=document.getElementById("xhsMenuListSection");A&&(A.innerHTML='<div style="text-align:center;padding:24px;color:var(--color-text-tertiary);">æš‚æ— æµ‹è¯•èœå•</div>')}}catch(e){console.warn("è·å–å°çº¢ä¹¦èœå•åˆ—è¡¨å¤±è´¥:",e.message);const A=document.getElementById("xhsMenuListSection");A&&(A.innerHTML='<div style="text-align:center;padding:24px;color:var(--color-text-tertiary);">åŠ è½½å¤±è´¥ï¼Œè¯·åˆ·æ–°é‡è¯•</div>')}}renderMenuCards(){const e=document.getElementById("xhsMenuListSection");e&&(e.innerHTML=this.menuTypes.map((A,t)=>`
            <div class="animate-fade-in-up animate-delay-${Math.min((t+1)*100,500)}">
              ${xe(A,{showBadge:!0})}
            </div>
        `).join(""),e.querySelectorAll(".feature-card").forEach(A=>{A.addEventListener("click",()=>{this.selectMenu(A.dataset.type)})}),this.initAnimations())}selectMenu(e){this.selectedType=e,this.selectedQuestionId=null,this.userInputText="",document.querySelectorAll("#xhsMenuListSection .feature-card").forEach(A=>{A.dataset.type===e?A.classList.add("feature-card--selected"):A.classList.remove("feature-card--selected")}),this.loadQuestions(e)}async loadQuestions(e){const A=this.menuTypes.find(r=>r.id===e);if(!A)return;const t=A.title;try{const r=await ss.getByCategory(t);r.code===200&&r.data&&(this.questions=r.data.list||[],this.questionInputEnabled=!!r.data.questionInputEnabled)}catch(r){console.warn("è·å–é¢˜ç›®åˆ—è¡¨å¤±è´¥:",r.message),this.questions=[]}}attachEvents(){this.initAnimations();const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{window.router.back()}),document.querySelectorAll("#xhsMenuListSection .feature-card").forEach(t=>{t.addEventListener("click",()=>{this.selectMenu(t.dataset.type)})}),document.querySelectorAll(".method-card").forEach(t=>{t.addEventListener("click",()=>{const r=t.dataset.method;this.handleMethodSelect(r)})}),document.querySelectorAll(".ts-gender-option").forEach(t=>{t.addEventListener("click",()=>{const r=t.dataset.gender;document.querySelectorAll(".ts-gender-option").forEach(a=>{a.style.borderColor="transparent",a.style.background=""}),t.style.borderColor=r==="male"?"#3b82f6":"#ec4899",t.style.background=r==="male"?"rgba(59,130,246,0.08)":"rgba(236,72,153,0.08)",setTimeout(()=>{this.submitTarotWithGender(r)},500)})});const A=document.getElementById("genderModalOverlay");if(A&&A.addEventListener("click",()=>{this.hideGenderModal()}),!document.querySelector("#ts-gender-modal-style")){const t=document.createElement("style");t.id="ts-gender-modal-style",t.textContent=`
                @keyframes fadeScaleIn {
                    from { opacity: 0; transform: translate(-50%, -50%) scale(0.85); }
                    to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
                }
            `,document.head.appendChild(t)}}async verifyRedeemCode(){if(!this.redeemCode)return{valid:!0};try{return await(await fetch(`${ao}/redeem/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:this.redeemCode})})).json()}catch(e){return console.error("éªŒè¯å…‘æ¢ç å¤±è´¥:",e),{valid:!1,message:"ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•"}}}getSelectedQuestionText(){if(this.userInputText&&this.userInputText.trim())return this.userInputText.trim();if(this.selectedQuestionId){const e=this.questions.find(A=>A.id===this.selectedQuestionId);return e?e.title:""}return""}showGenderModal(){const e=document.getElementById("genderModal");e&&(e.style.display="block")}hideGenderModal(){const e=document.getElementById("genderModal");e&&(e.style.display="none"),document.querySelectorAll(".ts-gender-option").forEach(A=>{A.style.borderColor="transparent",A.style.background=""})}submitTarotWithGender(e){const A=this.menuTypes.find(s=>s.id===this.selectedType),t=this.getSelectedQuestionText(),r=A?A.title:"ç»¼åˆ",a=io[r]||"ganqing";window.appState&&(window.appState.set("tarotQuestion",t),window.appState.set("tarotCategory",r),window.appState.set("tarotGender",e),window.appState.set("selectedQuestion",t),window.appState.set("questionCategory",r),window.appState.set("questionType",a),this.redeemCode&&window.appState.set("redeemCode",this.redeemCode)),this.hideGenderModal(),window.router.navigate(`/test/${this.selectedType}/tarot/pick`)}async handleMethodSelect(e){if(this.isVerifying)return;if(!this.selectedType){window.showToast("è¯·å…ˆé€‰æ‹©ä¸€ä¸ªæµ‹è¯•ä¸»é¢˜","error");return}if(this.redeemCode&&!this.codeVerified){this.isVerifying=!0;const t=document.querySelector(`.method-card[data-method="${e}"]`);t&&(t.style.opacity="0.7",t.style.pointerEvents="none");const r=await this.verifyRedeemCode();if(t&&(t.style.opacity="",t.style.pointerEvents=""),this.isVerifying=!1,!r.valid&&!r.success){window.showToast(r.message||"å…‘æ¢ç æ— æ•ˆ","error");return}window.appState&&window.appState.set("redeemCode",this.redeemCode),this.codeVerified=!0}const A=this.selectedType;if(e==="birthday"){let t=`/test/${A}/birthday`;this.redeemCode&&(t+=`?s=${encodeURIComponent(this.redeemCode)}`),window.router.navigate(t)}else e==="tarot"&&this.showGenderModal()}initAnimations(){const e=document.querySelectorAll(".animate-hidden"),A=new IntersectionObserver(t=>{t.forEach(r=>{r.isIntersecting&&(r.target.classList.remove("animate-hidden"),A.unobserve(r.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});e.forEach(t=>A.observe(t))}}class co{constructor(e){this.mode=e.action||"login",this.form={phone:"",smsCode:"",password:"",confirmPassword:"",inviteCode:""},this.countdown=0,this.countdownTimer=null,this.isSubmitting=!1,this.sessionId=localStorage.getItem("sessionId")||"",this.devCode=""}render(){return`
      <div class="page auth-page">
        ${j({title:this.getPageTitle(),showBack:!0,showHistory:!1,showProfile:!1})}
        
        <main class="page-content">
          <div class="app-container">
            
            <!-- Logo åŒºåŸŸ -->
            <section class="auth-logo-section animate-fade-in-up">
              <div class="auth-logo">âœ¨</div>
              <h2 class="auth-title">${this.getPageTitle()}</h2>
              <p class="auth-subtitle">${this.getSubtitle()}</p>
            </section>

            <!-- è¡¨å•åŒºåŸŸ -->
            <section class="auth-form-section animate-fade-in-up animate-delay-100">
              <div class="glass-card">
                ${this.renderForm()}
              </div>
            </section>

            <!-- åº•éƒ¨åˆ‡æ¢é“¾æ¥ -->
            <section class="auth-footer animate-fade-in-up animate-delay-200">
              ${this.renderFooter()}
            </section>

            <div class="mt-8 safe-area-bottom"></div>
          </div>
        </main>
      </div>
    `}getPageTitle(){switch(this.mode){case"login":return"ç™»å½•";case"register":return"æ³¨å†Œ";case"forgot":return"é‡ç½®å¯†ç ";default:return"ç™»å½•"}}getSubtitle(){switch(this.mode){case"login":return"ä½¿ç”¨æ‰‹æœºå·éªŒè¯ç å¿«é€Ÿç™»å½•";case"register":return"åˆ›å»ºè´¦å·ï¼Œå¼€å§‹ä½ çš„åŒ¹é…ä¹‹æ—…";case"forgot":return"é€šè¿‡çŸ­ä¿¡éªŒè¯ç é‡ç½®å¯†ç ";default:return""}}renderForm(){switch(this.mode){case"login":return this.renderLoginForm();case"register":return this.renderRegisterForm();case"forgot":return this.renderForgotForm();default:return this.renderLoginForm()}}renderLoginForm(){return`
      <form id="auth-form" class="form" autocomplete="off">
        <!-- æ‰‹æœºå· -->
        <div class="input-group mb-4">
          <label class="input-label">æ‰‹æœºå·</label>
          <input type="tel" id="phone" class="input" placeholder="è¯·è¾“å…¥æ‰‹æœºå·" 
                 maxlength="11" autocomplete="off" inputmode="numeric">
        </div>

        <!-- éªŒè¯ç ï¼ˆå¯é€‰ï¼‰ -->
        <div class="input-group mb-4">
          <label class="input-label">éªŒè¯ç </label>
          <div class="sms-code-row">
            <input type="text" id="smsCode" class="input sms-code-input" 
                   placeholder="è¯·è¾“å…¥éªŒè¯ç " maxlength="6" inputmode="numeric" autocomplete="one-time-code">
            <button type="button" id="sendCodeBtn" class="btn btn--primary sms-code-btn" data-action="send-code">
              è·å–éªŒè¯ç 
            </button>
          </div>
        </div>

        <!-- å¼€å‘ç¯å¢ƒéªŒè¯ç æç¤º -->
        <div id="devCodeHint" class="dev-code-hint" style="display:none;"></div>

        <!-- ç™»å½•æŒ‰é’® -->
        <button type="submit" id="submitBtn" class="btn btn--primary btn--full mt-4" disabled>
          ç™»å½•
        </button>
      </form>
    `}renderRegisterForm(){return`
      <form id="auth-form" class="form" autocomplete="off">
        <!-- æ‰‹æœºå· -->
        <div class="input-group mb-4">
          <label class="input-label">æ‰‹æœºå·</label>
          <input type="tel" id="phone" class="input" placeholder="è¯·è¾“å…¥æ‰‹æœºå·" 
                 maxlength="11" autocomplete="off" inputmode="numeric">
        </div>

        <!-- éªŒè¯ç  -->
        <div class="input-group mb-4">
          <label class="input-label">éªŒè¯ç </label>
          <div class="sms-code-row">
            <input type="text" id="smsCode" class="input sms-code-input" 
                   placeholder="è¯·è¾“å…¥éªŒè¯ç " maxlength="6" inputmode="numeric" autocomplete="one-time-code">
            <button type="button" id="sendCodeBtn" class="btn btn--primary sms-code-btn" data-action="send-code">
              è·å–éªŒè¯ç 
            </button>
          </div>
        </div>

        <!-- å¼€å‘ç¯å¢ƒéªŒè¯ç æç¤º -->
        <div id="devCodeHint" class="dev-code-hint" style="display:none;"></div>

        <!-- å¯†ç ï¼ˆå¯é€‰ï¼‰ -->
        <div class="input-group mb-4">
          <label class="input-label">è®¾ç½®å¯†ç  <span class="input-helper-inline">ï¼ˆå¯é€‰ï¼‰</span></label>
          <input type="password" id="password" class="input" placeholder="6ä½ä»¥ä¸Šå¯†ç ï¼ˆå¯é€‰ï¼‰" 
                 maxlength="20" autocomplete="new-password">
        </div>

        <!-- é‚€è¯·ç ï¼ˆå¯é€‰ï¼‰ -->
        <div class="input-group mb-4">
          <label class="input-label">é‚€è¯·ç  <span class="input-helper-inline">ï¼ˆå¯é€‰ï¼‰</span></label>
          <input type="text" id="inviteCode" class="input" placeholder="æœ‰é‚€è¯·ç å¯å¡«å†™" 
                 maxlength="10" autocomplete="off">
        </div>

        <!-- æ³¨å†ŒæŒ‰é’® -->
        <button type="submit" id="submitBtn" class="btn btn--primary btn--full mt-4" disabled>
          æ³¨å†Œ
        </button>
      </form>
    `}renderForgotForm(){return`
      <form id="auth-form" class="form" autocomplete="off">
        <!-- æ‰‹æœºå· -->
        <div class="input-group mb-4">
          <label class="input-label">æ‰‹æœºå·</label>
          <input type="tel" id="phone" class="input" placeholder="è¯·è¾“å…¥æ‰‹æœºå·" 
                 maxlength="11" autocomplete="off" inputmode="numeric">
        </div>

        <!-- éªŒè¯ç  -->
        <div class="input-group mb-4">
          <label class="input-label">éªŒè¯ç </label>
          <div class="sms-code-row">
            <input type="text" id="smsCode" class="input sms-code-input" 
                   placeholder="è¯·è¾“å…¥éªŒè¯ç " maxlength="6" inputmode="numeric" autocomplete="one-time-code">
            <button type="button" id="sendCodeBtn" class="btn btn--primary sms-code-btn" data-action="send-code">
              è·å–éªŒè¯ç 
            </button>
          </div>
        </div>

        <!-- å¼€å‘ç¯å¢ƒéªŒè¯ç æç¤º -->
        <div id="devCodeHint" class="dev-code-hint" style="display:none;"></div>

        <!-- æ–°å¯†ç  -->
        <div class="input-group mb-4">
          <label class="input-label">æ–°å¯†ç </label>
          <input type="password" id="password" class="input" placeholder="è¯·è¾“å…¥æ–°å¯†ç ï¼ˆ6ä½ä»¥ä¸Šï¼‰" 
                 maxlength="20" autocomplete="new-password">
        </div>

        <!-- ç¡®è®¤å¯†ç  -->
        <div class="input-group mb-4">
          <label class="input-label">ç¡®è®¤å¯†ç </label>
          <input type="password" id="confirmPassword" class="input" placeholder="è¯·å†æ¬¡è¾“å…¥æ–°å¯†ç " 
                 maxlength="20" autocomplete="new-password">
        </div>

        <!-- æäº¤æŒ‰é’® -->
        <button type="submit" id="submitBtn" class="btn btn--primary btn--full mt-4" disabled>
          é‡ç½®å¯†ç 
        </button>
      </form>
    `}renderFooter(){return this.mode==="login"?`
        <div class="auth-links">
          <a class="auth-link" data-action="switch-register">æ³¨å†Œæ–°è´¦å·</a>
          <span class="auth-link-divider">|</span>
          <a class="auth-link" data-action="switch-forgot">å¿˜è®°å¯†ç ï¼Ÿ</a>
        </div>
      `:this.mode==="register"?`
        <div class="auth-links">
          <a class="auth-link" data-action="switch-login">å·²æœ‰è´¦å·ï¼Ÿç«‹å³ç™»å½•</a>
        </div>
      `:`
        <div class="auth-links">
          <a class="auth-link" data-action="switch-login">è¿”å›ç™»å½•</a>
        </div>
      `}attachEvents(){const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{this.cleanup(),window.router.back()});const A=document.getElementById("sendCodeBtn");A&&A.addEventListener("click",()=>this.handleSendCode());const t=document.getElementById("auth-form");t&&t.addEventListener("submit",r=>{r.preventDefault(),this.handleSubmit()}),this.bindInputListeners(),document.querySelectorAll("[data-action]").forEach(r=>{r.addEventListener("click",()=>{const a=r.dataset.action;this.handleAction(a)})})}bindInputListeners(){const e=document.getElementById("phone"),A=document.getElementById("smsCode"),t=document.getElementById("password"),r=document.getElementById("confirmPassword"),a=()=>this.validateForm();e?.addEventListener("input",i=>{i.target.value=i.target.value.replace(/\D/g,""),this.form.phone=i.target.value,a()}),A?.addEventListener("input",i=>{i.target.value=i.target.value.replace(/\D/g,""),this.form.smsCode=i.target.value,a()}),t?.addEventListener("input",i=>{this.form.password=i.target.value,a()}),r?.addEventListener("input",i=>{this.form.confirmPassword=i.target.value,a()}),document.getElementById("inviteCode")?.addEventListener("input",i=>{this.form.inviteCode=i.target.value})}validateForm(){const e=document.getElementById("submitBtn");if(!e)return!1;const A=/^1[3-9]\d{9}$/.test(this.form.phone),t=/^\d{6}$/.test(this.form.smsCode);let r=!1;switch(this.mode){case"login":r=A;break;case"register":r=A&&t,this.form.password&&this.form.password.length<6&&(r=!1);break;case"forgot":r=A&&t&&this.form.password.length>=6&&this.form.password===this.form.confirmPassword;break}return e.disabled=!r,r}async handleSendCode(){if(this.countdown>0)return;const e=this.form.phone;if(!/^1[3-9]\d{9}$/.test(e)){window.showToast("è¯·è¾“å…¥æœ‰æ•ˆçš„11ä½æ‰‹æœºå·","error");return}const A=document.getElementById("sendCodeBtn");A&&(A.disabled=!0);try{const t=this.mode==="forgot"?"reset":this.mode,r=await Qe.sendSms(e,t);if(r.code){this.devCode=r.code;const a=document.getElementById("devCodeHint");a&&(a.style.display="block",a.textContent=`ğŸ“± å¼€å‘æ¨¡å¼éªŒè¯ç : ${r.code}`)}window.showToast("éªŒè¯ç å·²å‘é€","success"),this.countdown=60,this.updateCountdown(),this.countdownTimer=setInterval(()=>{this.countdown--,this.updateCountdown(),this.countdown<=0&&(clearInterval(this.countdownTimer),this.countdownTimer=null)},1e3)}catch(t){window.showToast(t.message||"å‘é€å¤±è´¥","error"),A&&(A.disabled=!1)}}updateCountdown(){const e=document.getElementById("sendCodeBtn");e&&(this.countdown>0?(e.disabled=!0,e.textContent=`${this.countdown}ç§’åé‡è¯•`):(e.disabled=!1,e.textContent="è·å–éªŒè¯ç "))}async handleSubmit(){if(this.isSubmitting||!this.validateForm())return;this.isSubmitting=!0;const e=document.getElementById("submitBtn");e&&(e.disabled=!0,e.textContent="å¤„ç†ä¸­...");try{switch(this.mode){case"login":await this.handleLogin();break;case"register":await this.handleRegister();break;case"forgot":await this.handleResetPassword();break}}catch(A){window.showToast(A.message||"æ“ä½œå¤±è´¥","error")}finally{this.isSubmitting=!1,e&&(e.disabled=!1,e.textContent=this.getSubmitText())}}getSubmitText(){switch(this.mode){case"login":return"ç™»å½•";case"register":return"æ³¨å†Œ";case"forgot":return"é‡ç½®å¯†ç ";default:return"æäº¤"}}async handleLogin(){const e=this.form.smsCode||void 0,A=await Qe.quickLogin(this.form.phone,e);if(A.success){const t=A.data?.isNewUser?"æ³¨å†Œå¹¶ç™»å½•æˆåŠŸ":"ç™»å½•æˆåŠŸ";window.showToast(t,"success"),this.cleanup(),this.redirectToOriginalPage()}}async handleRegister(){const e={phone:this.form.phone,smsCode:this.form.smsCode,sessionId:this.sessionId};this.form.password&&(e.password=this.form.password),this.form.inviteCode&&(e.inviteCode=this.form.inviteCode),(await Qe.register(e)).success&&(window.showToast("æ³¨å†ŒæˆåŠŸ","success"),this.cleanup(),this.redirectToOriginalPage())}async handleResetPassword(){(await Qe.resetPassword({phone:this.form.phone,smsCode:this.form.smsCode,newPassword:this.form.password,confirmPassword:this.form.confirmPassword})).success&&(window.showToast("å¯†ç é‡ç½®æˆåŠŸï¼Œè¯·é‡æ–°ç™»å½•","success"),this.switchMode("login"))}redirectToOriginalPage(){const e=sessionStorage.getItem("redirect_after_login");if(e)try{const A=JSON.parse(e);if(sessionStorage.removeItem("redirect_after_login"),A.path){window.router.navigate(A.path);return}if(A.page==="detail"){window.router.navigate(`/test/${A.testTypeId}`);return}}catch{}window.router.navigate("/")}handleAction(e){switch(e){case"switch-login":this.switchMode("login");break;case"switch-register":this.switchMode("register");break;case"switch-forgot":this.switchMode("forgot");break;case"send-code":this.handleSendCode();break}}switchMode(e){this.cleanup(),this.mode=e,this.form={phone:this.form.phone,smsCode:"",password:"",confirmPassword:"",inviteCode:""},this.countdown=0,this.isSubmitting=!1,this.devCode="";const A=document.getElementById("app");if(A){A.innerHTML=this.render(),this.attachEvents();const t=document.getElementById("phone");t&&this.form.phone&&(t.value=this.form.phone)}}cleanup(){this.countdownTimer&&(clearInterval(this.countdownTimer),this.countdownTimer=null)}}const $r=lt(),lo={ç»¼åˆ:"nianyun",å¥åº·ç±»:"jiankang",äº‹ä¸šç±»:"shiye",è´¢è¿ç±»:"caiyun",æ„Ÿæƒ…ç±»:"ganqing",æ„Ÿæƒ…åŒ¹é…:"ganqing",æŠ•èµ„ç±»:"gushi",å­¦ä¸šç±»:"shengxue",å…¶ä»–ç±»:"qita"};class uo{constructor(e){if(this.matchType=FA(e.type),!this.matchType){window.router.navigate("/");return}const A=new URLSearchParams(window.location.search);this.redeemCode=A.get("s"),this.isVerifying=!1,this.codeVerified=!1,this.questions=[],this.questionInputEnabled=!1,this.selectedQuestionId=null,this.userInputText=""}render(){return this.matchType?`
      <div class="page test-select-page">
        ${j({title:this.matchType.title,showBack:!0,showHistory:!1,showProfile:!1})}
        
        <main class="page-content">
          <div class="app-container">
            
            <!-- åŒ¹é…ç±»å‹è¯¦æƒ… -->
            <section class="mt-2 mb-3 animate-fade-in-up">
              ${ji(this.matchType)}
            </section>

            <!-- æµ‹è¯•é¢˜ç›®åˆ—è¡¨ï¼ˆåŠ¨æ€åŠ è½½ï¼‰ -->
            <section class="question-list-section animate-fade-in-up animate-delay-100" id="questionListSection" style="display:none;">
              <div class="glass-card">
                <h3 class="heading-3 mb-4" style="color: var(--color-primary);">ğŸ“‹ é€‰æ‹©æµ‹è¯•é¢˜ç›®</h3>
                <div id="questionListContainer">
                  <div class="loading-text" style="text-align:center;padding:12px;color:var(--color-text-tertiary);">åŠ è½½ä¸­...</div>
                </div>
                <!-- ç”¨æˆ·è¾“å…¥æ¡†ï¼ˆç”±ç³»ç»Ÿé…ç½®æ§åˆ¶ï¼‰ -->
               <div id="questionInputContainer" style="display:none;margin-top:20px;">
                  <div style="display:flex;align-items:center;gap:6px;margin-bottom:10px;">
                    <span style="font-size:16px;">ğŸ’¡</span>
                    <span style="font-size:13px;color:var(--color-primary);font-weight:500;">æ¯æ¬¡é—®ä¸€ä¸ªå‡†ç¡®çš„é—®é¢˜è§£ç­”æ›´å‡†ç¡®</span>
                  </div>
                  <div style="background:#ffffff;border-radius:12px;">
                    <input type="text" id="userQuestionInput" placeholder="æˆ–è€…ï¼Œè¾“å…¥ä½ æƒ³é—®çš„é—®é¢˜..." style="width:100%;padding:14px 16px;border:none;background:transparent;font-size:14px;color:var(--color-text-primary);outline:none;box-sizing:border-box;border-radius:12px;" />
                  </div>
                </div>
              </div>
            </section>

            <!-- æµ‹è¯•æ–¹å¼é€‰æ‹©ï¼ˆåˆå¹¶ä¸ºä¸€ä¸ªå¡ç‰‡ï¼‰ -->
            <section class="test-method-section animate-fade-in-up animate-delay-200 mt-3">
              <h3 class="heading-3 mb-3 text-center">é€‰æ‹©æµ‹è¯•æ–¹å¼</h3>
              
              <div class="glass-card" style="padding: 0; overflow: hidden;">
                <!-- ç”Ÿæ—¥åŒ¹é… -->
                <div class="method-card method-card--compact" data-method="birthday" style="padding: 14px 16px; cursor: pointer;">
                  <div class="method-card__icon" style="font-size: 28px;">ğŸ‚</div>
                  <div class="method-card__content">
                    <h4 class="method-card__title" style="font-size: 15px; margin-bottom: 2px;">ç”Ÿæ—¥åŒ¹é…</h4>
                    <p class="method-card__description" style="font-size: 12px; margin-bottom: 0;">è¾“å…¥åŒæ–¹ç”Ÿæ—¥ï¼Œé€šè¿‡ç”Ÿæ—¥ç‰¹è´¨åˆ†ææ€§æ ¼å…³ç³»</p>
                  </div>
                  <span class="method-card__arrow">â†’</span>
                </div>

                <!-- æ¸å˜è‰²åˆ†éš”çº¿ -->
                <div style="height: 1.5px; margin: 0 16px; background: linear-gradient(90deg, transparent, var(--color-primary), #f472b6, transparent);"></div>

                <!-- ç›´è§‰å¡”ç½—æµ‹è¯• -->
                <div class="method-card method-card--compact" data-method="tarot" style="padding: 14px 16px; cursor: pointer;">
                  <div class="method-card__icon" style="font-size: 28px;">ğŸƒ</div>
                  <div class="method-card__content">
                    <h4 class="method-card__title" style="font-size: 15px; margin-bottom: 2px;">ç›´è§‰å¡”ç½—</h4>
                    <p class="method-card__description" style="font-size: 12px; margin-bottom: 0;">å‡­ç›´è§‰ç¿»ç‰Œï¼Œé€šè¿‡å¡ç‰Œç¬¦å·è§£æå…³ç³»</p>
                  </div>
                  <span class="method-card__arrow">â†’</span>
                </div>
              </div>
            </section>

            <!-- è¯´æ˜æç¤º -->
            <section class="tips-section mt-3 animate-fade-in-up animate-delay-300">
              <div class="glass-card glass-card--light">
                <div class="tips-header">
                  <span>ğŸ’¡</span>
                  <span class="small-text">é€‰æ‹©æç¤º</span>
                </div>
                <ul class="tips-list">
                  <li>å¦‚æœçŸ¥é“åŒæ–¹å‡†ç¡®çš„å‡ºç”Ÿæ—¥æœŸï¼Œæ¨èä½¿ç”¨<strong>ç”Ÿæ—¥åŒ¹é…</strong>ï¼Œç»“æœæ›´ç²¾å‡†</li>
                  <li>å¦‚æœä¸æ¸…æ¥šå¯¹æ–¹ç”Ÿæ—¥ï¼Œå¯ä»¥ä½¿ç”¨<strong>ç›´è§‰å¡”ç½—</strong>ï¼Œå‡­ç›´è§‰æ„Ÿåº”</li>
                  <li>ä¸¤ç§æ–¹å¼éƒ½æ˜¯è¶£å‘³æ€§æ ¼æµ‹è¯•ï¼Œä»…ä¾›å¨±ä¹å‚è€ƒ</li>
                </ul>
              </div>
            </section>

            <!-- æ€§åˆ«é€‰æ‹©å¼¹æ¡† -->
            <div id="genderModal" style="display:none;position:fixed;top:0;left:0;width:100%;height:100%;z-index:9999;">
              <div id="genderModalOverlay" style="position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);"></div>
              <div style="position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:85%;max-width:360px;background:#fff;border-radius:20px;padding:30px 20px 32px;box-sizing:border-box;animation:fadeScaleIn 0.3s ease;">
                <h3 style="text-align:center;font-size:18px;font-weight:600;color:var(--color-text-primary);margin-bottom:8px;">è¯·é€‰æ‹©æ‚¨çš„æ€§åˆ«</h3>
                <p style="text-align:center;font-size:13px;color:var(--color-text-tertiary);margin-bottom:24px;">æ€§åˆ«ä¿¡æ¯å°†å¸®åŠ©æ›´å‡†ç¡®è§£è¯»ç»“æœ</p>
                <div style="display:flex;justify-content:center;gap:40px;">
                  <div class="ts-gender-option" data-gender="male" style="display:flex;flex-direction:column;align-items:center;gap:10px;cursor:pointer;padding:16px 24px;border-radius:16px;border:2px solid transparent;transition:all 0.2s;">
                    <div style="width:70px;height:70px;border-radius:50%;background:linear-gradient(135deg,#60a5fa,#3b82f6);display:flex;align-items:center;justify-content:center;font-size:32px;">ğŸ‘¨</div>
                    <span style="font-size:15px;font-weight:500;color:var(--color-text-primary);">ç”·</span>
                  </div>
                  <div class="ts-gender-option" data-gender="female" style="display:flex;flex-direction:column;align-items:center;gap:10px;cursor:pointer;padding:16px 24px;border-radius:16px;border:2px solid transparent;transition:all 0.2s;">
                    <div style="width:70px;height:70px;border-radius:50%;background:linear-gradient(135deg,#f472b6,#ec4899);display:flex;align-items:center;justify-content:center;font-size:32px;">ğŸ‘©</div>
                    <span style="font-size:15px;font-weight:500;color:var(--color-text-primary);">å¥³</span>
                  </div>
                </div>
              </div>
            </div>

            <div class="mt-8 safe-area-bottom"></div>
          </div>
        </main>
      </div>
    `:""}attachEvents(){const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{window.router.back()}),document.querySelectorAll(".method-card").forEach(t=>{t.addEventListener("click",()=>{const r=t.dataset.method;this.handleMethodSelect(r)})}),document.querySelectorAll(".ts-gender-option").forEach(t=>{t.addEventListener("click",()=>{const r=t.dataset.gender;document.querySelectorAll(".ts-gender-option").forEach(a=>{a.style.borderColor="transparent",a.style.background=""}),t.style.borderColor=r==="male"?"#3b82f6":"#ec4899",t.style.background=r==="male"?"rgba(59,130,246,0.08)":"rgba(236,72,153,0.08)",setTimeout(()=>{this.submitTarotWithGender(r)},500)})});const A=document.getElementById("genderModalOverlay");if(A&&A.addEventListener("click",()=>{this.hideGenderModal()}),!document.querySelector("#ts-gender-modal-style")){const t=document.createElement("style");t.id="ts-gender-modal-style",t.textContent=`
                @keyframes fadeScaleIn {
                    from { opacity: 0; transform: translate(-50%, -50%) scale(0.85); }
                    to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
                }
            `,document.head.appendChild(t)}}async init(){if(this.matchType)try{const e=this.matchType.title,A=await ss.getByCategory(e);A.code===200&&A.data&&(this.questions=A.data.list||[],this.questionInputEnabled=!!A.data.questionInputEnabled,this.renderQuestionList())}catch(e){console.warn("è·å–é¢˜ç›®åˆ—è¡¨å¤±è´¥:",e.message)}}renderQuestionList(){const e=document.getElementById("questionListSection"),A=document.getElementById("questionListContainer"),t=document.getElementById("questionInputContainer");if(!(!e||!A)){if(this.questions.length===0&&!this.questionInputEnabled){e.style.display="none";return}if(e.style.display="block",this.questions.length>0?(A.innerHTML=`
                <div class="question-radio-list">
                    ${this.questions.map((r,a)=>`
                        <label class="question-radio-item glass-card glass-card--light" style="display:flex;align-items:center;gap:12px;padding:14px 16px;margin-bottom:8px;cursor:pointer;border-radius:12px;transition:all 0.2s;">
                            <input type="radio" name="questionSelect" value="${r.id}" style="accent-color:var(--color-primary);width:18px;height:18px;flex-shrink:0;" />
                            <span style="font-size:15px;color:var(--color-text-primary);">${r.title}</span>
                        </label>
                    `).join("")}
                </div>
            `,A.querySelectorAll('input[name="questionSelect"]').forEach(r=>{r.addEventListener("change",a=>{this.selectedQuestionId=parseInt(a.target.value);const s=document.getElementById("userQuestionInput");s&&(s.value="",this.userInputText=""),A.querySelectorAll(".question-radio-item").forEach(o=>{o.style.background="",o.style.borderColor=""});const i=a.target.closest(".question-radio-item");i&&(i.style.background="rgba(var(--color-primary-rgb, 124,58,237), 0.08)",i.style.borderColor="var(--color-primary)")})})):A.innerHTML="",t&&(t.style.display=this.questionInputEnabled?"block":"none",this.questionInputEnabled)){const r=document.getElementById("userQuestionInput");r&&(r.addEventListener("focus",()=>{this.selectedQuestionId=null,A.querySelectorAll('input[name="questionSelect"]').forEach(a=>{a.checked=!1}),A.querySelectorAll(".question-radio-item").forEach(a=>{a.style.background="",a.style.borderColor=""})}),r.addEventListener("input",a=>{this.userInputText=a.target.value}))}}}async verifyRedeemCode(){if(!this.redeemCode)return{valid:!0};try{return await(await fetch(`${$r}/redeem/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:this.redeemCode})})).json()}catch(e){return console.error("éªŒè¯å…‘æ¢ç å¤±è´¥:",e),{valid:!1,message:"ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•"}}}async useRedeemCode(){if(!this.redeemCode)return!0;try{return(await(await fetch(`${$r}/redeem/use`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:this.redeemCode})})).json()).success}catch(e){return console.error("ä½¿ç”¨å…‘æ¢ç å¤±è´¥:",e),!1}}showToast(e,A="error"){const t=document.querySelector(".redeem-toast");t&&t.remove();const r=document.createElement("div");if(r.className=`redeem-toast redeem-toast--${A}`,r.innerHTML=`
            <span class="redeem-toast__icon">${A==="error"?"âŒ":"âœ…"}</span>
            <span class="redeem-toast__message">${e}</span>
        `,r.style.cssText=`
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: ${A==="error"?"rgba(220, 38, 38, 0.95)":"rgba(34, 197, 94, 0.95)"};
            color: white;
            padding: 16px 24px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 16px;
            font-weight: 500;
            z-index: 10000;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            animation: toastIn 0.3s ease;
        `,!document.querySelector("#redeem-toast-style")){const a=document.createElement("style");a.id="redeem-toast-style",a.textContent=`
                @keyframes toastIn {
                    from { opacity: 0; transform: translate(-50%, -50%) scale(0.9); }
                    to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
                }
                @keyframes toastOut {
                    from { opacity: 1; transform: translate(-50%, -50%) scale(1); }
                    to { opacity: 0; transform: translate(-50%, -50%) scale(0.9); }
                }
            `,document.head.appendChild(a)}document.body.appendChild(r),setTimeout(()=>{r.style.animation="toastOut 0.3s ease forwards",setTimeout(()=>r.remove(),300)},2500)}showGenderModal(){const e=document.getElementById("genderModal");e&&(e.style.display="block")}hideGenderModal(){const e=document.getElementById("genderModal");e&&(e.style.display="none"),document.querySelectorAll(".ts-gender-option").forEach(A=>{A.style.borderColor="transparent",A.style.background=""})}getSelectedQuestionText(){if(this.userInputText&&this.userInputText.trim())return this.userInputText.trim();if(this.selectedQuestionId){const e=this.questions.find(A=>A.id===this.selectedQuestionId);return e?e.title:""}return""}submitTarotWithGender(e){const A=this.getSelectedQuestionText(),t=this.matchType.id,r=this.matchType.title||"ç»¼åˆ",a=lo[r]||"ganqing";window.appState&&(window.appState.set("tarotQuestion",A),window.appState.set("tarotCategory",r),window.appState.set("tarotGender",e),window.appState.set("selectedQuestion",A),window.appState.set("questionCategory",r),window.appState.set("questionType",a));const s=new Date,i=`${s.getFullYear()}-${String(s.getMonth()+1).padStart(2,"0")}-${String(s.getDate()).padStart(2,"0")} ${String(s.getHours()).padStart(2,"0")}:${String(s.getMinutes()).padStart(2,"0")}:${String(s.getSeconds()).padStart(2,"0")}`;console.log(`[${i}] æäº¤: é—®é¢˜=${A}, åˆ†ç±»=${r}, è§„åˆ™ç±»å‹=${a}, æ€§åˆ«=${e}`),window.router.navigate(`/test/${t}/tarot/pick`)}async handleMethodSelect(e){if(this.isVerifying)return;const A=this.matchType.id,t=!!this.selectedQuestionId,r=!!(this.userInputText&&this.userInputText.trim());if(!t&&!r){this.showToast("è¯·é€‰æ‹©æˆ–è¾“å…¥ä½ æƒ³é—®çš„é—®é¢˜","error");const a=document.getElementById("questionListSection");a&&a.scrollIntoView({behavior:"smooth",block:"center"});return}if(this.redeemCode&&!this.codeVerified){this.isVerifying=!0;const a=document.querySelector(`.method-card[data-method="${e}"]`);a&&(a.style.opacity="0.7",a.style.pointerEvents="none");const s=await this.verifyRedeemCode();if(a&&(a.style.opacity="",a.style.pointerEvents=""),this.isVerifying=!1,!s.valid&&!s.success){this.showToast(s.message||"å…‘æ¢ç æ— æ•ˆ","error");return}window.appState.set("redeemCode",this.redeemCode),this.codeVerified=!0}if(this.selectedQuestionId){const a=this.questions.find(s=>s.id===this.selectedQuestionId);window.appState.set("selectedQuestion",a||null)}this.userInputText&&window.appState.set("userQuestionInput",this.userInputText),e==="birthday"?window.router.navigate(`/test/${A}/birthday`):e==="tarot"&&this.showGenderModal()}}const dn=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,41696,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,41680,53584,62034,54560],Vr=["æ­£","äºŒ","ä¸‰","å››","äº”","å…­","ä¸ƒ","å…«","ä¹","å","å†¬","è…Š"],Yr=["åˆä¸€","åˆäºŒ","åˆä¸‰","åˆå››","åˆäº”","åˆå…­","åˆä¸ƒ","åˆå…«","åˆä¹","åˆå","åä¸€","åäºŒ","åä¸‰","åå››","åäº”","åå…­","åä¸ƒ","åå…«","åä¹","äºŒå","å»¿ä¸€","å»¿äºŒ","å»¿ä¸‰","å»¿å››","å»¿äº”","å»¿å…­","å»¿ä¸ƒ","å»¿å…«","å»¿ä¹","ä¸‰å"],go=["ç”²","ä¹™","ä¸™","ä¸","æˆŠ","å·±","åºš","è¾›","å£¬","ç™¸"],Bo=["å­","ä¸‘","å¯…","å¯","è¾°","å·³","åˆ","æœª","ç”³","é…‰","æˆŒ","äº¥"],fo=["é¼ ","ç‰›","è™","å…”","é¾™","è›‡","é©¬","ç¾Š","çŒ´","é¸¡","ç‹—","çŒª"];function ho(n){let e=348;for(let A=32768;A>8;A>>=1)e+=dn[n-1900]&A?1:0;return e+ls(n)}function ls(n){return ds(n)?dn[n-1900]&65536?30:29:0}function ds(n){return dn[n-1900]&15}function po(n,e){return dn[n-1900]&65536>>e?30:29}function mo(n,e,A){if(n<1900||n>2100)return null;const t=new Date(1900,0,31),r=new Date(n,e-1,A);let a=Math.floor((r-t)/864e5),s=1900,i=0;for(s=1900;s<2101&&a>0;s++)i=ho(s),a-=i;a<0&&(a+=i,s--);const o=ds(s);let c=!1,l=1;for(l=1;l<13&&a>0;l++)o>0&&l===o+1&&!c?(--l,c=!0,i=ls(s)):i=po(s,l),c&&l===o+1&&(c=!1),a-=i;a===0&&o>0&&l===o+1&&(c?c=!1:(c=!0,--l)),a<0&&(a+=i,--l);const g=a+1,B=go[(s-4)%10]+Bo[(s-4)%12],w=fo[(s-4)%12];return{lunarYear:s,lunarMonth:l,lunarDay:g,isLeap:c,ganzhiYear:B,animal:w,yearStr:`${s}å¹´`,monthStr:`${c?"é—°":""}${Vr[l-1]}æœˆ`,dayStr:Yr[g-1],fullStr:`å†œå†${s}å¹´ ${B}å¹´ï¼ˆ${w}å¹´ï¼‰ ${c?"é—°":""}${Vr[l-1]}æœˆ${Yr[g-1]}`}}function Me(n){if(!n)return"";const[e,A,t]=n.split("-").map(Number),r=mo(e,A,t);return r?r.fullStr:"æ—¥æœŸè¶…å‡ºèŒƒå›´"}var In=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Ue={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console<"u"&&console.warn(n)},getWeek:function(n){var e=new Date(n.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var A=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-A.getTime())/864e5-3+(A.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},at={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var e=n%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},pA=function(n,e){return e===void 0&&(e=2),("000"+n).slice(e*-1)},UA=function(n){return n===!0?1:0};function qr(n,e){var A;return function(){var t=this,r=arguments;clearTimeout(A),A=setTimeout(function(){return n.apply(t,r)},e)}}var xn=function(n){return n instanceof Array?n:[n]};function fA(n,e,A){if(A===!0)return n.classList.add(e);n.classList.remove(e)}function P(n,e,A){var t=window.document.createElement(n);return e=e||"",A=A||"",t.className=e,A!==void 0&&(t.textContent=A),t}function vt(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function us(n,e){if(e(n))return n;if(n.parentNode)return us(n.parentNode,e)}function Qt(n,e){var A=P("div","numInputWrapper"),t=P("input","numInput "+n),r=P("span","arrowUp"),a=P("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?t.type="number":(t.type="text",t.pattern="\\d*"),e!==void 0)for(var s in e)t.setAttribute(s,e[s]);return A.appendChild(t),A.appendChild(r),A.appendChild(a),A}function vA(n){try{if(typeof n.composedPath=="function"){var e=n.composedPath();return e[0]}return n.target}catch{return n.target}}var Hn=function(){},Wt=function(n,e,A){return A.months[e?"shorthand":"longhand"][n]},wo={D:Hn,F:function(n,e,A){n.setMonth(A.months.longhand.indexOf(e))},G:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},H:function(n,e){n.setHours(parseFloat(e))},J:function(n,e){n.setDate(parseFloat(e))},K:function(n,e,A){n.setHours(n.getHours()%12+12*UA(new RegExp(A.amPM[1],"i").test(e)))},M:function(n,e,A){n.setMonth(A.months.shorthand.indexOf(e))},S:function(n,e){n.setSeconds(parseFloat(e))},U:function(n,e){return new Date(parseFloat(e)*1e3)},W:function(n,e,A){var t=parseInt(e),r=new Date(n.getFullYear(),0,2+(t-1)*7,0,0,0,0);return r.setDate(r.getDate()-r.getDay()+A.firstDayOfWeek),r},Y:function(n,e){n.setFullYear(parseFloat(e))},Z:function(n,e){return new Date(e)},d:function(n,e){n.setDate(parseFloat(e))},h:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},i:function(n,e){n.setMinutes(parseFloat(e))},j:function(n,e){n.setDate(parseFloat(e))},l:Hn,m:function(n,e){n.setMonth(parseFloat(e)-1)},n:function(n,e){n.setMonth(parseFloat(e)-1)},s:function(n,e){n.setSeconds(parseFloat(e))},u:function(n,e){return new Date(parseFloat(e))},w:Hn,y:function(n,e){n.setFullYear(2e3+parseFloat(e))}},ie={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},je={Z:function(n){return n.toISOString()},D:function(n,e,A){return e.weekdays.shorthand[je.w(n,e,A)]},F:function(n,e,A){return Wt(je.n(n,e,A)-1,!1,e)},G:function(n,e,A){return pA(je.h(n,e,A))},H:function(n){return pA(n.getHours())},J:function(n,e){return e.ordinal!==void 0?n.getDate()+e.ordinal(n.getDate()):n.getDate()},K:function(n,e){return e.amPM[UA(n.getHours()>11)]},M:function(n,e){return Wt(n.getMonth(),!0,e)},S:function(n){return pA(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,e,A){return A.getWeek(n)},Y:function(n){return pA(n.getFullYear(),4)},d:function(n){return pA(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return pA(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,e){return e.weekdays.longhand[n.getDay()]},m:function(n){return pA(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}},gs=function(n){var e=n.config,A=e===void 0?Ue:e,t=n.l10n,r=t===void 0?at:t,a=n.isMobile,s=a===void 0?!1:a;return function(i,o,c){var l=c||r;return A.formatDate!==void 0&&!s?A.formatDate(i,o,l):o.split("").map(function(g,B,w){return je[g]&&w[B-1]!=="\\"?je[g](i,l,A):g!=="\\"?g:""}).join("")}},nr=function(n){var e=n.config,A=e===void 0?Ue:e,t=n.l10n,r=t===void 0?at:t;return function(a,s,i,o){if(!(a!==0&&!a)){var c=o||r,l,g=a;if(a instanceof Date)l=new Date(a.getTime());else if(typeof a!="string"&&a.toFixed!==void 0)l=new Date(a);else if(typeof a=="string"){var B=s||(A||Ue).dateFormat,w=String(a).trim();if(w==="today")l=new Date,i=!0;else if(A&&A.parseDate)l=A.parseDate(a,B);else if(/Z$/.test(w)||/GMT$/.test(w))l=new Date(a);else{for(var m=void 0,h=[],E=0,Q=0,y="";E<B.length;E++){var L=B[E],S=L==="\\",H=B[E-1]==="\\"||S;if(ie[L]&&!H){y+=ie[L];var C=new RegExp(y).exec(a);C&&(m=!0)&&h[L!=="Y"?"push":"unshift"]({fn:wo[L],val:C[++Q]})}else S||(y+=".")}l=!A||!A.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),h.forEach(function(K){var k=K.fn,D=K.val;return l=k(l,D,c)||l}),l=m?l:void 0}}if(!(l instanceof Date&&!isNaN(l.getTime()))){A.errorHandler(new Error("Invalid date provided: "+g));return}return i===!0&&l.setHours(0,0,0,0),l}}};function QA(n,e,A){return A===void 0&&(A=!0),A!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):n.getTime()-e.getTime()}var Co=function(n,e,A){return n>Math.min(e,A)&&n<Math.max(e,A)},Sn=function(n,e,A){return n*3600+e*60+A},vo=function(n){var e=Math.floor(n/3600),A=(n-e*3600)/60;return[e,A,n-e*3600-A*60]},Qo={DAY:864e5};function Dn(n){var e=n.defaultHour,A=n.defaultMinute,t=n.defaultSeconds;if(n.minDate!==void 0){var r=n.minDate.getHours(),a=n.minDate.getMinutes(),s=n.minDate.getSeconds();e<r&&(e=r),e===r&&A<a&&(A=a),e===r&&A===a&&t<s&&(t=n.minDate.getSeconds())}if(n.maxDate!==void 0){var i=n.maxDate.getHours(),o=n.maxDate.getMinutes();e=Math.min(e,i),e===i&&(A=Math.min(o,A)),e===i&&A===o&&(t=n.maxDate.getSeconds())}return{hours:e,minutes:A,seconds:t}}typeof Object.assign!="function"&&(Object.assign=function(n){for(var e=[],A=1;A<arguments.length;A++)e[A-1]=arguments[A];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var t=function(i){i&&Object.keys(i).forEach(function(o){return n[o]=i[o]})},r=0,a=e;r<a.length;r++){var s=a[r];t(s)}return n});var uA=function(){return uA=Object.assign||function(n){for(var e,A=1,t=arguments.length;A<t;A++){e=arguments[A];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},uA.apply(this,arguments)},Jr=function(){for(var n=0,e=0,A=arguments.length;e<A;e++)n+=arguments[e].length;for(var t=Array(n),r=0,e=0;e<A;e++)for(var a=arguments[e],s=0,i=a.length;s<i;s++,r++)t[r]=a[s];return t},yo=300;function Fo(n,e){var A={config:uA(uA({},Ue),AA.defaultConfig),l10n:at};A.parseDate=nr({config:A.config,l10n:A.l10n}),A._handlers=[],A.pluginElements=[],A.loadedPlugins=[],A._bind=h,A._setHoursFromDate=B,A._positionCalendar=mt,A.changeMonth=SA,A.changeYear=_A,A.clear=GA,A.close=DA,A.onMouseOver=pt,A._createElement=P,A.createDay=C,A.destroy=$A,A.isEnabled=ae,A.jumpToDate=y,A.updateValue=VA,A.open=yi,A.redraw=Or,A.set=Ei,A.setDate=Ii,A.toggle=Di;function t(){A.utils={getDaysInMonth:function(d,u){return d===void 0&&(d=A.currentMonth),u===void 0&&(u=A.currentYear),d===1&&(u%4===0&&u%100!==0||u%400===0)?29:A.l10n.daysInMonth[d]}}}function r(){A.element=A.input=n,A.isOpen=!1,Fi(),_r(),Hi(),xi(),t(),A.isMobile||H(),Q(),(A.selectedDates.length||A.config.noCalendar)&&(A.config.enableTime&&B(A.config.noCalendar?A.latestSelectedDateObj:void 0),VA(!1)),i();var d=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!A.isMobile&&d&&mt(),W("onReady")}function a(){var d;return((d=A.calendarContainer)===null||d===void 0?void 0:d.getRootNode()).activeElement||document.activeElement}function s(d){return d.bind(A)}function i(){var d=A.config;d.weekNumbers===!1&&d.showMonths===1||d.noCalendar!==!0&&window.requestAnimationFrame(function(){if(A.calendarContainer!==void 0&&(A.calendarContainer.style.visibility="hidden",A.calendarContainer.style.display="block"),A.daysContainer!==void 0){var u=(A.days.offsetWidth+1)*d.showMonths;A.daysContainer.style.width=u+"px",A.calendarContainer.style.width=u+(A.weekWrapper!==void 0?A.weekWrapper.offsetWidth:0)+"px",A.calendarContainer.style.removeProperty("visibility"),A.calendarContainer.style.removeProperty("display")}})}function o(d){if(A.selectedDates.length===0){var u=A.config.minDate===void 0||QA(new Date,A.config.minDate)>=0?new Date:new Date(A.config.minDate.getTime()),f=Dn(A.config);u.setHours(f.hours,f.minutes,f.seconds,u.getMilliseconds()),A.selectedDates=[u],A.latestSelectedDateObj=u}d!==void 0&&d.type!=="blur"&&Mi(d);var p=A._input.value;g(),VA(),A._input.value!==p&&A._debouncedChange()}function c(d,u){return d%12+12*UA(u===A.l10n.amPM[1])}function l(d){switch(d%24){case 0:case 12:return 12;default:return d%12}}function g(){if(!(A.hourElement===void 0||A.minuteElement===void 0)){var d=(parseInt(A.hourElement.value.slice(-2),10)||0)%24,u=(parseInt(A.minuteElement.value,10)||0)%60,f=A.secondElement!==void 0?(parseInt(A.secondElement.value,10)||0)%60:0;A.amPM!==void 0&&(d=c(d,A.amPM.textContent));var p=A.config.minTime!==void 0||A.config.minDate&&A.minDateHasTime&&A.latestSelectedDateObj&&QA(A.latestSelectedDateObj,A.config.minDate,!0)===0,v=A.config.maxTime!==void 0||A.config.maxDate&&A.maxDateHasTime&&A.latestSelectedDateObj&&QA(A.latestSelectedDateObj,A.config.maxDate,!0)===0;if(A.config.maxTime!==void 0&&A.config.minTime!==void 0&&A.config.minTime>A.config.maxTime){var U=Sn(A.config.minTime.getHours(),A.config.minTime.getMinutes(),A.config.minTime.getSeconds()),_=Sn(A.config.maxTime.getHours(),A.config.maxTime.getMinutes(),A.config.maxTime.getSeconds()),x=Sn(d,u,f);if(x>_&&x<U){var O=vo(U);d=O[0],u=O[1],f=O[2]}}else{if(v){var I=A.config.maxTime!==void 0?A.config.maxTime:A.config.maxDate;d=Math.min(d,I.getHours()),d===I.getHours()&&(u=Math.min(u,I.getMinutes())),u===I.getMinutes()&&(f=Math.min(f,I.getSeconds()))}if(p){var M=A.config.minTime!==void 0?A.config.minTime:A.config.minDate;d=Math.max(d,M.getHours()),d===M.getHours()&&u<M.getMinutes()&&(u=M.getMinutes()),u===M.getMinutes()&&(f=Math.max(f,M.getSeconds()))}}w(d,u,f)}}function B(d){var u=d||A.latestSelectedDateObj;u&&u instanceof Date&&w(u.getHours(),u.getMinutes(),u.getSeconds())}function w(d,u,f){A.latestSelectedDateObj!==void 0&&A.latestSelectedDateObj.setHours(d%24,u,f||0,0),!(!A.hourElement||!A.minuteElement||A.isMobile)&&(A.hourElement.value=pA(A.config.time_24hr?d:(12+d)%12+12*UA(d%12===0)),A.minuteElement.value=pA(u),A.amPM!==void 0&&(A.amPM.textContent=A.l10n.amPM[UA(d>=12)]),A.secondElement!==void 0&&(A.secondElement.value=pA(f)))}function m(d){var u=vA(d),f=parseInt(u.value)+(d.delta||0);(f/1e3>1||d.key==="Enter"&&!/[^\d]/.test(f.toString()))&&_A(f)}function h(d,u,f,p){if(u instanceof Array)return u.forEach(function(v){return h(d,v,f,p)});if(d instanceof Array)return d.forEach(function(v){return h(v,u,f,p)});d.addEventListener(u,f,p),A._handlers.push({remove:function(){return d.removeEventListener(u,f,p)}})}function E(){W("onChange")}function Q(){if(A.config.wrap&&["open","close","toggle","clear"].forEach(function(f){Array.prototype.forEach.call(A.element.querySelectorAll("[data-"+f+"]"),function(p){return h(p,"click",A[f])})}),A.isMobile){Si();return}var d=qr(Qi,50);if(A._debouncedChange=qr(E,yo),A.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&h(A.daysContainer,"mouseover",function(f){A.config.mode==="range"&&pt(vA(f))}),h(A._input,"keydown",Mr),A.calendarContainer!==void 0&&h(A.calendarContainer,"keydown",Mr),!A.config.inline&&!A.config.static&&h(window,"resize",d),window.ontouchstart!==void 0?h(window.document,"touchstart",kA):h(window.document,"mousedown",kA),h(window.document,"focus",kA,{capture:!0}),A.config.clickOpens===!0&&(h(A._input,"focus",A.open),h(A._input,"click",A.open)),A.daysContainer!==void 0&&(h(A.monthNav,"click",Ti),h(A.monthNav,["keyup","increment"],m),h(A.daysContainer,"click",Rr)),A.timeContainer!==void 0&&A.minuteElement!==void 0&&A.hourElement!==void 0){var u=function(f){return vA(f).select()};h(A.timeContainer,["increment"],o),h(A.timeContainer,"blur",o,{capture:!0}),h(A.timeContainer,"click",L),h([A.hourElement,A.minuteElement],["focus","click"],u),A.secondElement!==void 0&&h(A.secondElement,"focus",function(){return A.secondElement&&A.secondElement.select()}),A.amPM!==void 0&&h(A.amPM,"click",function(f){o(f)})}A.config.allowInput&&h(A._input,"blur",vi)}function y(d,u){var f=d!==void 0?A.parseDate(d):A.latestSelectedDateObj||(A.config.minDate&&A.config.minDate>A.now?A.config.minDate:A.config.maxDate&&A.config.maxDate<A.now?A.config.maxDate:A.now),p=A.currentYear,v=A.currentMonth;try{f!==void 0&&(A.currentYear=f.getFullYear(),A.currentMonth=f.getMonth())}catch(U){U.message="Invalid date supplied: "+f,A.config.errorHandler(U)}u&&A.currentYear!==p&&(W("onYearChange"),N()),u&&(A.currentYear!==p||A.currentMonth!==v)&&W("onMonthChange"),A.redraw()}function L(d){var u=vA(d);~u.className.indexOf("arrow")&&S(d,u.classList.contains("arrowUp")?1:-1)}function S(d,u,f){var p=d&&vA(d),v=f||p&&p.parentNode&&p.parentNode.firstChild,U=yn("increment");U.delta=u,v&&v.dispatchEvent(U)}function H(){var d=window.document.createDocumentFragment();if(A.calendarContainer=P("div","flatpickr-calendar"),A.calendarContainer.tabIndex=-1,!A.config.noCalendar){if(d.appendChild(cA()),A.innerContainer=P("div","flatpickr-innerContainer"),A.config.weekNumbers){var u=KA(),f=u.weekWrapper,p=u.weekNumbers;A.innerContainer.appendChild(f),A.weekNumbers=p,A.weekWrapper=f}A.rContainer=P("div","flatpickr-rContainer"),A.rContainer.appendChild(MA()),A.daysContainer||(A.daysContainer=P("div","flatpickr-days"),A.daysContainer.tabIndex=-1),rA(),A.rContainer.appendChild(A.daysContainer),A.innerContainer.appendChild(A.rContainer),d.appendChild(A.innerContainer)}A.config.enableTime&&d.appendChild(lA()),fA(A.calendarContainer,"rangeMode",A.config.mode==="range"),fA(A.calendarContainer,"animate",A.config.animate===!0),fA(A.calendarContainer,"multiMonth",A.config.showMonths>1),A.calendarContainer.appendChild(d);var v=A.config.appendTo!==void 0&&A.config.appendTo.nodeType!==void 0;if((A.config.inline||A.config.static)&&(A.calendarContainer.classList.add(A.config.inline?"inline":"static"),A.config.inline&&(!v&&A.element.parentNode?A.element.parentNode.insertBefore(A.calendarContainer,A._input.nextSibling):A.config.appendTo!==void 0&&A.config.appendTo.appendChild(A.calendarContainer)),A.config.static)){var U=P("div","flatpickr-wrapper");A.element.parentNode&&A.element.parentNode.insertBefore(U,A.element),U.appendChild(A.element),A.altInput&&U.appendChild(A.altInput),U.appendChild(A.calendarContainer)}!A.config.static&&!A.config.inline&&(A.config.appendTo!==void 0?A.config.appendTo:window.document.body).appendChild(A.calendarContainer)}function C(d,u,f,p){var v=ae(u,!0),U=P("span",d,u.getDate().toString());return U.dateObj=u,U.$i=p,U.setAttribute("aria-label",A.formatDate(u,A.config.ariaDateFormat)),d.indexOf("hidden")===-1&&QA(u,A.now)===0&&(A.todayDateElem=U,U.classList.add("today"),U.setAttribute("aria-current","date")),v?(U.tabIndex=-1,Fn(u)&&(U.classList.add("selected"),A.selectedDateElem=U,A.config.mode==="range"&&(fA(U,"startRange",A.selectedDates[0]&&QA(u,A.selectedDates[0],!0)===0),fA(U,"endRange",A.selectedDates[1]&&QA(u,A.selectedDates[1],!0)===0),d==="nextMonthDay"&&U.classList.add("inRange")))):U.classList.add("flatpickr-disabled"),A.config.mode==="range"&&Li(u)&&!Fn(u)&&U.classList.add("inRange"),A.weekNumbers&&A.config.showMonths===1&&d!=="prevMonthDay"&&p%7===6&&A.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+A.config.getWeek(u)+"</span>"),W("onDayCreate",U),U}function K(d){d.focus(),A.config.mode==="range"&&pt(d)}function k(d){for(var u=d>0?0:A.config.showMonths-1,f=d>0?A.config.showMonths:-1,p=u;p!=f;p+=d)for(var v=A.daysContainer.children[p],U=d>0?0:v.children.length-1,_=d>0?v.children.length:-1,x=U;x!=_;x+=d){var O=v.children[x];if(O.className.indexOf("hidden")===-1&&ae(O.dateObj))return O}}function D(d,u){for(var f=d.className.indexOf("Month")===-1?d.dateObj.getMonth():A.currentMonth,p=u>0?A.config.showMonths:-1,v=u>0?1:-1,U=f-A.currentMonth;U!=p;U+=v)for(var _=A.daysContainer.children[U],x=f-A.currentMonth===U?d.$i+u:u<0?_.children.length-1:0,O=_.children.length,I=x;I>=0&&I<O&&I!=(u>0?O:-1);I+=v){var M=_.children[I];if(M.className.indexOf("hidden")===-1&&ae(M.dateObj)&&Math.abs(d.$i-I)>=Math.abs(u))return K(M)}A.changeMonth(v),q(k(v),0)}function q(d,u){var f=a(),p=ht(f||document.body),v=d!==void 0?d:p?f:A.selectedDateElem!==void 0&&ht(A.selectedDateElem)?A.selectedDateElem:A.todayDateElem!==void 0&&ht(A.todayDateElem)?A.todayDateElem:k(u>0?1:-1);v===void 0?A._input.focus():p?D(v,u):K(v)}function oA(d,u){for(var f=(new Date(d,u,1).getDay()-A.l10n.firstDayOfWeek+7)%7,p=A.utils.getDaysInMonth((u-1+12)%12,d),v=A.utils.getDaysInMonth(u,d),U=window.document.createDocumentFragment(),_=A.config.showMonths>1,x=_?"prevMonthDay hidden":"prevMonthDay",O=_?"nextMonthDay hidden":"nextMonthDay",I=p+1-f,M=0;I<=p;I++,M++)U.appendChild(C("flatpickr-day "+x,new Date(d,u-1,I),I,M));for(I=1;I<=v;I++,M++)U.appendChild(C("flatpickr-day",new Date(d,u,I),I,M));for(var V=v+1;V<=42-f&&(A.config.showMonths===1||M%7!==0);V++,M++)U.appendChild(C("flatpickr-day "+O,new Date(d,u+1,V%v),V,M));var OA=P("div","dayContainer");return OA.appendChild(U),OA}function rA(){if(A.daysContainer!==void 0){vt(A.daysContainer),A.weekNumbers&&vt(A.weekNumbers);for(var d=document.createDocumentFragment(),u=0;u<A.config.showMonths;u++){var f=new Date(A.currentYear,A.currentMonth,1);f.setMonth(A.currentMonth+u),d.appendChild(oA(f.getFullYear(),f.getMonth()))}A.daysContainer.appendChild(d),A.days=A.daysContainer.firstChild,A.config.mode==="range"&&A.selectedDates.length===1&&pt()}}function N(){if(!(A.config.showMonths>1||A.config.monthSelectorType!=="dropdown")){var d=function(p){return A.config.minDate!==void 0&&A.currentYear===A.config.minDate.getFullYear()&&p<A.config.minDate.getMonth()?!1:!(A.config.maxDate!==void 0&&A.currentYear===A.config.maxDate.getFullYear()&&p>A.config.maxDate.getMonth())};A.monthsDropdownContainer.tabIndex=-1,A.monthsDropdownContainer.innerHTML="";for(var u=0;u<12;u++)if(d(u)){var f=P("option","flatpickr-monthDropdown-month");f.value=new Date(A.currentYear,u).getMonth().toString(),f.textContent=Wt(u,A.config.shorthandCurrentMonth,A.l10n),f.tabIndex=-1,A.currentMonth===u&&(f.selected=!0),A.monthsDropdownContainer.appendChild(f)}}}function tA(){var d=P("div","flatpickr-month"),u=window.document.createDocumentFragment(),f;A.config.showMonths>1||A.config.monthSelectorType==="static"?f=P("span","cur-month"):(A.monthsDropdownContainer=P("select","flatpickr-monthDropdown-months"),A.monthsDropdownContainer.setAttribute("aria-label",A.l10n.monthAriaLabel),h(A.monthsDropdownContainer,"change",function(_){var x=vA(_),O=parseInt(x.value,10);A.changeMonth(O-A.currentMonth),W("onMonthChange")}),N(),f=A.monthsDropdownContainer);var p=Qt("cur-year",{tabindex:"-1"}),v=p.getElementsByTagName("input")[0];v.setAttribute("aria-label",A.l10n.yearAriaLabel),A.config.minDate&&v.setAttribute("min",A.config.minDate.getFullYear().toString()),A.config.maxDate&&(v.setAttribute("max",A.config.maxDate.getFullYear().toString()),v.disabled=!!A.config.minDate&&A.config.minDate.getFullYear()===A.config.maxDate.getFullYear());var U=P("div","flatpickr-current-month");return U.appendChild(f),U.appendChild(p),u.appendChild(U),d.appendChild(u),{container:d,yearElement:v,monthElement:f}}function HA(){vt(A.monthNav),A.monthNav.appendChild(A.prevMonthNav),A.config.showMonths&&(A.yearElements=[],A.monthElements=[]);for(var d=A.config.showMonths;d--;){var u=tA();A.yearElements.push(u.yearElement),A.monthElements.push(u.monthElement),A.monthNav.appendChild(u.container)}A.monthNav.appendChild(A.nextMonthNav)}function cA(){return A.monthNav=P("div","flatpickr-months"),A.yearElements=[],A.monthElements=[],A.prevMonthNav=P("span","flatpickr-prev-month"),A.prevMonthNav.innerHTML=A.config.prevArrow,A.nextMonthNav=P("span","flatpickr-next-month"),A.nextMonthNav.innerHTML=A.config.nextArrow,HA(),Object.defineProperty(A,"_hidePrevMonthArrow",{get:function(){return A.__hidePrevMonthArrow},set:function(d){A.__hidePrevMonthArrow!==d&&(fA(A.prevMonthNav,"flatpickr-disabled",d),A.__hidePrevMonthArrow=d)}}),Object.defineProperty(A,"_hideNextMonthArrow",{get:function(){return A.__hideNextMonthArrow},set:function(d){A.__hideNextMonthArrow!==d&&(fA(A.nextMonthNav,"flatpickr-disabled",d),A.__hideNextMonthArrow=d)}}),A.currentYearElement=A.yearElements[0],Ct(),A.monthNav}function lA(){A.calendarContainer.classList.add("hasTime"),A.config.noCalendar&&A.calendarContainer.classList.add("noCalendar");var d=Dn(A.config);A.timeContainer=P("div","flatpickr-time"),A.timeContainer.tabIndex=-1;var u=P("span","flatpickr-time-separator",":"),f=Qt("flatpickr-hour",{"aria-label":A.l10n.hourAriaLabel});A.hourElement=f.getElementsByTagName("input")[0];var p=Qt("flatpickr-minute",{"aria-label":A.l10n.minuteAriaLabel});if(A.minuteElement=p.getElementsByTagName("input")[0],A.hourElement.tabIndex=A.minuteElement.tabIndex=-1,A.hourElement.value=pA(A.latestSelectedDateObj?A.latestSelectedDateObj.getHours():A.config.time_24hr?d.hours:l(d.hours)),A.minuteElement.value=pA(A.latestSelectedDateObj?A.latestSelectedDateObj.getMinutes():d.minutes),A.hourElement.setAttribute("step",A.config.hourIncrement.toString()),A.minuteElement.setAttribute("step",A.config.minuteIncrement.toString()),A.hourElement.setAttribute("min",A.config.time_24hr?"0":"1"),A.hourElement.setAttribute("max",A.config.time_24hr?"23":"12"),A.hourElement.setAttribute("maxlength","2"),A.minuteElement.setAttribute("min","0"),A.minuteElement.setAttribute("max","59"),A.minuteElement.setAttribute("maxlength","2"),A.timeContainer.appendChild(f),A.timeContainer.appendChild(u),A.timeContainer.appendChild(p),A.config.time_24hr&&A.timeContainer.classList.add("time24hr"),A.config.enableSeconds){A.timeContainer.classList.add("hasSeconds");var v=Qt("flatpickr-second");A.secondElement=v.getElementsByTagName("input")[0],A.secondElement.value=pA(A.latestSelectedDateObj?A.latestSelectedDateObj.getSeconds():d.seconds),A.secondElement.setAttribute("step",A.minuteElement.getAttribute("step")),A.secondElement.setAttribute("min","0"),A.secondElement.setAttribute("max","59"),A.secondElement.setAttribute("maxlength","2"),A.timeContainer.appendChild(P("span","flatpickr-time-separator",":")),A.timeContainer.appendChild(v)}return A.config.time_24hr||(A.amPM=P("span","flatpickr-am-pm",A.l10n.amPM[UA((A.latestSelectedDateObj?A.hourElement.value:A.config.defaultHour)>11)]),A.amPM.title=A.l10n.toggleTitle,A.amPM.tabIndex=-1,A.timeContainer.appendChild(A.amPM)),A.timeContainer}function MA(){A.weekdayContainer?vt(A.weekdayContainer):A.weekdayContainer=P("div","flatpickr-weekdays");for(var d=A.config.showMonths;d--;){var u=P("div","flatpickr-weekdaycontainer");A.weekdayContainer.appendChild(u)}return wA(),A.weekdayContainer}function wA(){if(A.weekdayContainer){var d=A.l10n.firstDayOfWeek,u=Jr(A.l10n.weekdays.shorthand);d>0&&d<u.length&&(u=Jr(u.splice(d,u.length),u.splice(0,d)));for(var f=A.config.showMonths;f--;)A.weekdayContainer.children[f].innerHTML=`
      <span class='flatpickr-weekday'>
        `+u.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function KA(){A.calendarContainer.classList.add("hasWeeks");var d=P("div","flatpickr-weekwrapper");d.appendChild(P("span","flatpickr-weekday",A.l10n.weekAbbreviation));var u=P("div","flatpickr-weeks");return d.appendChild(u),{weekWrapper:d,weekNumbers:u}}function SA(d,u){u===void 0&&(u=!0);var f=u?d:d-A.currentMonth;f<0&&A._hidePrevMonthArrow===!0||f>0&&A._hideNextMonthArrow===!0||(A.currentMonth+=f,(A.currentMonth<0||A.currentMonth>11)&&(A.currentYear+=A.currentMonth>11?1:-1,A.currentMonth=(A.currentMonth+12)%12,W("onYearChange"),N()),rA(),W("onMonthChange"),Ct())}function GA(d,u){if(d===void 0&&(d=!0),u===void 0&&(u=!0),A.input.value="",A.altInput!==void 0&&(A.altInput.value=""),A.mobileInput!==void 0&&(A.mobileInput.value=""),A.selectedDates=[],A.latestSelectedDateObj=void 0,u===!0&&(A.currentYear=A._initialDate.getFullYear(),A.currentMonth=A._initialDate.getMonth()),A.config.enableTime===!0){var f=Dn(A.config),p=f.hours,v=f.minutes,U=f.seconds;w(p,v,U)}A.redraw(),d&&W("onChange")}function DA(){A.isOpen=!1,A.isMobile||(A.calendarContainer!==void 0&&A.calendarContainer.classList.remove("open"),A._input!==void 0&&A._input.classList.remove("active")),W("onClose")}function $A(){A.config!==void 0&&W("onDestroy");for(var d=A._handlers.length;d--;)A._handlers[d].remove();if(A._handlers=[],A.mobileInput)A.mobileInput.parentNode&&A.mobileInput.parentNode.removeChild(A.mobileInput),A.mobileInput=void 0;else if(A.calendarContainer&&A.calendarContainer.parentNode)if(A.config.static&&A.calendarContainer.parentNode){var u=A.calendarContainer.parentNode;if(u.lastChild&&u.removeChild(u.lastChild),u.parentNode){for(;u.firstChild;)u.parentNode.insertBefore(u.firstChild,u);u.parentNode.removeChild(u)}}else A.calendarContainer.parentNode.removeChild(A.calendarContainer);A.altInput&&(A.input.type="text",A.altInput.parentNode&&A.altInput.parentNode.removeChild(A.altInput),delete A.altInput),A.input&&(A.input.type=A.input._type,A.input.classList.remove("flatpickr-input"),A.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(f){try{delete A[f]}catch{}})}function BA(d){return A.calendarContainer.contains(d)}function kA(d){if(A.isOpen&&!A.config.inline){var u=vA(d),f=BA(u),p=u===A.input||u===A.altInput||A.element.contains(u)||d.path&&d.path.indexOf&&(~d.path.indexOf(A.input)||~d.path.indexOf(A.altInput)),v=!p&&!f&&!BA(d.relatedTarget),U=!A.config.ignoredFocusElements.some(function(_){return _.contains(u)});v&&U&&(A.config.allowInput&&A.setDate(A._input.value,!1,A.config.altInput?A.config.altFormat:A.config.dateFormat),A.timeContainer!==void 0&&A.minuteElement!==void 0&&A.hourElement!==void 0&&A.input.value!==""&&A.input.value!==void 0&&o(),A.close(),A.config&&A.config.mode==="range"&&A.selectedDates.length===1&&A.clear(!1))}}function _A(d){if(!(!d||A.config.minDate&&d<A.config.minDate.getFullYear()||A.config.maxDate&&d>A.config.maxDate.getFullYear())){var u=d,f=A.currentYear!==u;A.currentYear=u||A.currentYear,A.config.maxDate&&A.currentYear===A.config.maxDate.getFullYear()?A.currentMonth=Math.min(A.config.maxDate.getMonth(),A.currentMonth):A.config.minDate&&A.currentYear===A.config.minDate.getFullYear()&&(A.currentMonth=Math.max(A.config.minDate.getMonth(),A.currentMonth)),f&&(A.redraw(),W("onYearChange"),N())}}function ae(d,u){var f;u===void 0&&(u=!0);var p=A.parseDate(d,void 0,u);if(A.config.minDate&&p&&QA(p,A.config.minDate,u!==void 0?u:!A.minDateHasTime)<0||A.config.maxDate&&p&&QA(p,A.config.maxDate,u!==void 0?u:!A.maxDateHasTime)>0)return!1;if(!A.config.enable&&A.config.disable.length===0)return!0;if(p===void 0)return!1;for(var v=!!A.config.enable,U=(f=A.config.enable)!==null&&f!==void 0?f:A.config.disable,_=0,x=void 0;_<U.length;_++){if(x=U[_],typeof x=="function"&&x(p))return v;if(x instanceof Date&&p!==void 0&&x.getTime()===p.getTime())return v;if(typeof x=="string"){var O=A.parseDate(x,void 0,!0);return O&&O.getTime()===p.getTime()?v:!v}else if(typeof x=="object"&&p!==void 0&&x.from&&x.to&&p.getTime()>=x.from.getTime()&&p.getTime()<=x.to.getTime())return v}return!v}function ht(d){return A.daysContainer!==void 0?d.className.indexOf("hidden")===-1&&d.className.indexOf("flatpickr-disabled")===-1&&A.daysContainer.contains(d):!1}function vi(d){var u=d.target===A._input,f=A._input.value.trimEnd()!==Un();u&&f&&!(d.relatedTarget&&BA(d.relatedTarget))&&A.setDate(A._input.value,!0,d.target===A.altInput?A.config.altFormat:A.config.dateFormat)}function Mr(d){var u=vA(d),f=A.config.wrap?n.contains(u):u===A._input,p=A.config.allowInput,v=A.isOpen&&(!p||!f),U=A.config.inline&&f&&!p;if(d.keyCode===13&&f){if(p)return A.setDate(A._input.value,!0,u===A.altInput?A.config.altFormat:A.config.dateFormat),A.close(),u.blur();A.open()}else if(BA(u)||v||U){var _=!!A.timeContainer&&A.timeContainer.contains(u);switch(d.keyCode){case 13:_?(d.preventDefault(),o(),Qn()):Rr(d);break;case 27:d.preventDefault(),Qn();break;case 8:case 46:f&&!A.config.allowInput&&(d.preventDefault(),A.clear());break;case 37:case 39:if(!_&&!f){d.preventDefault();var x=a();if(A.daysContainer!==void 0&&(p===!1||x&&ht(x))){var O=d.keyCode===39?1:-1;d.ctrlKey?(d.stopPropagation(),SA(O),q(k(1),0)):q(void 0,O)}}else A.hourElement&&A.hourElement.focus();break;case 38:case 40:d.preventDefault();var I=d.keyCode===40?1:-1;A.daysContainer&&u.$i!==void 0||u===A.input||u===A.altInput?d.ctrlKey?(d.stopPropagation(),_A(A.currentYear-I),q(k(1),0)):_||q(void 0,I*7):u===A.currentYearElement?_A(A.currentYear-I):A.config.enableTime&&(!_&&A.hourElement&&A.hourElement.focus(),o(d),A._debouncedChange());break;case 9:if(_){var M=[A.hourElement,A.minuteElement,A.secondElement,A.amPM].concat(A.pluginElements).filter(function(CA){return CA}),V=M.indexOf(u);if(V!==-1){var OA=M[V+(d.shiftKey?-1:1)];d.preventDefault(),(OA||A._input).focus()}}else!A.config.noCalendar&&A.daysContainer&&A.daysContainer.contains(u)&&d.shiftKey&&(d.preventDefault(),A._input.focus());break}}if(A.amPM!==void 0&&u===A.amPM)switch(d.key){case A.l10n.amPM[0].charAt(0):case A.l10n.amPM[0].charAt(0).toLowerCase():A.amPM.textContent=A.l10n.amPM[0],g(),VA();break;case A.l10n.amPM[1].charAt(0):case A.l10n.amPM[1].charAt(0).toLowerCase():A.amPM.textContent=A.l10n.amPM[1],g(),VA();break}(f||BA(u))&&W("onKeyDown",d)}function pt(d,u){if(u===void 0&&(u="flatpickr-day"),!(A.selectedDates.length!==1||d&&(!d.classList.contains(u)||d.classList.contains("flatpickr-disabled")))){for(var f=d?d.dateObj.getTime():A.days.firstElementChild.dateObj.getTime(),p=A.parseDate(A.selectedDates[0],void 0,!0).getTime(),v=Math.min(f,A.selectedDates[0].getTime()),U=Math.max(f,A.selectedDates[0].getTime()),_=!1,x=0,O=0,I=v;I<U;I+=Qo.DAY)ae(new Date(I),!0)||(_=_||I>v&&I<U,I<p&&(!x||I>x)?x=I:I>p&&(!O||I<O)&&(O=I));var M=Array.from(A.rContainer.querySelectorAll("*:nth-child(-n+"+A.config.showMonths+") > ."+u));M.forEach(function(V){var OA=V.dateObj,CA=OA.getTime(),Te=x>0&&CA<x||O>0&&CA>O;if(Te){V.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(ue){V.classList.remove(ue)});return}else if(_&&!Te)return;["startRange","inRange","endRange","notAllowed"].forEach(function(ue){V.classList.remove(ue)}),d!==void 0&&(d.classList.add(f<=A.selectedDates[0].getTime()?"startRange":"endRange"),p<f&&CA===p?V.classList.add("startRange"):p>f&&CA===p&&V.classList.add("endRange"),CA>=x&&(O===0||CA<=O)&&Co(CA,p,f)&&V.classList.add("inRange"))})}}function Qi(){A.isOpen&&!A.config.static&&!A.config.inline&&mt()}function yi(d,u){if(u===void 0&&(u=A._positionElement),A.isMobile===!0){if(d){d.preventDefault();var f=vA(d);f&&f.blur()}A.mobileInput!==void 0&&(A.mobileInput.focus(),A.mobileInput.click()),W("onOpen");return}else if(A._input.disabled||A.config.inline)return;var p=A.isOpen;A.isOpen=!0,p||(A.calendarContainer.classList.add("open"),A._input.classList.add("active"),W("onOpen"),mt(u)),A.config.enableTime===!0&&A.config.noCalendar===!0&&A.config.allowInput===!1&&(d===void 0||!A.timeContainer.contains(d.relatedTarget))&&setTimeout(function(){return A.hourElement.select()},50)}function Kr(d){return function(u){var f=A.config["_"+d+"Date"]=A.parseDate(u,A.config.dateFormat),p=A.config["_"+(d==="min"?"max":"min")+"Date"];f!==void 0&&(A[d==="min"?"minDateHasTime":"maxDateHasTime"]=f.getHours()>0||f.getMinutes()>0||f.getSeconds()>0),A.selectedDates&&(A.selectedDates=A.selectedDates.filter(function(v){return ae(v)}),!A.selectedDates.length&&d==="min"&&B(f),VA()),A.daysContainer&&(Or(),f!==void 0?A.currentYearElement[d]=f.getFullYear().toString():A.currentYearElement.removeAttribute(d),A.currentYearElement.disabled=!!p&&f!==void 0&&p.getFullYear()===f.getFullYear())}}function Fi(){var d=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],u=uA(uA({},JSON.parse(JSON.stringify(n.dataset||{}))),e),f={};A.config.parseDate=u.parseDate,A.config.formatDate=u.formatDate,Object.defineProperty(A.config,"enable",{get:function(){return A.config._enable},set:function(M){A.config._enable=Pr(M)}}),Object.defineProperty(A.config,"disable",{get:function(){return A.config._disable},set:function(M){A.config._disable=Pr(M)}});var p=u.mode==="time";if(!u.dateFormat&&(u.enableTime||p)){var v=AA.defaultConfig.dateFormat||Ue.dateFormat;f.dateFormat=u.noCalendar||p?"H:i"+(u.enableSeconds?":S":""):v+" H:i"+(u.enableSeconds?":S":"")}if(u.altInput&&(u.enableTime||p)&&!u.altFormat){var U=AA.defaultConfig.altFormat||Ue.altFormat;f.altFormat=u.noCalendar||p?"h:i"+(u.enableSeconds?":S K":" K"):U+(" h:i"+(u.enableSeconds?":S":"")+" K")}Object.defineProperty(A.config,"minDate",{get:function(){return A.config._minDate},set:Kr("min")}),Object.defineProperty(A.config,"maxDate",{get:function(){return A.config._maxDate},set:Kr("max")});var _=function(M){return function(V){A.config[M==="min"?"_minTime":"_maxTime"]=A.parseDate(V,"H:i:S")}};Object.defineProperty(A.config,"minTime",{get:function(){return A.config._minTime},set:_("min")}),Object.defineProperty(A.config,"maxTime",{get:function(){return A.config._maxTime},set:_("max")}),u.mode==="time"&&(A.config.noCalendar=!0,A.config.enableTime=!0),Object.assign(A.config,f,u);for(var x=0;x<d.length;x++)A.config[d[x]]=A.config[d[x]]===!0||A.config[d[x]]==="true";In.filter(function(M){return A.config[M]!==void 0}).forEach(function(M){A.config[M]=xn(A.config[M]||[]).map(s)}),A.isMobile=!A.config.disableMobile&&!A.config.inline&&A.config.mode==="single"&&!A.config.disable.length&&!A.config.enable&&!A.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var x=0;x<A.config.plugins.length;x++){var O=A.config.plugins[x](A)||{};for(var I in O)In.indexOf(I)>-1?A.config[I]=xn(O[I]).map(s).concat(A.config[I]):typeof u[I]>"u"&&(A.config[I]=O[I])}u.altInputClass||(A.config.altInputClass=kr().className+" "+A.config.altInputClass),W("onParseConfig")}function kr(){return A.config.wrap?n.querySelector("[data-input]"):n}function _r(){typeof A.config.locale!="object"&&typeof AA.l10ns[A.config.locale]>"u"&&A.config.errorHandler(new Error("flatpickr: invalid locale "+A.config.locale)),A.l10n=uA(uA({},AA.l10ns.default),typeof A.config.locale=="object"?A.config.locale:A.config.locale!=="default"?AA.l10ns[A.config.locale]:void 0),ie.D="("+A.l10n.weekdays.shorthand.join("|")+")",ie.l="("+A.l10n.weekdays.longhand.join("|")+")",ie.M="("+A.l10n.months.shorthand.join("|")+")",ie.F="("+A.l10n.months.longhand.join("|")+")",ie.K="("+A.l10n.amPM[0]+"|"+A.l10n.amPM[1]+"|"+A.l10n.amPM[0].toLowerCase()+"|"+A.l10n.amPM[1].toLowerCase()+")";var d=uA(uA({},e),JSON.parse(JSON.stringify(n.dataset||{})));d.time_24hr===void 0&&AA.defaultConfig.time_24hr===void 0&&(A.config.time_24hr=A.l10n.time_24hr),A.formatDate=gs(A),A.parseDate=nr({config:A.config,l10n:A.l10n})}function mt(d){if(typeof A.config.position=="function")return void A.config.position(A,d);if(A.calendarContainer!==void 0){W("onPreCalendarPosition");var u=d||A._positionElement,f=Array.prototype.reduce.call(A.calendarContainer.children,(function(Gi,$i){return Gi+$i.offsetHeight}),0),p=A.calendarContainer.offsetWidth,v=A.config.position.split(" "),U=v[0],_=v.length>1?v[1]:null,x=u.getBoundingClientRect(),O=window.innerHeight-x.bottom,I=U==="above"||U!=="below"&&O<f&&x.top>f,M=window.pageYOffset+x.top+(I?-f-2:u.offsetHeight+2);if(fA(A.calendarContainer,"arrowTop",!I),fA(A.calendarContainer,"arrowBottom",I),!A.config.inline){var V=window.pageXOffset+x.left,OA=!1,CA=!1;_==="center"?(V-=(p-x.width)/2,OA=!0):_==="right"&&(V-=p-x.width,CA=!0),fA(A.calendarContainer,"arrowLeft",!OA&&!CA),fA(A.calendarContainer,"arrowCenter",OA),fA(A.calendarContainer,"arrowRight",CA);var Te=window.document.body.offsetWidth-(window.pageXOffset+x.right),ue=V+p>window.document.body.offsetWidth,Ki=Te+p>window.document.body.offsetWidth;if(fA(A.calendarContainer,"rightMost",ue),!A.config.static)if(A.calendarContainer.style.top=M+"px",!ue)A.calendarContainer.style.left=V+"px",A.calendarContainer.style.right="auto";else if(!Ki)A.calendarContainer.style.left="auto",A.calendarContainer.style.right=Te+"px";else{var bn=Ui();if(bn===void 0)return;var ki=window.document.body.offsetWidth,_i=Math.max(0,ki/2-p/2),Oi=".flatpickr-calendar.centerMost:before",Ri=".flatpickr-calendar.centerMost:after",Ni=bn.cssRules.length,Pi="{left:"+x.left+"px;right:auto;}";fA(A.calendarContainer,"rightMost",!1),fA(A.calendarContainer,"centerMost",!0),bn.insertRule(Oi+","+Ri+Pi,Ni),A.calendarContainer.style.left=_i+"px",A.calendarContainer.style.right="auto"}}}}function Ui(){for(var d=null,u=0;u<document.styleSheets.length;u++){var f=document.styleSheets[u];if(f.cssRules){try{f.cssRules}catch{continue}d=f;break}}return d??bi()}function bi(){var d=document.createElement("style");return document.head.appendChild(d),d.sheet}function Or(){A.config.noCalendar||A.isMobile||(N(),Ct(),rA())}function Qn(){A._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(A.close,0):A.close()}function Rr(d){d.preventDefault(),d.stopPropagation();var u=function(M){return M.classList&&M.classList.contains("flatpickr-day")&&!M.classList.contains("flatpickr-disabled")&&!M.classList.contains("notAllowed")},f=us(vA(d),u);if(f!==void 0){var p=f,v=A.latestSelectedDateObj=new Date(p.dateObj.getTime()),U=(v.getMonth()<A.currentMonth||v.getMonth()>A.currentMonth+A.config.showMonths-1)&&A.config.mode!=="range";if(A.selectedDateElem=p,A.config.mode==="single")A.selectedDates=[v];else if(A.config.mode==="multiple"){var _=Fn(v);_?A.selectedDates.splice(parseInt(_),1):A.selectedDates.push(v)}else A.config.mode==="range"&&(A.selectedDates.length===2&&A.clear(!1,!1),A.latestSelectedDateObj=v,A.selectedDates.push(v),QA(v,A.selectedDates[0],!0)!==0&&A.selectedDates.sort(function(M,V){return M.getTime()-V.getTime()}));if(g(),U){var x=A.currentYear!==v.getFullYear();A.currentYear=v.getFullYear(),A.currentMonth=v.getMonth(),x&&(W("onYearChange"),N()),W("onMonthChange")}if(Ct(),rA(),VA(),!U&&A.config.mode!=="range"&&A.config.showMonths===1?K(p):A.selectedDateElem!==void 0&&A.hourElement===void 0&&A.selectedDateElem&&A.selectedDateElem.focus(),A.hourElement!==void 0&&A.hourElement!==void 0&&A.hourElement.focus(),A.config.closeOnSelect){var O=A.config.mode==="single"&&!A.config.enableTime,I=A.config.mode==="range"&&A.selectedDates.length===2&&!A.config.enableTime;(O||I)&&Qn()}E()}}var wt={locale:[_r,wA],showMonths:[HA,i,MA],minDate:[y],maxDate:[y],positionElement:[Gr],clickOpens:[function(){A.config.clickOpens===!0?(h(A._input,"focus",A.open),h(A._input,"click",A.open)):(A._input.removeEventListener("focus",A.open),A._input.removeEventListener("click",A.open))}]};function Ei(d,u){if(d!==null&&typeof d=="object"){Object.assign(A.config,d);for(var f in d)wt[f]!==void 0&&wt[f].forEach(function(p){return p()})}else A.config[d]=u,wt[d]!==void 0?wt[d].forEach(function(p){return p()}):In.indexOf(d)>-1&&(A.config[d]=xn(u));A.redraw(),VA(!0)}function Nr(d,u){var f=[];if(d instanceof Array)f=d.map(function(p){return A.parseDate(p,u)});else if(d instanceof Date||typeof d=="number")f=[A.parseDate(d,u)];else if(typeof d=="string")switch(A.config.mode){case"single":case"time":f=[A.parseDate(d,u)];break;case"multiple":f=d.split(A.config.conjunction).map(function(p){return A.parseDate(p,u)});break;case"range":f=d.split(A.l10n.rangeSeparator).map(function(p){return A.parseDate(p,u)});break}else A.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(d)));A.selectedDates=A.config.allowInvalidPreload?f:f.filter(function(p){return p instanceof Date&&ae(p,!1)}),A.config.mode==="range"&&A.selectedDates.sort(function(p,v){return p.getTime()-v.getTime()})}function Ii(d,u,f){if(u===void 0&&(u=!1),f===void 0&&(f=A.config.dateFormat),d!==0&&!d||d instanceof Array&&d.length===0)return A.clear(u);Nr(d,f),A.latestSelectedDateObj=A.selectedDates[A.selectedDates.length-1],A.redraw(),y(void 0,u),B(),A.selectedDates.length===0&&A.clear(!1),VA(u),u&&W("onChange")}function Pr(d){return d.slice().map(function(u){return typeof u=="string"||typeof u=="number"||u instanceof Date?A.parseDate(u,void 0,!0):u&&typeof u=="object"&&u.from&&u.to?{from:A.parseDate(u.from,void 0),to:A.parseDate(u.to,void 0)}:u}).filter(function(u){return u})}function xi(){A.selectedDates=[],A.now=A.parseDate(A.config.now)||new Date;var d=A.config.defaultDate||((A.input.nodeName==="INPUT"||A.input.nodeName==="TEXTAREA")&&A.input.placeholder&&A.input.value===A.input.placeholder?null:A.input.value);d&&Nr(d,A.config.dateFormat),A._initialDate=A.selectedDates.length>0?A.selectedDates[0]:A.config.minDate&&A.config.minDate.getTime()>A.now.getTime()?A.config.minDate:A.config.maxDate&&A.config.maxDate.getTime()<A.now.getTime()?A.config.maxDate:A.now,A.currentYear=A._initialDate.getFullYear(),A.currentMonth=A._initialDate.getMonth(),A.selectedDates.length>0&&(A.latestSelectedDateObj=A.selectedDates[0]),A.config.minTime!==void 0&&(A.config.minTime=A.parseDate(A.config.minTime,"H:i")),A.config.maxTime!==void 0&&(A.config.maxTime=A.parseDate(A.config.maxTime,"H:i")),A.minDateHasTime=!!A.config.minDate&&(A.config.minDate.getHours()>0||A.config.minDate.getMinutes()>0||A.config.minDate.getSeconds()>0),A.maxDateHasTime=!!A.config.maxDate&&(A.config.maxDate.getHours()>0||A.config.maxDate.getMinutes()>0||A.config.maxDate.getSeconds()>0)}function Hi(){if(A.input=kr(),!A.input){A.config.errorHandler(new Error("Invalid input element specified"));return}A.input._type=A.input.type,A.input.type="text",A.input.classList.add("flatpickr-input"),A._input=A.input,A.config.altInput&&(A.altInput=P(A.input.nodeName,A.config.altInputClass),A._input=A.altInput,A.altInput.placeholder=A.input.placeholder,A.altInput.disabled=A.input.disabled,A.altInput.required=A.input.required,A.altInput.tabIndex=A.input.tabIndex,A.altInput.type="text",A.input.setAttribute("type","hidden"),!A.config.static&&A.input.parentNode&&A.input.parentNode.insertBefore(A.altInput,A.input.nextSibling)),A.config.allowInput||A._input.setAttribute("readonly","readonly"),Gr()}function Gr(){A._positionElement=A.config.positionElement||A._input}function Si(){var d=A.config.enableTime?A.config.noCalendar?"time":"datetime-local":"date";A.mobileInput=P("input",A.input.className+" flatpickr-mobile"),A.mobileInput.tabIndex=1,A.mobileInput.type=d,A.mobileInput.disabled=A.input.disabled,A.mobileInput.required=A.input.required,A.mobileInput.placeholder=A.input.placeholder,A.mobileFormatStr=d==="datetime-local"?"Y-m-d\\TH:i:S":d==="date"?"Y-m-d":"H:i:S",A.selectedDates.length>0&&(A.mobileInput.defaultValue=A.mobileInput.value=A.formatDate(A.selectedDates[0],A.mobileFormatStr)),A.config.minDate&&(A.mobileInput.min=A.formatDate(A.config.minDate,"Y-m-d")),A.config.maxDate&&(A.mobileInput.max=A.formatDate(A.config.maxDate,"Y-m-d")),A.input.getAttribute("step")&&(A.mobileInput.step=String(A.input.getAttribute("step"))),A.input.type="hidden",A.altInput!==void 0&&(A.altInput.type="hidden");try{A.input.parentNode&&A.input.parentNode.insertBefore(A.mobileInput,A.input.nextSibling)}catch{}h(A.mobileInput,"change",function(u){A.setDate(vA(u).value,!1,A.mobileFormatStr),W("onChange"),W("onClose")})}function Di(d){if(A.isOpen===!0)return A.close();A.open(d)}function W(d,u){if(A.config!==void 0){var f=A.config[d];if(f!==void 0&&f.length>0)for(var p=0;f[p]&&p<f.length;p++)f[p](A.selectedDates,A.input.value,A,u);d==="onChange"&&(A.input.dispatchEvent(yn("change")),A.input.dispatchEvent(yn("input")))}}function yn(d){var u=document.createEvent("Event");return u.initEvent(d,!0,!0),u}function Fn(d){for(var u=0;u<A.selectedDates.length;u++){var f=A.selectedDates[u];if(f instanceof Date&&QA(f,d)===0)return""+u}return!1}function Li(d){return A.config.mode!=="range"||A.selectedDates.length<2?!1:QA(d,A.selectedDates[0])>=0&&QA(d,A.selectedDates[1])<=0}function Ct(){A.config.noCalendar||A.isMobile||!A.monthNav||(A.yearElements.forEach(function(d,u){var f=new Date(A.currentYear,A.currentMonth,1);f.setMonth(A.currentMonth+u),A.config.showMonths>1||A.config.monthSelectorType==="static"?A.monthElements[u].textContent=Wt(f.getMonth(),A.config.shorthandCurrentMonth,A.l10n)+" ":A.monthsDropdownContainer.value=f.getMonth().toString(),d.value=f.getFullYear().toString()}),A._hidePrevMonthArrow=A.config.minDate!==void 0&&(A.currentYear===A.config.minDate.getFullYear()?A.currentMonth<=A.config.minDate.getMonth():A.currentYear<A.config.minDate.getFullYear()),A._hideNextMonthArrow=A.config.maxDate!==void 0&&(A.currentYear===A.config.maxDate.getFullYear()?A.currentMonth+1>A.config.maxDate.getMonth():A.currentYear>A.config.maxDate.getFullYear()))}function Un(d){var u=d||(A.config.altInput?A.config.altFormat:A.config.dateFormat);return A.selectedDates.map(function(f){return A.formatDate(f,u)}).filter(function(f,p,v){return A.config.mode!=="range"||A.config.enableTime||v.indexOf(f)===p}).join(A.config.mode!=="range"?A.config.conjunction:A.l10n.rangeSeparator)}function VA(d){d===void 0&&(d=!0),A.mobileInput!==void 0&&A.mobileFormatStr&&(A.mobileInput.value=A.latestSelectedDateObj!==void 0?A.formatDate(A.latestSelectedDateObj,A.mobileFormatStr):""),A.input.value=Un(A.config.dateFormat),A.altInput!==void 0&&(A.altInput.value=Un(A.config.altFormat)),d!==!1&&W("onValueUpdate")}function Ti(d){var u=vA(d),f=A.prevMonthNav.contains(u),p=A.nextMonthNav.contains(u);f||p?SA(f?-1:1):A.yearElements.indexOf(u)>=0?u.select():u.classList.contains("arrowUp")?A.changeYear(A.currentYear+1):u.classList.contains("arrowDown")&&A.changeYear(A.currentYear-1)}function Mi(d){d.preventDefault();var u=d.type==="keydown",f=vA(d),p=f;A.amPM!==void 0&&f===A.amPM&&(A.amPM.textContent=A.l10n.amPM[UA(A.amPM.textContent===A.l10n.amPM[0])]);var v=parseFloat(p.getAttribute("min")),U=parseFloat(p.getAttribute("max")),_=parseFloat(p.getAttribute("step")),x=parseInt(p.value,10),O=d.delta||(u?d.which===38?1:-1:0),I=x+_*O;if(typeof p.value<"u"&&p.value.length===2){var M=p===A.hourElement,V=p===A.minuteElement;I<v?(I=U+I+UA(!M)+(UA(M)&&UA(!A.amPM)),V&&S(void 0,-1,A.hourElement)):I>U&&(I=p===A.hourElement?I-U-UA(!A.amPM):v,V&&S(void 0,1,A.hourElement)),A.amPM&&M&&(_===1?I+x===23:Math.abs(I-x)>_)&&(A.amPM.textContent=A.l10n.amPM[UA(A.amPM.textContent===A.l10n.amPM[0])]),p.value=pA(I)}}return r(),A}function be(n,e){for(var A=Array.prototype.slice.call(n).filter(function(s){return s instanceof HTMLElement}),t=[],r=0;r<A.length;r++){var a=A[r];try{if(a.getAttribute("data-fp-omit")!==null)continue;a._flatpickr!==void 0&&(a._flatpickr.destroy(),a._flatpickr=void 0),a._flatpickr=Fo(a,e||{}),t.push(a._flatpickr)}catch(s){console.error(s)}}return t.length===1?t[0]:t}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return be(this,n)},HTMLElement.prototype.flatpickr=function(n){return be([this],n)});var AA=function(n,e){return typeof n=="string"?be(window.document.querySelectorAll(n),e):n instanceof Node?be([n],e):be(n,e)};AA.defaultConfig={};AA.l10ns={en:uA({},at),default:uA({},at)};AA.localize=function(n){AA.l10ns.default=uA(uA({},AA.l10ns.default),n)};AA.setDefaults=function(n){AA.defaultConfig=uA(uA({},AA.defaultConfig),n)};AA.parseDate=nr({});AA.formatDate=gs({});AA.compareDates=QA;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return be(this,n)});Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))};typeof window<"u"&&(window.flatpickr=AA);var Ge={exports:{}},Uo=Ge.exports,Xr;function bo(){return Xr||(Xr=1,(function(n,e){(function(A,t){t(e)})(Uo,(function(A){var t=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},r={weekdays:{shorthand:["å‘¨æ—¥","å‘¨ä¸€","å‘¨äºŒ","å‘¨ä¸‰","å‘¨å››","å‘¨äº”","å‘¨å…­"],longhand:["æ˜ŸæœŸæ—¥","æ˜ŸæœŸä¸€","æ˜ŸæœŸäºŒ","æ˜ŸæœŸä¸‰","æ˜ŸæœŸå››","æ˜ŸæœŸäº”","æ˜ŸæœŸå…­"]},months:{shorthand:["ä¸€æœˆ","äºŒæœˆ","ä¸‰æœˆ","å››æœˆ","äº”æœˆ","å…­æœˆ","ä¸ƒæœˆ","å…«æœˆ","ä¹æœˆ","åæœˆ","åä¸€æœˆ","åäºŒæœˆ"],longhand:["ä¸€æœˆ","äºŒæœˆ","ä¸‰æœˆ","å››æœˆ","äº”æœˆ","å…­æœˆ","ä¸ƒæœˆ","å…«æœˆ","ä¹æœˆ","åæœˆ","åä¸€æœˆ","åäºŒæœˆ"]},rangeSeparator:" è‡³ ",weekAbbreviation:"å‘¨",scrollTitle:"æ»šåŠ¨åˆ‡æ¢",toggleTitle:"ç‚¹å‡»åˆ‡æ¢ 12/24 å°æ—¶æ—¶åˆ¶"};t.l10ns.zh=r;var a=t.l10ns;A.Mandarin=r,A.default=a,Object.defineProperty(A,"__esModule",{value:!0})}))})(Ge,Ge.exports)),Ge.exports}var Eo=bo();class Io{constructor(e){if(this.matchType=FA(e.type),!this.matchType){window.router.navigate("/");return}this.formData={personA:{name:"",gender:"",birthDate:"",lunarDate:""},personB:{name:"",gender:"",birthDate:"",lunarDate:""}},this.currentStep=1}render(){return this.matchType?`
      <div class="page birthday-input-page">
        ${j({title:"ç”Ÿæ—¥åŒ¹é…",showBack:!0,showHistory:!1,showProfile:!1})}
        
        <main class="page-content">
          <div class="app-container">
            
            <!-- è¿›åº¦æŒ‡ç¤º -->
            <section class="progress-section">
              ${gt(this.currentStep,2,{showText:!1,showSteps:!1,stepLabel:`æ­¥éª¤ ${this.currentStep}/2ï¼šè¾“å…¥${this.currentStep===1?"ä½ çš„":"å¯¹æ–¹çš„"}ä¿¡æ¯`})}
            </section>

            <!-- è¡¨å•åŒºåŸŸ -->
            <section class="form-section animate-fade-in-up">
              <div class="glass-card">
                <h3 class="heading-3 mb-4">
                  ${this.currentStep===1?"ğŸ‘¤ ä½ çš„ä¿¡æ¯":"ğŸ‘¥ å¯¹æ–¹çš„ä¿¡æ¯"}
                </h3>
                
                <form id="birthday-form" class="form">
                  <!-- æ€§åˆ« -->
                  <div class="input-group mb-4">
                    <div class="gender-selector">
                      <button type="button" class="gender-btn" data-gender="male">
                        <span class="gender-icon">ğŸ‘¨</span>
                        <span>ç”·</span>
                      </button>
                      <button type="button" class="gender-btn" data-gender="female">
                        <span class="gender-icon">ğŸ‘©</span>
                        <span>å¥³</span>
                      </button>
                    </div>
                  </div>

                  <!-- ç§°å‘¼ -->
                  <div class="input-group mb-4">
                    <input 
                      type="text" 
                      id="name" 
                      class="input" 
                      placeholder="ç§°å‘¼"
                      maxlength="10"
                    >
                  </div>

                  <!-- å‡ºç”Ÿæ—¥æœŸ -->
                  <div class="input-group mb-4">
                    <div class="date-input-wrapper">
                      <input 
                        type="text" 
                        id="birthDate" 
                        class="input flatpickr-input"
                        placeholder="è¯·é€‰æ‹©é˜³å†ç”Ÿæ—¥"
                        readonly
                      >
                    </div>
                    <div id="lunar-date" class="lunar-date-display" style="display: none;">
                      <span class="lunar-icon">ğŸŒ™</span>
                      <span class="lunar-text"></span>
                    </div>
                  </div>
                </form>
              </div>
            </section>

            <!-- å·²è¾“å…¥çš„Aä¿¡æ¯å±•ç¤ºï¼ˆæ­¥éª¤2æ—¶æ˜¾ç¤ºï¼‰-->
            ${this.renderPersonAInfo()}

          </div>
        </main>

        <!-- åº•éƒ¨æ“ä½œæ  -->
        <div class="bottom-action-bar safe-area-bottom">
          <div class="action-bar__buttons">
            ${this.currentStep===2?`
              <button class="btn btn--secondary" data-action="back-step">ä¸Šä¸€æ­¥</button>
            `:""}
            <button class="btn btn--primary btn--full" data-action="next" disabled>
              ${this.currentStep===1?"ä¸‹ä¸€æ­¥":"å¼€å§‹åˆ†æ"}
            </button>
          </div>
        </div>
      </div>
    `:""}renderPersonAInfo(){const e=this.formData.personA,A=this.formData.personB,t=e.gender==="male"?"ğŸ‘¨":e.gender==="female"?"ğŸ‘©":"ğŸ‘¤",r=A.gender==="male"?"ğŸ‘¨":A.gender==="female"?"ğŸ‘©":"ğŸ‘¤";return`
      <section class="persons-info mt-4 animate-fade-in">
        <div class="persons-info__cards">
          <!-- ç”²æ–¹ä¿¡æ¯å¡ç‰‡ -->
          <div class="person-card ${this.currentStep===1?"person-card--active":""}" data-person="A">
            <div class="person-card__top">
              <span class="person-avatar">${t}</span>
              <div class="person-card__info">
                <p class="person-card__name">${e.name||"ç”²æ–¹"}</p>
                <div class="person-card__date-row">
                  <span class="person-card__date">${e.birthDate||"æœªå¡«å†™"}</span>
                  <span class="badge ${e.name?"badge--success":"badge--secondary"}">
                    ${e.name?"å·²å¡«å†™":"å¾…å¡«å†™"}
                  </span>
                </div>
              </div>
            </div>
            ${e.lunarDate?`<p class="person-card__lunar">${e.lunarDate}</p>`:""}
          </div>
          
          <!-- ä¹™æ–¹ä¿¡æ¯å¡ç‰‡ -->
          <div class="person-card ${this.currentStep===2?"person-card--active":""}" data-person="B">
            <div class="person-card__top">
              <span class="person-avatar">${r}</span>
              <div class="person-card__info">
                <p class="person-card__name">${A.name||"ä¹™æ–¹"}</p>
                <div class="person-card__date-row">
                  <span class="person-card__date">${A.birthDate||"æœªå¡«å†™"}</span>
                  <span class="badge ${A.name?"badge--success":"badge--secondary"}">
                    ${A.name?"å·²å¡«å†™":"å¾…å¡«å†™"}
                  </span>
                </div>
              </div>
            </div>
            ${A.lunarDate?`<p class="person-card__lunar">${A.lunarDate}</p>`:""}
          </div>
        </div>
      </section>
    `}attachEvents(){const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{this.currentStep===2?this.goBackStep():window.router.back()}),document.querySelectorAll(".person-card").forEach(s=>{s.addEventListener("click",()=>{const i=s.dataset.person;this.switchToPerson(i)})}),document.querySelectorAll(".gender-btn").forEach(s=>{s.addEventListener("click",()=>{this.selectGender(s.dataset.gender)})});const A=document.getElementById("name"),t=document.getElementById("birthDate");if(A&&A.addEventListener("input",()=>this.validateForm()),t){const s=new Date().getFullYear(),i=[];for(let o=s;o>=1920;o--)i.push(o);this.flatpickrInstance=AA(t,{dateFormat:"Y-m-d",locale:Eo.Mandarin,maxDate:"today",minDate:"1920-01-01",disableMobile:!0,allowInput:!1,clickOpens:!0,appendTo:document.body,onChange:(o,c)=>{this.updateLunarDate(c),this.validateForm(),this.updateCalendarHeader(o[0])},onReady:(o,c,l)=>{const g=l.calendarContainer;if(g){const B=document.createElement("div");B.className="flatpickr-header-display",B.innerHTML='<span class="header-date">è¯·é€‰æ‹©æ—¥æœŸ</span>',g.insertBefore(B,g.firstChild);const w=g.querySelector(".cur-year"),m=g.querySelector(".flatpickr-monthDropdown-months");if(w&&m){const Q=document.createElement("select");Q.className="flatpickr-yearDropdown",i.forEach(L=>{const S=document.createElement("option");S.value=L,S.textContent=L+"å¹´",Q.appendChild(S)}),Q.value=l.currentYear,Q.addEventListener("change",L=>{l.changeYear(parseInt(L.target.value))}),w.parentNode.replaceChild(Q,w);const y=g.querySelector(".flatpickr-current-month");y&&y.insertBefore(Q,m)}const h=document.createElement("div");h.className="flatpickr-overlay",document.body.appendChild(h),this.flatpickrOverlay=h,h.addEventListener("click",()=>{l.close()});const E=document.createElement("style");E.textContent=`
                            /* é®ç½©å±‚ */
                            .flatpickr-overlay {
                                display: none;
                                position: fixed;
                                top: 0;
                                left: 0;
                                right: 0;
                                bottom: 0;
                                background: rgba(0, 0, 0, 0.5);
                                z-index: 9998;
                            }
                            .flatpickr-overlay.active {
                                display: block;
                            }
                            
                            /* æ—¥å†å®¹å™¨å±…ä¸­ + ç´«è‰²é˜´å½± - æ— åœ†è§’ */
                            .flatpickr-calendar {
                                position: fixed !important;
                                top: 50% !important;
                                left: 50% !important;
                                transform: translate(-50%, -50%) !important;
                                z-index: 9999 !important;
                                border-radius: 16px !important;
                                box-shadow: 0 12px 48px rgba(139, 127, 216, 0.35) !important;
                                width: 340px !important;
                                max-width: 92vw !important;
                                border: none !important;
                                overflow: hidden !important;
                                background: linear-gradient(180deg, #8B7FD8 0%, #A78BFA 15%, #E8D5FF 35%, #FFE5F0 60%, #E5F0FF 100%) !important;
                            }
                            .flatpickr-calendar.open {
                                display: block !important;
                            }
                            
                            /* é¡¶éƒ¨æ—¥æœŸæ˜¾ç¤º - é€æ˜èƒŒæ™¯èå…¥æ•´ä½“æ¸å˜ */
                            .flatpickr-header-display {
                                background: transparent !important;
                                padding: 24px 20px !important;
                                text-align: center;
                                border-radius: 0 !important;
                                border: none !important;
                                margin: 0 !important;
                            }
                            .flatpickr-header-display .header-date {
                                color: #1E40AF !important;
                                font-size: 26px !important;
                                font-weight: 700 !important;
                                display: block;
                                text-shadow: 0 1px 2px rgba(255, 255, 255, 0.3);
                            }
                            
                            /* æœˆä»½å¯¼èˆªæ  - é€æ˜èƒŒæ™¯èå…¥æ•´ä½“æ¸å˜ */
                            .flatpickr-calendar .flatpickr-months {
                                background: transparent !important;
                                padding: 14px 12px !important;
                            }
                            .flatpickr-calendar .flatpickr-month {
                                height: auto !important;
                                line-height: 1.4 !important;
                            }
                            .flatpickr-calendar .flatpickr-current-month {
                                display: flex !important;
                                align-items: center !important;
                                justify-content: center !important;
                                gap: 12px !important;
                                color: #2D2D3D !important;
                                font-size: 16px !important;
                                font-weight: 600 !important;
                                padding: 0 40px !important;
                                height: auto !important;
                                position: relative !important;
                                width: 100% !important;
                            }
                            
                            /* å¹´ä»½ä¸‹æ‹‰é€‰æ‹©å™¨æ ·å¼ */
                            .flatpickr-yearDropdown {
                                color: #2D2D3D !important;
                                font-size: 15px !important;
                                font-weight: 600 !important;
                                background: white !important;
                                border: 2px solid rgba(139, 127, 216, 0.4) !important;
                                border-radius: 10px !important;
                                padding: 8px 12px !important;
                                cursor: pointer !important;
                                outline: none !important;
                                width: 115px !important;
                                height: 40px !important;
                            }
                            .flatpickr-yearDropdown:focus {
                                border-color: #8B7FD8 !important;
                                box-shadow: 0 0 0 3px rgba(139, 127, 216, 0.15) !important;
                            }
                            
                            /* æœˆä»½ä¸‹æ‹‰æ ·å¼ */
                            .flatpickr-calendar .flatpickr-current-month .flatpickr-monthDropdown-months {
                                color: #2D2D3D !important;
                                font-size: 15px !important;
                                font-weight: 600 !important;
                                background: white !important;
                                border: 2px solid rgba(139, 127, 216, 0.4) !important;
                                border-radius: 10px !important;
                                padding: 8px 16px !important;
                                cursor: pointer !important;
                                -webkit-appearance: none !important;
                                appearance: none !important;
                                width: 100px !important;
                                height: 40px !important;
                            }
                            .flatpickr-calendar .flatpickr-current-month .flatpickr-monthDropdown-months:focus {
                                border-color: #8B7FD8 !important;
                                box-shadow: 0 0 0 3px rgba(139, 127, 216, 0.15) !important;
                                outline: none !important;
                            }
                            
                            .flatpickr-calendar .flatpickr-prev-month,
                            .flatpickr-calendar .flatpickr-next-month {
                                fill: #8B7FD8 !important;
                                color: #8B7FD8 !important;
                                position: absolute !important;
                                top: 50% !important;
                                transform: translateY(-50%) !important;
                                padding: 10px !important;
                                border-radius: 8px !important;
                                transition: background 0.2s !important;
                            }
                            .flatpickr-calendar .flatpickr-prev-month {
                                left: 8px !important;
                            }
                            .flatpickr-calendar .flatpickr-next-month {
                                right: 8px !important;
                            }
                            .flatpickr-calendar .flatpickr-prev-month:hover,
                            .flatpickr-calendar .flatpickr-next-month:hover {
                                background: rgba(139, 127, 216, 0.1) !important;
                            }
                            .flatpickr-calendar .flatpickr-prev-month svg,
                            .flatpickr-calendar .flatpickr-next-month svg {
                                fill: #8B7FD8 !important;
                                width: 14px !important;
                                height: 14px !important;
                            }
                            
                            /* æ—¥å†ä¸»ä½“ - é€æ˜èƒŒæ™¯èå…¥æ•´ä½“æ¸å˜ */
                            .flatpickr-calendar .flatpickr-innerContainer {
                                background: transparent !important;
                                padding: 12px 16px 16px !important;
                            }
                            .flatpickr-calendar .flatpickr-rContainer {
                                background: transparent !important;
                            }
                            .flatpickr-calendar .flatpickr-days {
                                background: transparent !important;
                                width: 100% !important;
                            }
                            .flatpickr-calendar .dayContainer {
                                width: 100% !important;
                                min-width: 100% !important;
                                max-width: 100% !important;
                            }
                            
                            /* æ˜ŸæœŸæ ‡é¢˜ */
                            .flatpickr-calendar .flatpickr-weekdays {
                                background: transparent !important;
                                margin-bottom: 8px !important;
                            }
                            .flatpickr-calendar .flatpickr-weekday {
                                color: #6B5B95 !important;
                                font-weight: 700 !important;
                                font-size: 13px !important;
                            }
                            
                            /* æ—¥æœŸæ ·å¼ - åŸºç¡€ */
                            .flatpickr-calendar .flatpickr-day {
                                color: #2D2D3D !important;
                                border-radius: 50% !important;
                                font-weight: 600 !important;
                                height: 40px !important;
                                width: 40px !important;
                                max-width: 40px !important;
                                line-height: 40px !important;
                                margin: 1px auto !important;
                            }
                            /* å½“æœˆæ—¥æœŸ - åœ†åœˆ + æ·¡è‰²èƒŒæ™¯ */
                            .flatpickr-calendar .flatpickr-day:not(.prevMonthDay):not(.nextMonthDay):not(.selected) {
                                background: rgba(255, 255, 255, 0.55) !important;
                                border: 1.5px solid rgba(139, 127, 216, 0.2) !important;
                            }
                            /* éå½“æœˆæ—¥æœŸ - å˜æ·¡ */
                            .flatpickr-calendar .flatpickr-day.prevMonthDay,
                            .flatpickr-calendar .flatpickr-day.nextMonthDay {
                                color: #c4b8e8 !important;
                                opacity: 0.5 !important;
                                background: transparent !important;
                                border-color: transparent !important;
                            }
                            /* é€‰ä¸­æ—¥æœŸ - æ·±è‰²åœ†åœˆèƒŒæ™¯ï¼Œæé«˜ä¼˜å…ˆçº§è¦†ç›–å½“æœˆæ ·å¼ */
                            .flatpickr-calendar .flatpickr-day.selected,
                            .flatpickr-calendar .flatpickr-day.flatpickr-selected {
                                background: #5B4BB4 !important;
                                background: linear-gradient(135deg, #5B4BB4 0%, #6B5AC4 50%, #7C4DFF 100%) !important;
                                border: none !important;
                                border-color: transparent !important;
                                color: #fff !important;
                                box-shadow: 0 4px 16px rgba(91, 75, 180, 0.6), inset 0 1px 0 rgba(255,255,255,0.2) !important;
                                font-weight: 700 !important;
                                opacity: 1 !important;
                            }
                            /* ä»Šå¤© */
                            .flatpickr-calendar .flatpickr-day.today:not(.selected) {
                                border: 2px solid #8B7FD8 !important;
                                background: rgba(139, 127, 216, 0.12) !important;
                            }
                            /* ç¦ç”¨æ—¥æœŸ */
                            .flatpickr-calendar .flatpickr-day.flatpickr-disabled {
                                color: #bbb !important;
                                opacity: 0.4 !important;
                                background: transparent !important;
                                border-color: transparent !important;
                            }
                            /* æ‚¬åœ */
                            .flatpickr-calendar .flatpickr-day:hover:not(.flatpickr-disabled):not(.selected) {
                                background: rgba(139, 127, 216, 0.18) !important;
                                border-color: rgba(139, 127, 216, 0.4) !important;
                            }
                        `,document.head.appendChild(E)}if(g){let B=0,w=0,m=!1;const h=g.querySelector(".flatpickr-innerContainer")||g;h.addEventListener("touchstart",E=>{B=E.touches[0].clientX,w=E.touches[0].clientY,m=!0},{passive:!0}),h.addEventListener("touchend",E=>{if(!m)return;m=!1;const Q=E.changedTouches[0].clientX,y=E.changedTouches[0].clientY,L=Q-B,S=y-w,H=Math.abs(L),C=Math.abs(S);if(H>50&&H>C*1.5)L<0?l.changeMonth(1):l.changeMonth(-1);else if(C>60&&C>H*1.5){const K=S<0?l.currentYear+1:l.currentYear-1,k=new Date().getFullYear();if(K>=1920&&K<=k){l.changeYear(K);const D=document.querySelector(".flatpickr-yearDropdown");D&&(D.value=K)}}},{passive:!0})}l.input.addEventListener("click",()=>{l.open()})},onOpen:()=>{this.flatpickrOverlay&&this.flatpickrOverlay.classList.add("active");const o=this.flatpickrInstance.selectedDates[0];this.updateCalendarHeader(o);const c=document.querySelector(".flatpickr-yearDropdown");c&&this.flatpickrInstance&&(c.value=this.flatpickrInstance.currentYear)},onClose:()=>{this.flatpickrOverlay&&this.flatpickrOverlay.classList.remove("active")},onMonthChange:()=>{const o=document.querySelector(".flatpickr-yearDropdown");o&&this.flatpickrInstance&&(o.value=this.flatpickrInstance.currentYear)},onYearChange:()=>{const o=document.querySelector(".flatpickr-yearDropdown");o&&this.flatpickrInstance&&(o.value=this.flatpickrInstance.currentYear)}})}const r=document.querySelector('[data-action="next"]');r&&(r.onclick=s=>{console.log("ç‚¹å‡»äº†ä¸‹ä¸€æ­¥/å¼€å§‹åˆ†ææŒ‰é’®"),console.log("å½“å‰æ­¥éª¤:",this.currentStep),console.log("è¡¨å•æ•°æ®:",JSON.stringify(this.formData)),this.handleNext()});const a=document.querySelector('[data-action="back-step"]');a&&(a.onclick=()=>{console.log("ç‚¹å‡»äº†ä¸Šä¸€æ­¥æŒ‰é’®"),this.goBackStep()})}selectGender(e){document.querySelectorAll(".gender-btn").forEach(A=>{A.classList.toggle("active",A.dataset.gender===e)}),this.currentStep===1?this.formData.personA.gender=e:this.formData.personB.gender=e,this.updatePersonCards(),this.validateForm()}updateCalendarHeader(e){const A=document.querySelector(".flatpickr-header-display .header-date");if(A)if(e){const t=["å‘¨æ—¥","å‘¨ä¸€","å‘¨äºŒ","å‘¨ä¸‰","å‘¨å››","å‘¨äº”","å‘¨å…­"],r=e.getFullYear(),a=e.getMonth()+1,s=e.getDate(),i=t[e.getDay()];A.textContent=`${r}å¹´${a}æœˆ${s}æ—¥${i}`}else A.textContent="è¯·é€‰æ‹©æ—¥æœŸ"}updatePersonCards(){if(document.querySelectorAll(".person-card").length===0)return;const A=document.querySelector('[data-person="A"] .person-avatar');if(A){const r=this.formData.personA.gender;A.textContent=r==="male"?"ğŸ‘¨":r==="female"?"ğŸ‘©":"ğŸ‘¤"}const t=document.querySelector('[data-person="B"] .person-avatar');if(t){const r=this.formData.personB.gender;t.textContent=r==="male"?"ğŸ‘¨":r==="female"?"ğŸ‘©":"ğŸ‘¤"}}validateForm(){const e=document.getElementById("name")?.value.trim(),A=document.getElementById("birthDate")?.value,t=this.currentStep===1?this.formData.personA.gender:this.formData.personB.gender,r=e&&A&&t;console.log("validateForm:",{name:e,birthDate:A,gender:t,isValid:r,step:this.currentStep});const a=document.querySelector('[data-action="next"]');return a&&(a.disabled=!r),this.updateCurrentPersonCard(e,A,t),r&&this.autoNavigateNext(),r}autoNavigateNext(){this.autoNavTimer&&clearTimeout(this.autoNavTimer),this.autoNavTimer=setTimeout(()=>{const e=document.getElementById("name")?.value.trim(),A=document.getElementById("birthDate")?.value,t=this.currentStep===1?this.formData.personA.gender:this.formData.personB.gender;if(e&&A&&t){const r=A?Me(A):"",a=this.currentStep===1?"personA":"personB";this.formData[a].name=e,this.formData[a].birthDate=A,this.formData[a].lunarDate=r;const s=this.currentStep===1?"personB":"personA",i=this.formData[s],o=i.name&&i.birthDate&&i.gender;this.currentStep===1&&!o&&(this.currentStep=2,this.rerender())}},500)}updateCurrentPersonCard(e,A,t){const r=this.currentStep===1?"A":"B",a=document.querySelector(`[data-person="${r}"]`);if(!a)return;const s=a.querySelector(".person-avatar");s&&(s.textContent=t==="male"?"ğŸ‘¨":t==="female"?"ğŸ‘©":"ğŸ‘¤");const i=a.querySelector(".person-card__name");i&&(i.textContent=e||(r==="A"?"ç”²æ–¹":"ä¹™æ–¹"));const o=a.querySelector(".person-card__date");o&&(o.textContent=A||"æœªå¡«å†™");const c=a.querySelector(".person-card__lunar");if(A){const g=Me(A);if(c)c.textContent=g;else{const B=document.createElement("p");B.className="person-card__lunar",B.textContent=g,a.appendChild(B)}}else c&&c.remove();const l=a.querySelector(".badge");if(l){const g=e&&A&&t;l.className=`badge ${g?"badge--success":"badge--secondary"}`,l.textContent=g?"å·²å¡«å†™":"å¾…å¡«å†™"}}updateLunarDate(e){const A=document.getElementById("lunar-date"),t=A?.querySelector(".lunar-text");if(!(!A||!t))if(e){const r=Me(e);t.textContent=`å†œå†ï¼š${r}`,A.style.display="flex"}else A.style.display="none"}handleNext(){if(console.log("handleNext è¢«è°ƒç”¨"),!this.validateForm()){console.log("è¡¨å•éªŒè¯æœªé€šè¿‡ï¼Œè¿”å›");return}const e=document.getElementById("name").value.trim(),A=document.getElementById("birthDate").value,t=A?Me(A):"";console.log("è¡¨å•æ•°æ®:",{name:e,birthDate:A,lunarDate:t}),this.currentStep===1?(this.formData.personA.name=e,this.formData.personA.birthDate=A,this.formData.personA.lunarDate=t,this.currentStep=2,this.rerender()):(this.formData.personB.name=e,this.formData.personB.birthDate=A,this.formData.personB.lunarDate=t,console.log("å‡†å¤‡æäº¤æµ‹è¯•ï¼Œè·³è½¬åˆ°å•†å“é¡µ"),this.saveTestDataAndGoProduct())}goBackStep(){this.currentStep===2&&(this.saveCurrentFormData(),this.currentStep=1,this.rerender())}saveCurrentFormData(){const e=document.getElementById("name")?.value.trim()||"",A=document.getElementById("birthDate")?.value||"",t=A?Me(A):"",r=this.currentStep===1?"personA":"personB";this.formData[r].name=e,this.formData[r].birthDate=A,this.formData[r].lunarDate=t}switchToPerson(e){const A=e==="A"?1:2;A!==this.currentStep&&(this.saveCurrentFormData(),this.currentStep=A,this.rerender())}rerender(){this.flatpickrInstance&&(this.flatpickrInstance.destroy(),this.flatpickrInstance=null),this.flatpickrOverlay&&(this.flatpickrOverlay.remove(),this.flatpickrOverlay=null);const e=document.getElementById("app"),A=document.querySelector(".form-section");A&&A.classList.add("fade-out"),setTimeout(()=>{e.innerHTML=this.render(),this.attachEvents();const t=this.currentStep===1?this.formData.personA:this.formData.personB;if(t.name&&(document.getElementById("name").value=t.name),t.birthDate&&(document.getElementById("birthDate").value=t.birthDate,this.updateLunarDate(t.birthDate)),t.gender)this.selectGender(t.gender);else if(this.currentStep===2&&!this.formData.personB.gender){const a=this.formData.personA.gender==="male"?"female":"male";this.selectGender(a)}this.validateForm();const r=document.querySelector(".form-section");r&&r.classList.add("fade-in")},150)}saveTestDataAndGoProduct(){const e={type:this.matchType.id,method:"birthday",personA:{name:this.formData.personA.name,gender:this.formData.personA.gender==="male"?"ç”·":"å¥³",birthDate:this.formData.personA.birthDate},personB:{name:this.formData.personB.name,gender:this.formData.personB.gender==="male"?"ç”·":"å¥³",birthDate:this.formData.personB.birthDate},timestamp:Date.now()};window.appState.set("currentTest",e),window.router.navigate(`/product/${this.matchType.id}`)}async submitTest(){console.log("submitTest è¢«è°ƒç”¨");const e={type:this.matchType.id,method:"birthday",personA:{name:this.formData.personA.name,gender:this.formData.personA.gender==="male"?"ç”·":"å¥³",birthDate:this.formData.personA.birthDate},personB:{name:this.formData.personB.name,gender:this.formData.personB.gender==="male"?"ç”·":"å¥³",birthDate:this.formData.personB.birthDate},timestamp:Date.now()};console.log("æµ‹è¯•æ•°æ®:",JSON.stringify(e));const A=ln();try{let t=null;try{const a=localStorage.getItem("user");if(a){const s=JSON.parse(a);t=s.id||s.userId||null}}catch{}const r=await dt.create(A,e,t);console.log("åŒ¹é…è®°å½•åˆ›å»º/å¤ç”¨æˆåŠŸ:",r),e.recordId=r.data?.recordId,e.sessionId=A}catch(t){console.error("åˆ›å»ºåŒ¹é…è®°å½•å¤±è´¥:",t),e.sessionId=A}window.appState.set("currentTest",e),console.log("å‡†å¤‡è·³è½¬åˆ° /result/birthday"),window.router.navigate("/result/birthday")}}const xo=["ç»¼åˆ","å¥åº·ç±»","äº‹ä¸šç±»","è´¢è¿ç±»","æ„Ÿæƒ…ç±»","æŠ•èµ„ç±»","å­¦ä¸šç±»","å…¶ä»–ç±»"],Ho={å¥åº·ç±»:["ç–¾ç—…ä»€ä¹ˆæ—¶å€™èƒ½ç—Šæ„ˆ","æ˜å¹´èº«ä½“å¥åº·çŠ¶å†µ","ä»€ä¹ˆæ—¶å€™èƒ½æ€€å­•","äº²äººç—…äº†ï¼Œè¿™ä¸ªç—…èƒ½å¥½å—","è¿™ä¸ªç—…é€‚åˆä¿å®ˆæ²»ç–—è¿˜æ˜¯åšæ‰‹æœ¯","è¿™ä¸ªç—…æœ€é•¿è¿˜èƒ½æ´»å¤šä¹…"],äº‹ä¸šç±»:["å‡èŒæœºé‡","ç°åœ¨é€‚åˆåˆ›ä¸šå—","ç°åœ¨é€‚åˆæ¢å·¥ä½œå—","æ€ä¹ˆé€‰æ‹©å·¥ä½œæ–¹å‘","è·Ÿäººåˆä½œæ˜¯å¦æœ‰åˆ©","æŠ•èµ„æ–°ç”Ÿæ„æ˜¯å¦æœ‰åˆ©","å…¥èŒæ–°å…¬å¸æ˜¯å¦æœ‰åˆ©","æˆ‘èƒ½é¡ºåˆ©é€šè¿‡é¢è¯•å—","å•ä½æœ‰äººæ•…æ„ä¸ºéš¾æ€ä¹ˆåŠ","ç›®å‰æ¨è¿›çš„é¡¹ç›®ä¼šé¡ºåˆ©å—","æœªæ¥ä¸‰ä¸ªæœˆï¼Œæˆ‘ä¼šé‡åˆ°æ–°çš„å·¥ä½œæœºä¼šå—","ç°åœ¨é¢è¯•çš„å…¬å¸æ€ä¹ˆé€‰æ‹©"],è´¢è¿ç±»:["æœ€è¿‘ä¸‰ä¸ªæœˆè´¢è¿æ€ä¹ˆæ ·","æœªæ¥ä¸€å¹´è´¢è¿æ€æ ·","ä»€ä¹ˆæ—¶å€™æœ‰è´¢è¿"],æ„Ÿæƒ…ç±»:["æ˜å¹´æ¡ƒèŠ±è¿æ€ä¹ˆæ ·","ç®—å’ŒTAæ˜¯å¦åˆé€‚åœ¨ä¸€èµ·","æœ€è¿‘ä¼šä¸ä¼šé‡åˆ°çƒ‚æ¡ƒèŠ±","æˆ‘å’ŒTAä¼šèµ°åˆ°ä¸€èµ·å—","æˆ‘å’ŒTAæ„Ÿæƒ…ä¸å¥½ï¼Œæ˜¯ä¸æ˜¯ä¸é€‚åˆ","æˆ‘å’ŒTA2026å¹´æ˜¯ä¸æ˜¯æ„Ÿæƒ…ä¼šæ›´å¥½","ä¸‹ä¸€æ¬¡é‡åˆ°æ­£ç¼˜æ˜¯ä»€ä¹ˆæ—¶å€™","Aå’ŒBå“ªä¸ªæ›´é€‚åˆåœ¨ä¸€èµ·","è¦è°ˆå‡ ä¸ªç”·/å¥³æœ‹å‹æ‰ä¼šé‡åˆ°é€‚åˆç»“å©šçš„äºº","æœªæ¥ä¸‰ä¸ªæœˆï¼Œæˆ‘æ˜¯å¦ä¼šé‡åˆ°æ–°çš„æ¡ƒèŠ±","æˆ‘å’ŒTAå¼‚åœ°æ‹ï¼Œä¼šæœ‰ç»“æœå—","ç°åœ¨é‡åˆ°çš„äººä¼šæ˜¯æˆ‘çš„æ­£ç¼˜å—","æˆ‘å’ŒTAèƒ½å¤åˆå—","å®¶äººåå¯¹è¯¥æ€ä¹ˆåŠ"],æŠ•èµ„ç±»:["è¿‘ä¸€ä¸ªæœˆAè‚¡èµ°åŠ¿","è¿‘æœŸé€‚ä¸é€‚åˆæŠ•èµ„","ä»€ä¹ˆæ—¶å€™æŠ•èµ„æœ‰è´¢è¿","æŸåªè‚¡ç¥¨è¿‘ä¸€ä¸ªæœˆèµ°åŠ¿","æŸè¡Œä¸šèƒ½æŠ•èµ„å—"],å­¦ä¸šç±»:["æœ¬æ¬¡è€ƒè¯•èƒ½å¦é¡ºåˆ©","é€‚åˆå­¦ä»€ä¹ˆä¸“ä¸š","é€‚åˆè€ƒå“ªé‡Œçš„å¤§å­¦","èƒ½å¦è€ƒä¸Šé‡ç‚¹å­¦æ ¡","é€‚åˆå¾€å“ªä¸ªæ–¹å‘å‘å±•","å°å­©å­¦ä¹ ä¸å¥½ï¼Œæ€ä¹ˆåŠ","åº”è¯¥é€‰æ–‡ç§‘è¿˜æ˜¯ç†ç§‘","é€‚åˆä»€ä¹ˆç±»å‹è¯¾å¤–å…´è¶£ç­","å­¦æ ¡Aå’Œå­¦æ ¡Bå»å“ªä¸ªæ›´å¥½"],ç»¼åˆ:["æ˜å¤©ä¼šæ€ä¹ˆæ ·","æ˜å¹´äº‹ä¸šã€è´¢è¿","æ˜å¹´æ•´ä½“æƒ…å†µ","2026å¹´ä¼šä¸ä¼šå‘è´¢","2026å¹´ä¼šä¸ä¼šé‡åˆ°åˆé€‚çš„äºº","æœ€è¿‘ç‰¹åˆ«ä¸é¡ºè¯¥æ€ä¹ˆåŠ","ä¸‹å‘¨ä¼šæ€ä¹ˆæ ·"],å…¶ä»–ç±»:["æ˜å¤©é€‚åˆå‡ºè¿œé—¨å—ï¼ˆç¡®å®šä½ç½®çš„åœ°æ–¹ï¼‰","è¿‘æœŸå“ªå¤©é€‚åˆå‡ºè¿œé—¨ï¼ˆç¡®å®šä½ç½®çš„åœ°æ–¹ï¼‰","è¿‘æœŸå“ªå¤©å»åŠäº‹æ¯”è¾ƒé¡ºåˆ©ï¼ˆç¡®å®šæŸä¸€ä»¶äº‹ï¼‰","æ˜å¤©ç©¿ä»€ä¹ˆé¢œè‰²è¡£æœä¼šæœ‰å¥½è¿","è¿‘æœŸæˆ‘å¦‚ä½•å¤„ç†å’Œå®¶äººçš„å…³ç³»","æ€ä¹ˆé¿å°äºº","é€‚åˆä½å“ªä¸ªä½ç½®çš„æˆ¿å­/Aå’ŒBå°åŒºï¼Œå“ªä¸ªæ›´é€‚åˆ"]},So={ç»¼åˆ:"nianyun",å¥åº·ç±»:"jiankang",äº‹ä¸šç±»:"shiye",è´¢è¿ç±»:"caiyun",æ„Ÿæƒ…ç±»:"ganqing",æŠ•èµ„ç±»:"gushi",å­¦ä¸šç±»:"shengxue",å…¶ä»–ç±»:"qita"};class Do{constructor(e){if(this.matchType=FA(e.type),this.selectedCategoryIndex=0,this.categories=xo,this.categoryQuestions=Ho,this.categoryRuleMap=So,this.currentQuestions=[],this.selectedQuestionIndex=-1,this.selectedQuestion="",this.showFreeInput=!1,this.freeInputQuestion="",this.questionCategory="",this.questionType="",this.showGenderModal=!1,this.selectedGender=null,!this.matchType){window.router.navigate("/");return}this.updateQuestionList(this.selectedCategoryIndex)}updateQuestionList(e){const A=this.categories[e],t=this.categoryQuestions[A]||[];this.currentQuestions=t,this.selectedQuestionIndex=-1,this.selectedQuestion="",this.showFreeInput=!1,this.freeInputQuestion=""}saveQuestionToGlobal(e){const A=this.selectedCategoryIndex,t=this.categories[A],r=this.categoryRuleMap[t]||"nianyun";this.selectedQuestion=e,this.questionCategory=t,this.questionType=r,window.appState&&(window.appState.set("selectedQuestion",e),window.appState.set("questionCategory",t),window.appState.set("questionType",r)),console.log("[é—®äº‹] é€‰æ‹©é—®é¢˜:",e),console.log("[é—®äº‹] é—®é¢˜åˆ†ç±»:",t),console.log("[é—®äº‹] è§„åˆ™ç±»å‹:",r)}render(){return this.matchType?`
      <div class="page tarot-question-page">
        ${j({title:"",showBack:!0,showHistory:!1,showProfile:!1})}
        
        <main class="page-content">
          <div class="app-container">
            
            <!-- è¿›åº¦æŒ‡ç¤ºå™¨ -->
            <div class="tarot-progress">
              ${gt(1,5,{showText:!1,showSteps:!0,stepLabel:""})}
            </div>

            <!-- é¡µé¢æ ‡é¢˜ -->
            <section class="question-header animate-fade-in-up">
              <h1 class="question-title">ä½ æƒ³é—®ä»€ä¹ˆå‘¢ï¼Ÿ</h1>
              <p class="question-subtitle">æ— è®ºå¤§å°ï¼Œä»»ä½•é—®é¢˜éƒ½å¯ä»¥</p>
            </section>

            <!-- åˆ†ç±»æ ‡ç­¾ -->
            <section class="category-tags animate-fade-in-up animate-delay-100">
              ${this.categories.map((e,A)=>`
                <button class="category-tag ${A===this.selectedCategoryIndex?"active":""}" 
                        data-category-index="${A}">
                  ${e}
                </button>
              `).join("")}
            </section>

            <!-- é—®é¢˜åˆ—è¡¨ -->
            <section class="question-list animate-fade-in-up animate-delay-200">
              ${this.renderQuestionList()}
            </section>

            <!-- æ€§åˆ«é€‰æ‹©å¼¹æ¡† -->
            <div class="gender-modal ${this.showGenderModal?"show":""}" id="genderModal">
              <div class="gender-modal__overlay"></div>
              <div class="gender-modal__content">
                <h3 class="gender-modal__title">è¯·ç¡®è®¤æ‚¨çš„æ€§åˆ«</h3>
                <p class="gender-modal__subtitle">æ€§åˆ«ä¿¡æ¯å°†å¸®åŠ©æ›´å‡†ç¡®è§£è¯»ç»“æœ</p>
                <div class="gender-modal__options">
                  <div class="gender-option ${this.selectedGender==="male"?"selected":""}" data-gender="male">
                    <div class="gender-option__avatar gender-option__avatar--male">
                      <span class="gender-avatar-icon">ğŸ‘¨</span>
                    </div>
                    <span class="gender-option__label">ç”·</span>
                  </div>
                  <div class="gender-option ${this.selectedGender==="female"?"selected":""}" data-gender="female">
                    <div class="gender-option__avatar gender-option__avatar--female">
                      <span class="gender-avatar-icon">ğŸ‘©</span>
                    </div>
                    <span class="gender-option__label">å¥³</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- åº•éƒ¨æŒ‰é’®åŒºåŸŸ -->
            <section class="question-footer animate-fade-in-up animate-delay-400">
              <button class="btn btn--primary btn--full btn--lg submit-btn ${!this.selectedQuestion&&!this.freeInputQuestion?"disabled":""}" 
                      ${!this.selectedQuestion&&!this.freeInputQuestion?"disabled":""}
                      id="submitBtn">
                ${this.getSubmitButtonText()}
              </button>
              <p class="disclaimer">ä»…ä¾›å¨±ä¹å‚è€ƒï¼Œä¸ä½œä¸ºä»»ä½•å†³ç­–ä¾æ®</p>
            </section>

            <div class="safe-area-bottom"></div>
          </div>
        </main>
      </div>
    `:""}renderQuestionList(){return this.currentQuestions.map((e,A)=>{const t=this.selectedQuestionIndex===A;return`
              <div class="question-item ${t?"selected":""}" 
                   data-question-index="${A}">
                <span class="question-text">${e}</span>
                ${t?'<span class="question-check">âœ“</span>':""}
              </div>
            `}).join("")}attachEvents(){const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{window.router.back()}),document.querySelectorAll(".category-tag").forEach(t=>{t.addEventListener("click",()=>{const r=parseInt(t.dataset.categoryIndex);this.onCategoryChange(r)})}),this.attachQuestionEvents();const A=document.querySelector(".submit-btn");A&&A.addEventListener("click",()=>{this.handleSubmit()}),this.attachGenderModalEvents()}attachGenderModalEvents(){document.querySelectorAll(".gender-option").forEach(A=>{A.addEventListener("click",()=>{const t=A.dataset.gender;this.handleGenderSelect(t)})});const e=document.querySelector(".gender-modal__overlay");e&&e.addEventListener("click",()=>{this.hideGenderModal()})}attachQuestionEvents(){document.querySelectorAll(".question-item").forEach(e=>{e.addEventListener("click",()=>{const A=parseInt(e.dataset.questionIndex);this.onQuestionChange(A)})})}onCategoryChange(e){this.selectedCategoryIndex=e,this.updateQuestionList(e),document.querySelectorAll(".category-tag").forEach((A,t)=>{A.classList.toggle("active",t===e)}),this.updateQuestionListUI(),this.updateSubmitButton()}onQuestionChange(e){const A=this.currentQuestions[e];this.selectedQuestionIndex=e,this.selectedQuestion=A,this.freeInputQuestion="",this.saveQuestionToGlobal(A),document.querySelectorAll(".question-item").forEach((t,r)=>{const a=r===e;t.classList.toggle("selected",a);let s=t.querySelector(".question-check");a&&!s?(s=document.createElement("span"),s.className="question-check",s.textContent="âœ“",t.appendChild(s)):!a&&s&&s.remove()}),this.updateSubmitButton()}updateQuestionListUI(){const e=document.querySelector(".question-list");e&&(e.innerHTML=this.renderQuestionList(),this.attachQuestionEvents())}handleSubmit(){const e=this.selectedQuestion;if(!e||!e.trim()){window.showToast("è¯·å…ˆé€‰æ‹©é—®é¢˜","error");return}if(this.showGenderModal&&this.selectedGender){this.submitWithGender();return}this.showGenderModalFn()}showGenderModalFn(){this.showGenderModal=!0;const e=document.getElementById("genderModal");e&&e.classList.add("show"),this.updateSubmitButton()}hideGenderModal(){this.showGenderModal=!1,this.selectedGender=null;const e=document.getElementById("genderModal");e&&e.classList.remove("show"),document.querySelectorAll(".gender-option").forEach(A=>{A.classList.remove("selected")}),this.updateSubmitButton()}handleGenderSelect(e){this.selectedGender=e,document.querySelectorAll(".gender-option").forEach(A=>{A.classList.toggle("selected",A.dataset.gender===e)}),setTimeout(()=>{this.submitWithGender()},500)}getSubmitButtonText(){return this.selectedQuestion?"ä¸‹ä¸€æ­¥":"è¯·é€‰æ‹©é—®é¢˜"}updateSubmitButton(){const e=document.querySelector(".submit-btn");if(e){const A=this.selectedQuestion,t=this.showGenderModal?A&&this.selectedGender:A;e.disabled=!t,e.classList.toggle("disabled",!t),e.textContent=this.getSubmitButtonText()}}submitWithGender(){const e=this.selectedQuestion;this.saveQuestionToGlobal(e.trim()),window.appState&&(window.appState.set("tarotQuestion",e),window.appState.set("tarotCategory",this.categories[this.selectedCategoryIndex]),window.appState.set("tarotGender",this.selectedGender),window.appState.set("selectedQuestion",e),window.appState.set("questionCategory",this.questionCategory),window.appState.set("questionType",this.questionType));const A=new Date,t=`${A.getFullYear()}-${String(A.getMonth()+1).padStart(2,"0")}-${String(A.getDate()).padStart(2,"0")} ${String(A.getHours()).padStart(2,"0")}:${String(A.getMinutes()).padStart(2,"0")}:${String(A.getSeconds()).padStart(2,"0")}`;console.log(`[${t}] æäº¤: é—®é¢˜=${e}, åˆ†ç±»=${this.questionCategory}, è§„åˆ™ç±»å‹=${this.questionType}, æ€§åˆ«=${this.selectedGender}`),window.router.navigate(`/test/${this.matchType.id}/tarot/shuffle`)}}const Lo=[{icon:"ğŸš«",title:"åªèƒ½ç®—è‡ªå·±çš„äº‹",description:"ç»“æœåªåæ˜ æé—®è€…æœ¬äººçš„æ°”åœº",examples:[{text:"å¸®æœ‹å‹ç®—",allowed:!1},{text:"ç®—è‡ªå·±çš„äº‹",allowed:!0}]},{icon:"ğŸ‘¨â€ğŸ‘©â€ğŸ‘§",title:"è‡³äº²é™¤å¤–",description:"å¯å¸®çˆ¶æ¯/å­å¥³ç®—ï¼Œéœ€çœŸå¿ƒå…³åˆ‡",examples:[{text:"å¸®å®¶äººç®—",allowed:!0},{text:"å¸®åŒäº‹ç®—",allowed:!1}]},{icon:"âš–ï¸",title:"ä¸ç®—ä¸æ­£ä¹‹äº‹",description:"è¿èƒŒé“å¾·çš„äº‹ä¸ä¼šçµéªŒ",examples:[{text:"å©šå¤–æƒ…",allowed:!1},{text:"å‘å®³ä»–äºº",allowed:!1}]},{icon:"ğŸš¨",title:"ä¸ç®—è¿æ³•ä¹‹äº‹",description:"è¿æ³•çŠ¯ç½ªå¤©ç†ä¸å®¹",examples:[{text:"èµŒåš",allowed:!1},{text:"éæ³•ç‰Ÿåˆ©",allowed:!1}]}];class To{constructor(e){if(this.matchType=FA(e.type),!this.matchType){window.router.navigate("/");return}}render(){return this.matchType?`
      <div class="page tarot-taboo-page">
        ${j({title:"",showBack:!0,showHistory:!1,showProfile:!1})}
        
        <main class="page-content">
          <div class="app-container">
            
            <!-- è¿›åº¦æŒ‡ç¤ºå™¨ -->
            <div class="tarot-progress">
              ${gt(2,5,{showText:!1,showSteps:!0,stepLabel:""})}
            </div>

            <!-- é¡µé¢æ ‡é¢˜ -->
            <section class="taboo-header animate-fade-in-up">
              <div class="taboo-title-icon">âš ï¸</div>
              <h1 class="taboo-title">é—®äº‹ç¦å¿Œ</h1>
              <p class="taboo-subtitle">è¯·ä»”ç»†é˜…è¯»ï¼Œè¿åç¦å¿Œä¼šå½±å“å‡†ç¡®æ€§</p>
            </section>

            <!-- ç¦å¿Œè§„åˆ™åˆ—è¡¨ -->
            <section class="taboo-rules animate-fade-in-up animate-delay-100">
              ${Lo.map((e,A)=>`
                <div class="taboo-card animate-fade-in-up animate-delay-${(A+1)*100}">
                  <div class="taboo-card__header">
                    <span class="taboo-card__icon">${e.icon}</span>
                    <h3 class="taboo-card__title">${e.title}</h3>
                  </div>
                  <p class="taboo-card__description">${e.description}</p>
                  <div class="taboo-card__examples">
                    ${e.examples.map(t=>`
                      <span class="taboo-example ${t.allowed?"taboo-example--allowed":"taboo-example--forbidden"}">
                        <span class="taboo-example__icon">${t.allowed?"âœ…":"âŒ"}</span>
                        <span class="taboo-example__text">${t.text}</span>
                      </span>
                    `).join("")}
                  </div>
                </div>
              `).join("")}
            </section>

            <!-- åº•éƒ¨æŒ‰é’®åŒºåŸŸ -->
            <section class="taboo-footer animate-fade-in-up animate-delay-500">
              <div class="taboo-footer__buttons">
                <button class="btn btn--secondary btn--lg prev-btn" id="prevBtn">
                  ä¸Šä¸€æ­¥
                </button>
                <button class="btn btn--primary btn--lg next-btn" id="nextBtn">
                  æˆ‘å·²äº†è§£ï¼Œä¸‹ä¸€æ­¥
                </button>
              </div>
            </section>

            <div class="safe-area-bottom"></div>
          </div>
        </main>
      </div>
    `:""}attachEvents(){const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{window.router.back()});const A=document.getElementById("prevBtn");A&&A.addEventListener("click",()=>{window.router.back()});const t=document.getElementById("nextBtn");t&&t.addEventListener("click",()=>{this.handleNext()})}handleNext(){const e=new Date,A=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")} ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}:${String(e.getSeconds()).padStart(2,"0")}`;console.log(`[${A}] ç”¨æˆ·å·²é˜…è¯»é—®äº‹ç¦å¿Œï¼Œè¿›å…¥ä¸‹ä¸€æ­¥`),window.router.navigate(`/test/${this.matchType.id}/tarot/principle`)}}const Mo=[{icon:"ğŸ™",title:"å¿ƒè¯šåˆ™çµ",description:"æŠ±ç€æ•¬ç•ä¹‹å¿ƒæé—®ï¼Œç»“æœæ‰å‡†ç¡®",tips:["é™å¿ƒé»˜å¿µæ‰€é—®ä¹‹äº‹"]},{icon:"ğŸ¯",title:"ä¸“æ³¨æ‰å‡†",description:"ä¸‰å¿ƒäºŒæ„ä¼šå¹²æ‰°ç»“æœå‡†ç¡®æ€§",tips:["æ‰¾å®‰é™ç¯å¢ƒï¼Œæ’é™¤æ‚å¿µ"]},{icon:"ğŸ¤",title:"åŠ¨æœºçº¯æ­£",description:"ä¸ºè¶‹å‰é¿å‡¶ï¼Œéæ»¡è¶³ç§æ¬²",tips:["æ˜ç¡®çœŸå®ç›®çš„"]}];class Ko{constructor(e){if(this.matchType=FA(e.type),!this.matchType){window.router.navigate("/");return}}render(){return this.matchType?`
      <div class="page tarot-principle-page">
        ${j({title:"",showBack:!0,showHistory:!1,showProfile:!1})}
        
        <main class="page-content">
          <div class="app-container">
            
            <!-- è¿›åº¦æŒ‡ç¤ºå™¨ -->
            <div class="tarot-progress">
              ${gt(3,5,{showText:!1,showSteps:!0,stepLabel:""})}
            </div>

            <!-- é¡µé¢æ ‡é¢˜ -->
            <section class="principle-header animate-fade-in-up">
              <div class="principle-title-icon">ğŸ’¬</div>
              <h1 class="principle-title">é—®äº‹åŸåˆ™</h1>
              <p class="principle-subtitle">éµå¾ªåŸåˆ™ï¼Œæ–¹èƒ½å¾—åˆ°å‡†ç¡®æŒ‡å¼•</p>
            </section>

            <!-- åŸåˆ™åˆ—è¡¨ -->
            <section class="principle-rules animate-fade-in-up animate-delay-100">
              ${Mo.map((e,A)=>`
                <div class="principle-card animate-fade-in-up animate-delay-${(A+1)*100}">
                  <div class="principle-card__header">
                    <span class="principle-card__icon">${e.icon}</span>
                    <h3 class="principle-card__title">${e.title}</h3>
                  </div>
                  <p class="principle-card__description">${e.description}</p>
                  <div class="principle-card__tips">
                    ${e.tips.map(t=>`
                      <div class="principle-tip">
                        <span class="principle-tip__dot">Â·</span>
                        <span class="principle-tip__text">${t}</span>
                      </div>
                    `).join("")}
                  </div>
                </div>
              `).join("")}
            </section>

            <!-- åº•éƒ¨æŒ‰é’®åŒºåŸŸ -->
            <section class="principle-footer animate-fade-in-up animate-delay-400">
              <div class="principle-footer__buttons">
                <button class="btn btn--secondary btn--lg prev-btn" id="prevBtn">
                  ä¸Šä¸€æ­¥
                </button>
                <button class="btn btn--primary btn--lg next-btn" id="nextBtn">
                  å¼€å§‹é—®äº‹ ğŸ”®
                </button>
              </div>
            </section>

            <div class="safe-area-bottom"></div>
          </div>
        </main>
      </div>
    `:""}attachEvents(){const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{window.router.back()});const A=document.getElementById("prevBtn");A&&A.addEventListener("click",()=>{window.router.back()});const t=document.getElementById("nextBtn");t&&t.addEventListener("click",()=>{this.handleNext()})}handleNext(){const e=new Date,A=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")} ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}:${String(e.getSeconds()).padStart(2,"0")}`;console.log(`[${A}] ç”¨æˆ·å·²é˜…è¯»é—®äº‹åŸåˆ™ï¼Œå¼€å§‹é—®äº‹`),window.router.navigate(`/test/${this.matchType.id}/tarot/shuffle`)}}const ko={111111:{name:"ä¹¾ä¸ºå¤©",palace:"ä¹¾å®«",wuxing:"é‡‘",shi:6,ying:3,liuqin:["å­å­™","å¦»è´¢","çˆ¶æ¯","å®˜é¬¼","å…„å¼Ÿ","çˆ¶æ¯"],dizhi:["å­","å¯…","è¾°","åˆ","ç”³","æˆŒ"],wuxingYao:["æ°´","æœ¨","åœŸ","ç«","é‡‘","åœŸ"]},"011111":{name:"å¤©é£å§¤",palace:"ä¹¾å®«",wuxing:"é‡‘",shi:1,ying:4,liuqin:["çˆ¶æ¯","å­å­™","å…„å¼Ÿ","å®˜é¬¼","å…„å¼Ÿ","çˆ¶æ¯"],dizhi:["ä¸‘","äº¥","é…‰","åˆ","ç”³","æˆŒ"],wuxingYao:["åœŸ","æ°´","é‡‘","ç«","é‡‘","åœŸ"]},"001111":{name:"å¤©å±±é",palace:"ä¹¾å®«",wuxing:"é‡‘",shi:2,ying:5,liuqin:["çˆ¶æ¯","å®˜é¬¼","å…„å¼Ÿ","å®˜é¬¼","å…„å¼Ÿ","çˆ¶æ¯"],dizhi:["è¾°","åˆ","ç”³","åˆ","ç”³","æˆŒ"],wuxingYao:["åœŸ","ç«","é‡‘","ç«","é‡‘","åœŸ"]},"000111":{name:"å¤©åœ°å¦",palace:"ä¹¾å®«",wuxing:"é‡‘",shi:3,ying:6,liuqin:["çˆ¶æ¯","å®˜é¬¼","å¦»è´¢","å®˜é¬¼","å…„å¼Ÿ","çˆ¶æ¯"],dizhi:["æœª","å·³","å¯","åˆ","ç”³","æˆŒ"],wuxingYao:["åœŸ","ç«","æœ¨","ç«","é‡‘","åœŸ"]},"000011":{name:"é£åœ°è§‚",palace:"ä¹¾å®«",wuxing:"é‡‘",shi:4,ying:1,liuqin:["çˆ¶æ¯","å®˜é¬¼","å¦»è´¢","çˆ¶æ¯","å®˜é¬¼","å¦»è´¢"],dizhi:["æœª","å·³","å¯","æœª","å·³","å¯"],wuxingYao:["åœŸ","ç«","æœ¨","åœŸ","ç«","æœ¨"]},"000001":{name:"å±±åœ°å‰¥",palace:"ä¹¾å®«",wuxing:"é‡‘",shi:5,ying:2,liuqin:["çˆ¶æ¯","å®˜é¬¼","å¦»è´¢","çˆ¶æ¯","å­å­™","å¦»è´¢"],dizhi:["æœª","å·³","å¯","æˆŒ","å­","å¯…"],wuxingYao:["åœŸ","ç«","æœ¨","åœŸ","æ°´","æœ¨"]},"000101":{name:"ç«åœ°æ™‹",palace:"ä¹¾å®«",wuxing:"é‡‘",shi:4,ying:1,liuqin:["çˆ¶æ¯","å®˜é¬¼","å¦»è´¢","å…„å¼Ÿ","çˆ¶æ¯","å®˜é¬¼"],dizhi:["æœª","å·³","å¯","é…‰","æœª","å·³"],wuxingYao:["åœŸ","ç«","æœ¨","é‡‘","åœŸ","ç«"]},111101:{name:"ç«å¤©å¤§æœ‰",palace:"ä¹¾å®«",wuxing:"é‡‘",shi:3,ying:6,liuqin:["å­å­™","å¦»è´¢","çˆ¶æ¯","å…„å¼Ÿ","çˆ¶æ¯","å®˜é¬¼"],dizhi:["å­","å¯…","è¾°","é…‰","æœª","å·³"],wuxingYao:["æ°´","æœ¨","åœŸ","é‡‘","åœŸ","ç«"]},110110:{name:"å…‘ä¸ºæ³½",palace:"å…‘å®«",wuxing:"é‡‘",shi:6,ying:3,liuqin:["å®˜é¬¼","å¦»è´¢","çˆ¶æ¯","å­å­™","å…„å¼Ÿ","çˆ¶æ¯"],dizhi:["å·³","å¯","ä¸‘","äº¥","é…‰","æœª"],wuxingYao:["ç«","æœ¨","åœŸ","æ°´","é‡‘","åœŸ"]},"010110":{name:"æ³½æ°´å›°",palace:"å…‘å®«",wuxing:"é‡‘",shi:1,ying:4,liuqin:["å¦»è´¢","çˆ¶æ¯","å®˜é¬¼","å­å­™","å…„å¼Ÿ","çˆ¶æ¯"],dizhi:["å¯…","è¾°","åˆ","äº¥","é…‰","æœª"],wuxingYao:["æœ¨","åœŸ","ç«","æ°´","é‡‘","åœŸ"]},"000110":{name:"æ³½åœ°èƒ",palace:"å…‘å®«",wuxing:"é‡‘",shi:2,ying:5,liuqin:["çˆ¶æ¯","å®˜é¬¼","å¦»è´¢","å­å­™","å…„å¼Ÿ","çˆ¶æ¯"],dizhi:["æœª","å·³","å¯","äº¥","é…‰","æœª"],wuxingYao:["åœŸ","ç«","æœ¨","æ°´","é‡‘","åœŸ"]},"001110":{name:"æ³½å±±å’¸",palace:"å…‘å®«",wuxing:"é‡‘",shi:3,ying:6,liuqin:["çˆ¶æ¯","å®˜é¬¼","å…„å¼Ÿ","å­å­™","å…„å¼Ÿ","çˆ¶æ¯"],dizhi:["è¾°","åˆ","ç”³","äº¥","é…‰","æœª"],wuxingYao:["åœŸ","ç«","é‡‘","æ°´","é‡‘","åœŸ"]},"001100":{name:"æ°´å±±è¹‡",palace:"å…‘å®«",wuxing:"é‡‘",shi:4,ying:1,liuqin:["çˆ¶æ¯","å®˜é¬¼","å…„å¼Ÿ","çˆ¶æ¯","å®˜é¬¼","å¦»è´¢"],dizhi:["è¾°","åˆ","ç”³","ç”³","æˆŒ","å­"],wuxingYao:["åœŸ","ç«","é‡‘","é‡‘","åœŸ","æ°´"]},101100:{name:"åœ°å±±è°¦",palace:"å…‘å®«",wuxing:"é‡‘",shi:5,ying:2,liuqin:["çˆ¶æ¯","å®˜é¬¼","å…„å¼Ÿ","å…„å¼Ÿ","å¦»è´¢","çˆ¶æ¯"],dizhi:["è¾°","åˆ","ç”³","é…‰","äº¥","ä¸‘"],wuxingYao:["åœŸ","ç«","é‡‘","é‡‘","æ°´","åœŸ"]},101110:{name:"é›·å±±å°è¿‡",palace:"å…‘å®«",wuxing:"é‡‘",shi:4,ying:1,liuqin:["çˆ¶æ¯","å®˜é¬¼","å…„å¼Ÿ","å¦»è´¢","çˆ¶æ¯","å®˜é¬¼"],dizhi:["è¾°","åˆ","ç”³","å¯…","è¾°","åˆ"],wuxingYao:["åœŸ","ç«","é‡‘","æœ¨","åœŸ","ç«"]},110100:{name:"é›·æ³½å½’å¦¹",palace:"å…‘å®«",wuxing:"é‡‘",shi:3,ying:6,liuqin:["å®˜é¬¼","å¦»è´¢","çˆ¶æ¯","å¦»è´¢","çˆ¶æ¯","å®˜é¬¼"],dizhi:["å·³","å¯","ä¸‘","å¯…","è¾°","åˆ"],wuxingYao:["ç«","æœ¨","åœŸ","æœ¨","åœŸ","ç«"]},101101:{name:"ç¦»ä¸ºç«",palace:"ç¦»å®«",wuxing:"ç«",shi:6,ying:3,liuqin:["å…„å¼Ÿ","å¦»è´¢","å­å­™","å®˜é¬¼","çˆ¶æ¯","å­å­™"],dizhi:["å¯","ä¸‘","äº¥","é…‰","æœª","å·³"],wuxingYao:["æœ¨","åœŸ","æ°´","é‡‘","åœŸ","ç«"]},"001101":{name:"ç«å±±æ—…",palace:"ç¦»å®«",wuxing:"ç«",shi:1,ying:4,liuqin:["å­å­™","å®˜é¬¼","çˆ¶æ¯","å®˜é¬¼","çˆ¶æ¯","å­å­™"],dizhi:["è¾°","åˆ","ç”³","é…‰","æœª","å·³"],wuxingYao:["åœŸ","ç«","é‡‘","é‡‘","åœŸ","ç«"]},"011101":{name:"ç«é£é¼",palace:"ç¦»å®«",wuxing:"ç«",shi:2,ying:5,liuqin:["å­å­™","å…„å¼Ÿ","çˆ¶æ¯","å®˜é¬¼","çˆ¶æ¯","å­å­™"],dizhi:["ä¸‘","äº¥","é…‰","é…‰","æœª","å·³"],wuxingYao:["åœŸ","æ°´","é‡‘","é‡‘","åœŸ","ç«"]},"010101":{name:"ç«æ°´æœªæµ",palace:"ç¦»å®«",wuxing:"ç«",shi:3,ying:6,liuqin:["å­å­™","å…„å¼Ÿ","å¦»è´¢","å®˜é¬¼","çˆ¶æ¯","å­å­™"],dizhi:["å¯…","è¾°","åˆ","é…‰","æœª","å·³"],wuxingYao:["æœ¨","åœŸ","ç«","é‡‘","åœŸ","ç«"]},"010001":{name:"å±±æ°´è’™",palace:"ç¦»å®«",wuxing:"ç«",shi:4,ying:1,liuqin:["å­å­™","å…„å¼Ÿ","å¦»è´¢","å­å­™","å®˜é¬¼","å¦»è´¢"],dizhi:["å¯…","è¾°","åˆ","æˆŒ","å­","å¯…"],wuxingYao:["æœ¨","åœŸ","ç«","åœŸ","æ°´","æœ¨"]},"010011":{name:"é£æ°´æ¶£",palace:"ç¦»å®«",wuxing:"ç«",shi:5,ying:2,liuqin:["å­å­™","å…„å¼Ÿ","å¦»è´¢","å­å­™","å…„å¼Ÿ","å¦»è´¢"],dizhi:["å¯…","è¾°","åˆ","æœª","å·³","å¯"],wuxingYao:["æœ¨","åœŸ","ç«","åœŸ","ç«","æœ¨"]},110011:{name:"å¤©æ°´è®¼",palace:"ç¦»å®«",wuxing:"ç«",shi:4,ying:1,liuqin:["å­å­™","å…„å¼Ÿ","å¦»è´¢","å®˜é¬¼","çˆ¶æ¯","å­å­™"],dizhi:["å¯…","è¾°","åˆ","åˆ","ç”³","æˆŒ"],wuxingYao:["æœ¨","åœŸ","ç«","ç«","é‡‘","åœŸ"]},101011:{name:"å¤©ç«åŒäºº",palace:"ç¦»å®«",wuxing:"ç«",shi:3,ying:6,liuqin:["å…„å¼Ÿ","å¦»è´¢","å­å­™","å®˜é¬¼","çˆ¶æ¯","å­å­™"],dizhi:["å¯","ä¸‘","äº¥","åˆ","ç”³","æˆŒ"],wuxingYao:["æœ¨","åœŸ","æ°´","ç«","é‡‘","åœŸ"]},100100:{name:"éœ‡ä¸ºé›·",palace:"éœ‡å®«",wuxing:"æœ¨",shi:6,ying:3,liuqin:["å­å­™","å®˜é¬¼","å¦»è´¢","å…„å¼Ÿ","çˆ¶æ¯","å¦»è´¢"],dizhi:["æˆŒ","å­","å¯…","è¾°","åˆ","ç”³"],wuxingYao:["åœŸ","æ°´","æœ¨","åœŸ","ç«","é‡‘"]},"000100":{name:"é›·åœ°è±«",palace:"éœ‡å®«",wuxing:"æœ¨",shi:1,ying:4,liuqin:["å®˜é¬¼","å­å­™","å…„å¼Ÿ","å…„å¼Ÿ","çˆ¶æ¯","å¦»è´¢"],dizhi:["æœª","å·³","å¯","è¾°","åˆ","ç”³"],wuxingYao:["åœŸ","ç«","æœ¨","åœŸ","ç«","é‡‘"]},"010100":{name:"é›·æ°´è§£",palace:"éœ‡å®«",wuxing:"æœ¨",shi:2,ying:5,liuqin:["å®˜é¬¼","å­å­™","çˆ¶æ¯","å…„å¼Ÿ","çˆ¶æ¯","å¦»è´¢"],dizhi:["å¯…","è¾°","åˆ","è¾°","åˆ","ç”³"],wuxingYao:["æœ¨","åœŸ","ç«","åœŸ","ç«","é‡‘"]},"011100":{name:"é›·é£æ’",palace:"éœ‡å®«",wuxing:"æœ¨",shi:3,ying:6,liuqin:["å®˜é¬¼","å­å­™","å…„å¼Ÿ","å…„å¼Ÿ","çˆ¶æ¯","å¦»è´¢"],dizhi:["ä¸‘","äº¥","é…‰","è¾°","åˆ","ç”³"],wuxingYao:["åœŸ","æ°´","é‡‘","åœŸ","ç«","é‡‘"]},"011110":{name:"åœ°é£å‡",palace:"éœ‡å®«",wuxing:"æœ¨",shi:4,ying:1,liuqin:["å®˜é¬¼","å­å­™","å…„å¼Ÿ","å®˜é¬¼","å­å­™","å…„å¼Ÿ"],dizhi:["ä¸‘","äº¥","é…‰","æœª","å·³","å¯"],wuxingYao:["åœŸ","æ°´","é‡‘","åœŸ","ç«","æœ¨"]},"011010":{name:"æ°´é£äº•",palace:"éœ‡å®«",wuxing:"æœ¨",shi:5,ying:2,liuqin:["å®˜é¬¼","å­å­™","å…„å¼Ÿ","å®˜é¬¼","çˆ¶æ¯","å…„å¼Ÿ"],dizhi:["ä¸‘","äº¥","é…‰","ç”³","æˆŒ","å­"],wuxingYao:["åœŸ","æ°´","é‡‘","é‡‘","åœŸ","æ°´"]},111010:{name:"æ³½é£å¤§è¿‡",palace:"éœ‡å®«",wuxing:"æœ¨",shi:4,ying:1,liuqin:["å®˜é¬¼","å­å­™","å…„å¼Ÿ","å­å­™","å…„å¼Ÿ","çˆ¶æ¯"],dizhi:["ä¸‘","äº¥","é…‰","äº¥","é…‰","æœª"],wuxingYao:["åœŸ","æ°´","é‡‘","æ°´","é‡‘","åœŸ"]},100110:{name:"æ³½é›·éš",palace:"éœ‡å®«",wuxing:"æœ¨",shi:3,ying:6,liuqin:["å­å­™","å®˜é¬¼","å¦»è´¢","å­å­™","å…„å¼Ÿ","çˆ¶æ¯"],dizhi:["æˆŒ","å­","å¯…","äº¥","é…‰","æœª"],wuxingYao:["åœŸ","æ°´","æœ¨","æ°´","é‡‘","åœŸ"]},"011011":{name:"å·½ä¸ºé£",palace:"å·½å®«",wuxing:"æœ¨",shi:6,ying:3,liuqin:["å®˜é¬¼","çˆ¶æ¯","å…„å¼Ÿ","å¦»è´¢","å­å­™","å…„å¼Ÿ"],dizhi:["ä¸‘","äº¥","é…‰","å¯","å·³","æœª"],wuxingYao:["åœŸ","æ°´","é‡‘","æœ¨","ç«","åœŸ"]},111011:{name:"é£å¤©å°ç•œ",palace:"å·½å®«",wuxing:"æœ¨",shi:1,ying:4,liuqin:["å…„å¼Ÿ","çˆ¶æ¯","å®˜é¬¼","å¦»è´¢","å­å­™","å…„å¼Ÿ"],dizhi:["å­","å¯…","è¾°","å¯","å·³","æœª"],wuxingYao:["æ°´","æœ¨","åœŸ","æœ¨","ç«","åœŸ"]},101011:{name:"é£ç«å®¶äºº",palace:"å·½å®«",wuxing:"æœ¨",shi:2,ying:5,liuqin:["å…„å¼Ÿ","çˆ¶æ¯","å­å­™","å¦»è´¢","å­å­™","å…„å¼Ÿ"],dizhi:["å¯","ä¸‘","äº¥","å¯","å·³","æœª"],wuxingYao:["æœ¨","åœŸ","æ°´","æœ¨","ç«","åœŸ"]},100011:{name:"é£é›·ç›Š",palace:"å·½å®«",wuxing:"æœ¨",shi:3,ying:6,liuqin:["å…„å¼Ÿ","çˆ¶æ¯","å¦»è´¢","å¦»è´¢","å­å­™","å…„å¼Ÿ"],dizhi:["æˆŒ","å­","å¯…","å¯","å·³","æœª"],wuxingYao:["åœŸ","æ°´","æœ¨","æœ¨","ç«","åœŸ"]},100001:{name:"å¤©é›·æ— å¦„",palace:"å·½å®«",wuxing:"æœ¨",shi:4,ying:1,liuqin:["å…„å¼Ÿ","çˆ¶æ¯","å¦»è´¢","å®˜é¬¼","çˆ¶æ¯","å¦»è´¢"],dizhi:["æˆŒ","å­","å¯…","åˆ","ç”³","æˆŒ"],wuxingYao:["åœŸ","æ°´","æœ¨","ç«","é‡‘","åœŸ"]},100101:{name:"ç«é›·å™¬å—‘",palace:"å·½å®«",wuxing:"æœ¨",shi:5,ying:2,liuqin:["å…„å¼Ÿ","çˆ¶æ¯","å¦»è´¢","å®˜é¬¼","çˆ¶æ¯","å­å­™"],dizhi:["æˆŒ","å­","å¯…","é…‰","æœª","å·³"],wuxingYao:["åœŸ","æ°´","æœ¨","é‡‘","åœŸ","ç«"]},110101:{name:"å±±é›·é¢",palace:"å·½å®«",wuxing:"æœ¨",shi:4,ying:1,liuqin:["å…„å¼Ÿ","çˆ¶æ¯","å¦»è´¢","å…„å¼Ÿ","å®˜é¬¼","å­å­™"],dizhi:["æˆŒ","å­","å¯…","è¾°","åˆ","ç”³"],wuxingYao:["åœŸ","æ°´","æœ¨","åœŸ","ç«","é‡‘"]},"011001":{name:"å±±é£è›Š",palace:"å·½å®«",wuxing:"æœ¨",shi:3,ying:6,liuqin:["å®˜é¬¼","çˆ¶æ¯","å…„å¼Ÿ","å…„å¼Ÿ","å®˜é¬¼","å­å­™"],dizhi:["ä¸‘","äº¥","é…‰","è¾°","åˆ","ç”³"],wuxingYao:["åœŸ","æ°´","é‡‘","åœŸ","ç«","é‡‘"]},"010010":{name:"åä¸ºæ°´",palace:"åå®«",wuxing:"æ°´",shi:6,ying:3,liuqin:["çˆ¶æ¯","å®˜é¬¼","å…„å¼Ÿ","å­å­™","å¦»è´¢","å…„å¼Ÿ"],dizhi:["å¯…","è¾°","åˆ","ç”³","æˆŒ","å­"],wuxingYao:["æœ¨","åœŸ","ç«","é‡‘","åœŸ","æ°´"]},110010:{name:"æ°´æ³½èŠ‚",palace:"åå®«",wuxing:"æ°´",shi:1,ying:4,liuqin:["å­å­™","å¦»è´¢","å®˜é¬¼","å­å­™","å¦»è´¢","å…„å¼Ÿ"],dizhi:["å·³","å¯","ä¸‘","ç”³","æˆŒ","å­"],wuxingYao:["ç«","æœ¨","åœŸ","é‡‘","åœŸ","æ°´"]},100010:{name:"æ°´é›·å±¯",palace:"åå®«",wuxing:"æ°´",shi:2,ying:5,liuqin:["å­å­™","å¦»è´¢","çˆ¶æ¯","å­å­™","å¦»è´¢","å…„å¼Ÿ"],dizhi:["æˆŒ","å­","å¯…","ç”³","æˆŒ","å­"],wuxingYao:["åœŸ","æ°´","æœ¨","é‡‘","åœŸ","æ°´"]},101010:{name:"æ°´ç«æ—¢æµ",palace:"åå®«",wuxing:"æ°´",shi:3,ying:6,liuqin:["å­å­™","å¦»è´¢","å…„å¼Ÿ","å­å­™","å¦»è´¢","å…„å¼Ÿ"],dizhi:["å¯","ä¸‘","äº¥","ç”³","æˆŒ","å­"],wuxingYao:["æœ¨","åœŸ","æ°´","é‡‘","åœŸ","æ°´"]},101110:{name:"æ³½ç«é©",palace:"åå®«",wuxing:"æ°´",shi:4,ying:1,liuqin:["å­å­™","å¦»è´¢","å…„å¼Ÿ","çˆ¶æ¯","å¦»è´¢","å®˜é¬¼"],dizhi:["å¯","ä¸‘","äº¥","äº¥","é…‰","æœª"],wuxingYao:["æœ¨","åœŸ","æ°´","æ°´","é‡‘","åœŸ"]},101e3:{name:"é›·ç«ä¸°",palace:"åå®«",wuxing:"æ°´",shi:5,ying:2,liuqin:["å­å­™","å¦»è´¢","å…„å¼Ÿ","çˆ¶æ¯","å­å­™","å®˜é¬¼"],dizhi:["å¯","ä¸‘","äº¥","è¾°","åˆ","ç”³"],wuxingYao:["æœ¨","åœŸ","æ°´","åœŸ","ç«","é‡‘"]},"001000":{name:"åœ°ç«æ˜å¤·",palace:"åå®«",wuxing:"æ°´",shi:4,ying:1,liuqin:["å­å­™","å¦»è´¢","å…„å¼Ÿ","å®˜é¬¼","å­å­™","çˆ¶æ¯"],dizhi:["å¯","ä¸‘","äº¥","æœª","å·³","å¯"],wuxingYao:["æœ¨","åœŸ","æ°´","åœŸ","ç«","æœ¨"]},"010000":{name:"åœ°æ°´å¸ˆ",palace:"åå®«",wuxing:"æ°´",shi:3,ying:6,liuqin:["çˆ¶æ¯","å®˜é¬¼","å…„å¼Ÿ","å®˜é¬¼","å­å­™","çˆ¶æ¯"],dizhi:["å¯…","è¾°","åˆ","æœª","å·³","å¯"],wuxingYao:["æœ¨","åœŸ","ç«","åœŸ","ç«","æœ¨"]},"001001":{name:"è‰®ä¸ºå±±",palace:"è‰®å®«",wuxing:"åœŸ",shi:6,ying:3,liuqin:["å­å­™","å®˜é¬¼","çˆ¶æ¯","å…„å¼Ÿ","å¦»è´¢","çˆ¶æ¯"],dizhi:["è¾°","åˆ","ç”³","æˆŒ","å­","å¯…"],wuxingYao:["åœŸ","ç«","é‡‘","åœŸ","æ°´","æœ¨"]},101001:{name:"å±±ç«è´²",palace:"è‰®å®«",wuxing:"åœŸ",shi:1,ying:4,liuqin:["å®˜é¬¼","å¦»è´¢","å­å­™","å…„å¼Ÿ","å¦»è´¢","çˆ¶æ¯"],dizhi:["å¯","ä¸‘","äº¥","æˆŒ","å­","å¯…"],wuxingYao:["æœ¨","åœŸ","æ°´","åœŸ","æ°´","æœ¨"]},111001:{name:"å±±å¤©å¤§ç•œ",palace:"è‰®å®«",wuxing:"åœŸ",shi:2,ying:5,liuqin:["å®˜é¬¼","å¦»è´¢","å…„å¼Ÿ","å…„å¼Ÿ","å¦»è´¢","çˆ¶æ¯"],dizhi:["å­","å¯…","è¾°","æˆŒ","å­","å¯…"],wuxingYao:["æ°´","æœ¨","åœŸ","åœŸ","æ°´","æœ¨"]},110001:{name:"å±±æ³½æŸ",palace:"è‰®å®«",wuxing:"åœŸ",shi:3,ying:6,liuqin:["å®˜é¬¼","å¦»è´¢","å­å­™","å…„å¼Ÿ","å¦»è´¢","çˆ¶æ¯"],dizhi:["å·³","å¯","ä¸‘","æˆŒ","å­","å¯…"],wuxingYao:["ç«","æœ¨","åœŸ","åœŸ","æ°´","æœ¨"]},110011:{name:"ç«æ³½ç½",palace:"è‰®å®«",wuxing:"åœŸ",shi:4,ying:1,liuqin:["å®˜é¬¼","å¦»è´¢","å­å­™","å­å­™","å®˜é¬¼","å…„å¼Ÿ"],dizhi:["å·³","å¯","ä¸‘","å·³","å¯","ä¸‘"],wuxingYao:["ç«","æœ¨","åœŸ","ç«","æœ¨","åœŸ"]},110111:{name:"å¤©æ³½å±¥",palace:"è‰®å®«",wuxing:"åœŸ",shi:5,ying:2,liuqin:["å®˜é¬¼","å¦»è´¢","å­å­™","å­å­™","å®˜é¬¼","å…„å¼Ÿ"],dizhi:["å·³","å¯","ä¸‘","åˆ","ç”³","æˆŒ"],wuxingYao:["ç«","æœ¨","åœŸ","ç«","é‡‘","åœŸ"]},"010111":{name:"é£æ³½ä¸­å­š",palace:"è‰®å®«",wuxing:"åœŸ",shi:4,ying:1,liuqin:["å®˜é¬¼","å¦»è´¢","å­å­™","å…„å¼Ÿ","çˆ¶æ¯","å®˜é¬¼"],dizhi:["å·³","å¯","ä¸‘","å¯","å·³","æœª"],wuxingYao:["ç«","æœ¨","åœŸ","æœ¨","ç«","åœŸ"]},"001011":{name:"é£å±±æ¸",palace:"è‰®å®«",wuxing:"åœŸ",shi:3,ying:6,liuqin:["å­å­™","å®˜é¬¼","çˆ¶æ¯","å…„å¼Ÿ","çˆ¶æ¯","å®˜é¬¼"],dizhi:["è¾°","åˆ","ç”³","å¯","å·³","æœª"],wuxingYao:["åœŸ","ç«","é‡‘","æœ¨","ç«","åœŸ"]},"000000":{name:"å¤ä¸ºåœ°",palace:"å¤å®«",wuxing:"åœŸ",shi:6,ying:3,liuqin:["å¦»è´¢","å­å­™","å…„å¼Ÿ","å®˜é¬¼","çˆ¶æ¯","å…„å¼Ÿ"],dizhi:["æœª","å·³","å¯","ä¸‘","äº¥","é…‰"],wuxingYao:["åœŸ","ç«","æœ¨","åœŸ","æ°´","é‡‘"]},1e5:{name:"åœ°é›·å¤",palace:"å¤å®«",wuxing:"åœŸ",shi:1,ying:4,liuqin:["å…„å¼Ÿ","çˆ¶æ¯","å¦»è´¢","å®˜é¬¼","çˆ¶æ¯","å…„å¼Ÿ"],dizhi:["æˆŒ","å­","å¯…","ä¸‘","äº¥","é…‰"],wuxingYao:["åœŸ","æ°´","æœ¨","åœŸ","æ°´","é‡‘"]},11e4:{name:"åœ°æ³½ä¸´",palace:"å¤å®«",wuxing:"åœŸ",shi:2,ying:5,liuqin:["å…„å¼Ÿ","çˆ¶æ¯","å­å­™","å®˜é¬¼","çˆ¶æ¯","å…„å¼Ÿ"],dizhi:["å·³","å¯","ä¸‘","ä¸‘","äº¥","é…‰"],wuxingYao:["ç«","æœ¨","åœŸ","åœŸ","æ°´","é‡‘"]},111e3:{name:"åœ°å¤©æ³°",palace:"å¤å®«",wuxing:"åœŸ",shi:3,ying:6,liuqin:["å…„å¼Ÿ","çˆ¶æ¯","å®˜é¬¼","å®˜é¬¼","çˆ¶æ¯","å…„å¼Ÿ"],dizhi:["å­","å¯…","è¾°","ä¸‘","äº¥","é…‰"],wuxingYao:["æ°´","æœ¨","åœŸ","åœŸ","æ°´","é‡‘"]},111100:{name:"é›·å¤©å¤§å£®",palace:"å¤å®«",wuxing:"åœŸ",shi:4,ying:1,liuqin:["å…„å¼Ÿ","çˆ¶æ¯","å®˜é¬¼","å¦»è´¢","å­å­™","å®˜é¬¼"],dizhi:["å­","å¯…","è¾°","è¾°","åˆ","ç”³"],wuxingYao:["æ°´","æœ¨","åœŸ","åœŸ","ç«","é‡‘"]},111110:{name:"æ³½å¤©å¤¬",palace:"å¤å®«",wuxing:"åœŸ",shi:5,ying:2,liuqin:["å¦»è´¢","å®˜é¬¼","å…„å¼Ÿ","å¦»è´¢","å­å­™","å…„å¼Ÿ"],dizhi:["å­","å¯…","è¾°","äº¥","é…‰","æœª"],wuxingYao:["æ°´","æœ¨","åœŸ","æ°´","é‡‘","åœŸ"]},"011000":{name:"æ°´å¤©éœ€",palace:"å¤å®«",wuxing:"åœŸ",shi:4,ying:1,liuqin:["å¦»è´¢","å®˜é¬¼","å…„å¼Ÿ","å­å­™","å…„å¼Ÿ","å¦»è´¢"],dizhi:["å­","å¯…","è¾°","ç”³","æˆŒ","å­"],wuxingYao:["æ°´","æœ¨","åœŸ","é‡‘","åœŸ","æ°´"]},"000010":{name:"æ°´åœ°æ¯”",palace:"å¤å®«",wuxing:"åœŸ",shi:3,ying:6,liuqin:["å…„å¼Ÿ","çˆ¶æ¯","å®˜é¬¼","å­å­™","å…„å¼Ÿ","å¦»è´¢"],dizhi:["æœª","å·³","å¯","ç”³","æˆŒ","å­"],wuxingYao:["åœŸ","ç«","æœ¨","é‡‘","åœŸ","æ°´"]}};function zt(n){return ko[n]||{name:"æœªçŸ¥å¦",palace:"æœªçŸ¥å®«",wuxing:"æœªçŸ¥",shi:0,ying:0,liuqin:[],dizhi:[],wuxingYao:[]}}function Bs(n){let e="";for(let A=0;A<6;A++)e+=n[A].value.toString();return e}function fs(n){let e="";for(let A=0;A<6;A++)n[A].isMoving?e+=n[A].value===1?"0":"1":e+=n[A].value.toString();return e}function hs(n){const e=[];for(let A=0;A<n.length;A++)n[A].isMoving&&e.push(A+1);return e}function ps(){const n=new Date;return`${n.getFullYear()}å¹´${n.getMonth()+1}æœˆ${n.getDate()}æ—¥`}const Ke=80,ge=3,Wr=2,_o=["åˆçˆ»","äºŒçˆ»","ä¸‰çˆ»","å››çˆ»","äº”çˆ»","ä¸Šçˆ»"];function Oo(n){const e=Math.random()>.5?"èƒŒ":"å­—",A=Math.random()>.5?"èƒŒ":"å­—",t=Math.random()>.5?"èƒŒ":"å­—",r=[e,A,t],a=r.filter(g=>g==="èƒŒ").length;let s,i,o,c;switch(a){case 3:s=1,i=!0,o="è€é˜³ï¼ˆä¸‰èƒŒï¼‰",c="â—‹";break;case 2:s=1,i=!1,o="å°‘é˜³ï¼ˆäºŒèƒŒä¸€å­—ï¼‰",c="âšŠ";break;case 1:s=0,i=!1,o="å°‘é˜´ï¼ˆä¸€èƒŒäºŒå­—ï¼‰",c="âš‹";break;default:s=0,i=!0,o="è€é˜´ï¼ˆä¸‰å­—ï¼‰",c="Ã—";break}const l=_o[n-1];return{value:s,isMoving:i,name:o,symbol:c,position:l,step:n,backCount:a,coins:r}}class Ro{constructor(e){if(this.matchType=FA(e.type),this.isShuffling=!1,this.shuffleCount=0,this.hasShuffled=!1,this.cards=[],this.drawRound=0,this.selectedSlots=[],this.showDrawModal=!1,this.modalCards=[],this.modalSelectedCards=[],this.availableCardIds=[],this.yaos=[],this.yaoHistory=[],this.currentStep=0,!this.matchType){window.router.navigate("/");return}this.initCards(),this.initAvailableCards()}initCards(){this.cards=Array.from({length:Ke},(e,A)=>{const a=(Math.random()-.5)*300,s=(Math.random()-.5)*350,i=(Math.random()-.5)*120;return{id:A,x:a,y:s,rotation:i,zIndex:Math.floor(Math.random()*Ke)}})}initAvailableCards(){this.availableCardIds=Array.from({length:Ke},(e,A)=>A)}render(){if(!this.matchType)return"";const e=this.getButtonText(),A=this.isShuffling;return`
      <div class="page tarot-shuffle-page">
        ${j({title:"",showBack:!0,showHistory:!1,showProfile:!1})}
        
        <main class="page-content">
          <div class="app-container">
            
            <!-- è¿›åº¦æŒ‡ç¤ºå™¨ -->
            <div class="tarot-progress">
              ${gt(4,5,{showText:!1,showSteps:!0,stepLabel:""})}
            </div>

            <!-- é¡µé¢æ ‡é¢˜ -->
            <section class="shuffle-header animate-fade-in-up">
              <h1 class="shuffle-title">æ´—ç‰Œ</h1>
              <p class="shuffle-subtitle">ç‚¹å‡»ç‰Œå †ï¼Œæ´—ç‰Œä¸€æ¬¡ï¼Œå¯é‡å¤æ“ä½œ</p>
            </section>

            <!-- å¡ç‰Œå †å åŒºåŸŸ -->
            <section class="shuffle-cards-container shuffle-cards-container--large">
              <div class="shuffle-cards shuffle-cards--large" id="shuffleCards">
                ${this.renderCards()}
              </div>
            </section>

            <!-- æ´—ç‰ŒæŒ‰é’® -->
            <section class="shuffle-actions animate-fade-in-up animate-delay-300">
              <button class="btn btn--primary btn--full btn--lg shuffle-btn ${A?"disabled":""}" 
                      id="shuffleBtn" ${A?"disabled":""}>
                ${e}
              </button>
            </section>

            <!-- ä¸‹ä¸€æ­¥æŒ‰é’® -->
            <section class="shuffle-next-hint">
              <button class="btn btn--secondary" id="nextBtn">ä¸‹ä¸€æ­¥</button>
            </section>

            <div class="safe-area-bottom"></div>
          </div>
        </main>

        <!-- æŠ½ç‰Œå¼¹æ¡† -->
        ${this.renderDrawModal()}
      </div>
    `}getButtonText(){return this.isShuffling?"æ´—ç‰Œä¸­...":"æ´—ç‰Œ"}renderCards(){return this.cards.map(e=>`
            <div class="shuffle-card" 
                 data-card-id="${e.id}"
                 style="
                   transform: translate(${e.x}px, ${e.y}px) rotate(${e.rotation}deg);
                   z-index: ${e.zIndex};
                 ">
              <div class="shuffle-card__inner">
                <div class="shuffle-card__pattern">
                  <div class="card-circle"></div>
                  <div class="card-lines"></div>
                </div>
              </div>
            </div>
        `).join("")}renderCardSlots(){const e=[];for(let A=0;A<ge*Wr;A++){const t=this.selectedSlots[A]!==void 0;e.push(`
                <div class="card-slot ${t?"card-slot--filled":""}" data-slot-index="${A}">
                    ${t?`
                        <div class="card-slot__card">
                            <div class="shuffle-card__inner">
                                <div class="shuffle-card__pattern">
                                    <div class="card-circle"></div>
                                    <div class="card-lines"></div>
                                </div>
                            </div>
                        </div>
                    `:`
                        <div class="card-slot__empty">
                            <span class="card-slot__number">${A+1}</span>
                        </div>
                    `}
                </div>
            `)}return e.join("")}renderDrawModal(){return this.showDrawModal?(this.modalCards.length,`
            <div class="draw-modal show" id="drawModal">
                <div class="draw-modal__overlay"></div>
                <div class="draw-modal__content">
                    <h3 class="draw-modal__title">æ‘‡ç‰Œç»“æœ</h3>
                    <div class="draw-modal__cards">
                        ${this.modalCards.map((e,A)=>`
                                <div class="draw-modal__card selected" 
                                     data-modal-card-id="${e}" data-modal-index="${A}">
                                    <div class="shuffle-card__inner">
                                        <div class="shuffle-card__pattern">
                                            <div class="card-circle"></div>
                                            <div class="card-lines"></div>
                                        </div>
                                    </div>
                                    <div class="draw-modal__card-check">âœ“</div>
                                </div>
                            `).join("")}
                    </div>
                    <p class="draw-modal__hint">å·²æ‘‡å‡º ${ge} å¼ ç‰Œ</p>
                    <button class="btn btn--primary draw-modal__confirm" 
                            id="confirmDrawBtn">
                        ç¡®å®š
                    </button>
                </div>
            </div>
        `):'<div class="draw-modal" id="drawModal"></div>'}attachEvents(){const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{window.router.back()});const A=document.getElementById("shuffleBtn");A&&A.addEventListener("click",()=>{this.handleButtonClick()});const t=document.getElementById("shuffleCards");t&&(t.addEventListener("click",()=>{this.handleButtonClick()}),t.style.cursor="pointer");const r=document.getElementById("nextBtn");r&&r.addEventListener("click",()=>{this.handleNext()}),this.attachModalEvents()}attachModalEvents(){const e=document.getElementById("confirmDrawBtn");e&&e.addEventListener("click",()=>{this.handleConfirmDraw()})}handleButtonClick(){this.isShuffling||this.handleShuffle()}handleShuffle(){if(this.isShuffling)return;this.isShuffling=!0,this.shuffleCount++;const e=document.getElementById("shuffleBtn");e&&(e.disabled=!0,e.classList.add("disabled"),e.textContent="æ´—ç‰Œä¸­..."),this.performShuffleAnimation()}performShuffleAnimation(){const A=[{duration:180,speed:2},{duration:120,speed:1}];let t=0,r=0;const a=document.querySelectorAll(".shuffle-card"),s=()=>{if(t>=300){this.applyBounceEffect(a);return}let i=0;for(let l=0;l<=r;l++)i+=A[l].duration;t>=i&&r<A.length-1&&r++;const c=80/A[r].speed;this.randomizeCards(a),t+=c,setTimeout(()=>requestAnimationFrame(s),c)};s()}randomizeCards(e){e.forEach((A,t)=>{const s=(Math.random()-.5)*300,i=(Math.random()-.5)*350,o=(Math.random()-.5)*120,c=Math.floor(Math.random()*Ke);A.style.transform=`translate(${s}px, ${i}px) rotate(${o}deg)`,A.style.zIndex=c,this.cards[t].x=s,this.cards[t].y=i,this.cards[t].rotation=o,this.cards[t].zIndex=c})}applyBounceEffect(e){e.forEach((A,t)=>{const r=this.cards[t].x,a=this.cards[t].y,s=this.cards[t].rotation;A.style.transition="transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1)",A.style.transform=`translate(${r*1.15}px, ${a*1.15}px) rotate(${s*1.1}deg)`,setTimeout(()=>{const c=(Math.random()-.5)*300,l=(Math.random()-.5)*350,g=(Math.random()-.5)*120,B=Math.floor(Math.random()*Ke);A.style.transition="transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)",A.style.transform=`translate(${c}px, ${l}px) rotate(${g}deg)`,A.style.zIndex=B,this.cards[t].x=c,this.cards[t].y=l,this.cards[t].rotation=g,this.cards[t].zIndex=B},200),setTimeout(()=>{A.style.transition=""},700)}),setTimeout(()=>{this.isShuffling=!1,this.hasShuffled=!0,this.updateButtonState()},700)}updateButtonState(){const e=document.getElementById("shuffleBtn");if(e){const A=this.selectedSlots.length>=ge*Wr;e.disabled=A,e.classList.toggle("disabled",A),e.textContent=this.getButtonText()}}openDrawModal(){this.modalCards=this.getRandomCards(ge),this.modalSelectedCards=[...this.modalCards],this.showDrawModal=!0,this.drawRound++,this.updateModalDOM()}getRandomCards(e){return[...this.availableCardIds].sort(()=>Math.random()-.5).slice(0,e)}updateModalDOM(){const e=document.getElementById("drawModal");e&&(e.outerHTML=this.renderDrawModal(),this.attachModalEvents())}handleConfirmDraw(){this.modalSelectedCards.length===ge&&(this.modalSelectedCards.forEach(e=>{this.selectedSlots.push(e),this.currentStep++;const A=Oo(this.currentStep),t={value:A.value,isMoving:A.isMoving,name:A.name,symbol:A.symbol,position:A.position};this.yaos.push(t);const r={step:A.step,position:A.position,name:A.name,symbol:A.symbol,isMoving:A.isMoving,backCount:A.backCount,cardId:e};this.yaoHistory.push(r);const a=this.availableCardIds.indexOf(e);a>-1&&this.availableCardIds.splice(a,1),console.log(`[æŠ½ç‰Œ] ${A.position}ï¼š${A.name} (${A.symbol})`)}),this.showDrawModal=!1,this.modalCards=[],this.modalSelectedCards=[],this.updateSlotsUI(),this.updateModalDOM(),this.updateButtonState(),console.log(`[æŠ½ç‰Œ] ç¬¬${this.drawRound}è½®å®Œæˆï¼Œå·²é€‰${this.selectedSlots.length}å¼ ç‰Œï¼Œå½“å‰çˆ»æ•°æ®:`,this.yaos))}updateSlotsUI(){const e=document.querySelector(".card-slots-grid");e&&(e.innerHTML=this.renderCardSlots())}async handleNext(){window.router.navigate(`/test/${this.matchType.id}/tarot/pick`)}}const No=[{id:0,name:"æ„šè€…",symbol:"ğŸƒ",upright:"æ–°çš„å¼€å§‹ã€å†’é™©ç²¾ç¥ã€çº¯çœŸ",reversed:"å†²åŠ¨ã€ç¼ºä¹è®¡åˆ’",element:"é£"},{id:1,name:"é­”æœ¯å¸ˆ",symbol:"ğŸ©",upright:"åˆ›é€ åŠ›ã€è‡ªä¿¡ã€æŠ€èƒ½",reversed:"ç¼ºä¹æ–¹å‘ã€èƒ½åŠ›å—é™",element:"é£"},{id:2,name:"å¥³ç¥­å¸",symbol:"ğŸŒ™",upright:"ç›´è§‰ã€æ™ºæ…§ã€å†…åœ¨æ´å¯Ÿ",reversed:"å¿½è§†ç›´è§‰ã€ä¿¡æ¯ä¸è¶³",element:"æ°´"},{id:3,name:"çš‡å",symbol:"ğŸ‘‘",upright:"ä¸°é¥¶ã€å…³çˆ±ã€åˆ›é€ åŠ›",reversed:"è¿‡åº¦ä¾èµ–ã€åˆ›é€ åŠ›å—é˜»",element:"åœŸ"},{id:4,name:"çš‡å¸",symbol:"ğŸ›ï¸",upright:"æƒå¨ã€ç¨³å®šã€é¢†å¯¼åŠ›",reversed:"è¿‡äºæ§åˆ¶ã€ç¼ºä¹çµæ´»",element:"ç«"},{id:5,name:"æ•™çš‡",symbol:"ğŸ“¿",upright:"ä¼ ç»Ÿã€æŒ‡å¯¼ã€ç²¾ç¥è¿½æ±‚",reversed:"æ€æƒ³åƒµåŒ–ã€ç¼ºä¹åˆ›æ–°",element:"åœŸ"},{id:6,name:"æ‹äºº",symbol:"ğŸ’•",upright:"çˆ±æƒ…ã€å’Œè°ã€é€‰æ‹©",reversed:"å…³ç³»å¤±è¡¡ã€é€‰æ‹©å›°éš¾",element:"é£"},{id:7,name:"æˆ˜è½¦",symbol:"ğŸ‡",upright:"èƒœåˆ©ã€å†³å¿ƒã€è¡ŒåŠ¨åŠ›",reversed:"æ–¹å‘ä¸æ˜ã€ç¼ºä¹æ§åˆ¶",element:"æ°´"},{id:8,name:"åŠ›é‡",symbol:"ğŸ¦",upright:"å†…åœ¨åŠ›é‡ã€å‹‡æ°”ã€è€å¿ƒ",reversed:"è‡ªæˆ‘æ€€ç–‘ã€ç¼ºä¹ä¿¡å¿ƒ",element:"ç«"},{id:9,name:"éšå£«",symbol:"ğŸ”ï¸",upright:"å†…çœã€å¯»æ±‚æ™ºæ…§ã€ç‹¬å¤„",reversed:"å­¤ç«‹ã€è¿‡åº¦å°é—­",element:"åœŸ"},{id:10,name:"æœºé‡ä¹‹è½®",symbol:"ğŸ¡",upright:"è½¬å˜ã€æœºé‡ã€æ–°é˜¶æ®µ",reversed:"é€†å¢ƒã€æŠ—æ‹’æ”¹å˜",element:"ç«"},{id:11,name:"æ­£ä¹‰",symbol:"âš–ï¸",upright:"å…¬å¹³ã€çœŸç›¸ã€å› æœ",reversed:"ä¸å…¬ã€é€ƒé¿è´£ä»»",element:"é£"},{id:12,name:"å€’åŠäºº",symbol:"ğŸ™ƒ",upright:"æ–°è§†è§’ã€ç‰ºç‰²ã€ç­‰å¾…",reversed:"æ‹–å»¶ã€æ— è°“ç‰ºç‰²",element:"æ°´"},{id:13,name:"æ­»ç¥",symbol:"ğŸ¦‹",upright:"è½¬å˜ã€ç»“æŸä¸æ–°ç”Ÿ",reversed:"æŠ—æ‹’æ”¹å˜ã€åœæ»",element:"æ°´"},{id:14,name:"èŠ‚åˆ¶",symbol:"ğŸº",upright:"å¹³è¡¡ã€è€å¿ƒã€è°ƒå’Œ",reversed:"å¤±è¡¡ã€è¿‡åº¦",element:"ç«"},{id:15,name:"æ¶é­”",symbol:"ğŸ”—",upright:"æŸç¼šã€æ¬²æœ›ã€ç‰©è´¨",reversed:"è§£è„±ã€æ‘†è„±é™åˆ¶",element:"åœŸ"},{id:16,name:"å¡”",symbol:"ğŸ—¼",upright:"çªå˜ã€è§‰é†’ã€é‡å»º",reversed:"é€ƒé¿æ”¹å˜ã€å»¶è¿Ÿ",element:"ç«"},{id:17,name:"æ˜Ÿæ˜Ÿ",symbol:"â­",upright:"å¸Œæœ›ã€çµæ„Ÿã€å¹³é™",reversed:"å¤±æœ›ã€ç¼ºä¹ä¿¡å¿ƒ",element:"é£"},{id:18,name:"æœˆäº®",symbol:"ğŸŒ‘",upright:"ç›´è§‰ã€æ½œæ„è¯†ã€æƒ…ç»ª",reversed:"å›°æƒ‘ã€ææƒ§",element:"æ°´"},{id:19,name:"å¤ªé˜³",symbol:"â˜€ï¸",upright:"å¿«ä¹ã€æˆåŠŸã€æ´»åŠ›",reversed:"æš‚æ—¶å—é˜»ã€è¿‡åº¦ä¹è§‚",element:"ç«"},{id:20,name:"å®¡åˆ¤",symbol:"ğŸ“¯",upright:"è§‰é†’ã€è¯„ä¼°ã€æ–°é˜¶æ®µ",reversed:"è‡ªæˆ‘æ‰¹åˆ¤ã€æ‹’ç»æ”¹å˜",element:"ç«"},{id:21,name:"ä¸–ç•Œ",symbol:"ğŸŒ",upright:"å®Œæˆã€æ•´åˆã€æˆå°±",reversed:"æœªå®Œæˆã€ç¼ºä¹é—­åˆ",element:"åœŸ"}],Po={suit:"æƒæ–",suitSymbol:"ğŸ”¥",element:"ç«"},Go={suit:"åœ£æ¯",suitSymbol:"ğŸ’§",element:"æ°´"},$o={suit:"å®å‰‘",suitSymbol:"âš”ï¸",element:"é£"},Vo={suit:"æ˜Ÿå¸",suitSymbol:"â­•",element:"åœŸ"},Yo=["Ace","äºŒ","ä¸‰","å››","äº”","å…­","ä¸ƒ","å…«","ä¹","å","ä¾ä»","éª‘å£«","ç‹å","å›½ç‹"];function qo(){const n=[Po,Go,$o,Vo],e=[];let A=22;for(const t of n)for(let r=0;r<14;r++){const a=Yo[r];e.push({id:A++,name:`${t.suit}${a}`,symbol:t.suitSymbol,suit:t.suit,rank:r+1,element:t.element,upright:"",reversed:""})}return e}const Jo=qo(),Xo=[...No,...Jo],Ln=72,ke=6,zr=["ç›®æ ‡","åŠ¨åŠ›","éšœç¢","èµ„æº","æ”¯æŒ","ç»“æœ"],Wo=["åˆçˆ»","äºŒçˆ»","ä¸‰çˆ»","å››çˆ»","äº”çˆ»","ä¸Šçˆ»"];function zo(n){const e=Math.random()>.5?"èƒŒ":"å­—",A=Math.random()>.5?"èƒŒ":"å­—",t=Math.random()>.5?"èƒŒ":"å­—",r=[e,A,t],a=r.filter(l=>l==="èƒŒ").length;let s,i,o,c;switch(a){case 3:s=1,i=!0,o="è€é˜³ï¼ˆä¸‰èƒŒï¼‰",c="â—‹";break;case 2:s=1,i=!1,o="å°‘é˜³ï¼ˆäºŒèƒŒä¸€å­—ï¼‰",c="âšŠ";break;case 1:s=0,i=!1,o="å°‘é˜´ï¼ˆä¸€èƒŒäºŒå­—ï¼‰",c="âš‹";break;default:s=0,i=!0,o="è€é˜´ï¼ˆä¸‰å­—ï¼‰",c="Ã—";break}return{value:s,isMoving:i,name:o,symbol:c,position:Wo[n-1],step:n,backCount:a,coins:r}}function Zo(){const A=(window.innerHeight-250)*.5;return Math.max(A,200)}class jo{constructor(e){if(this.matchType=FA(e.type),!this.matchType){window.router.navigate("/");return}this.currentRotation=0,this.isDragging=!1,this.hasMoved=!1,this.startY=0,this.lastRotation=0,this.velocity=0,this.lastMoveTime=0,this.lastMoveY=0,this.animFrameId=null,this._cleanups=[],this.pickedCards=new Array(ke).fill(null),this.isShowingPreview=!1,this.deckCards=this._shuffleDeck(),this.yaos=[],this.yaoHistory=[],this.currentStep=0,this.isLoading=!1,this._isSpinning=!1,this._pendingDraw=null,this._remindTimer=null,this.isXHS=!!window.appState?.get?.("redeemCode")}get pickedCount(){return this.pickedCards.filter(e=>e!==null).length}_shuffleDeck(){const e=[...Xo];for(let A=e.length-1;A>0;A--){const t=Math.floor(Math.random()*(A+1));[e[A],e[t]]=[e[t],e[A]]}return e.slice(0,Ln)}render(){if(!this.matchType)return"";const e=360/Ln,A=Zo();let t="";for(let a=0;a<Ln;a++){const s=a*e;t+=`
                <div class="wheel-card" data-idx="${a}"
                     style="transform: rotate(${s}deg) translateY(-${A}px)">
                  <div class="wheel-card__face"></div>
                </div>`}const r=zr.map((a,s)=>`
          <div class="pick-slot" id="pickSlot${s}" data-slot="${s}">
            <div class="pick-slot__empty">
              <span class="pick-slot__label">${a}</span>
            </div>
          </div>
        `).join("");return`
      <div class="page tarot-pick-page">
        ${j({title:"æŠ½ç‰Œ",showBack:!0,showHistory:!1,showProfile:!1})}
        <main class="page-content">
          <div class="pick-page-wrap">
            <div class="pick-slots-bar" id="pickSlotsBar">
              ${r}
            </div>
            <div class="pick-hint-bar">
              <span class="pick-hint-text">ç‚¹å‡»ç‰Œè½®ä¸­çš„ç‰ŒæŠ½å–ï¼Œå…±éœ€æŠ½ ${ke} å¼ </span>
            </div>
            <div class="pick-wheel-viewport" id="wheelViewport">
              <div class="pick-wheel" id="pickWheel" style="--wheel-radius: ${A}px">
                ${t}
              </div>
            </div>
          </div>
          <div class="pick-bottom-bar">
            <button class="btn btn--primary btn--full btn--lg pick-next-btn" id="pickNextBtn">
              å¼€å§‹è§£è¯»
            </button>
          </div>
        </main>

        <!-- é»˜å¿µæé†’æµ®å±‚ -->
        <div class="pick-remind-toast" id="pickRemindToast">
          <div class="pick-remind-toast__icon">ğŸ™</div>
          <div class="pick-remind-toast__text">è¯·å¿ƒé‡Œé»˜å¿µæ‚¨çš„é—®é¢˜</div>
        </div>

        <!-- æŠ½ç‰Œç»“æœå¼¹æ¡† -->
        <div class="pick-card-modal-overlay" id="pickCardModal">
          <div class="pick-card-modal">
            <div class="pick-card-modal__particles" id="modalParticles"></div>
            <div class="pick-card-modal__glow"></div>
            <div class="pick-card-modal__card" id="modalCard">
              <div class="pick-card-modal__face">
                <span class="pick-card-modal__card-icon" id="modalCardIcon">âœ¦</span>
                <span class="pick-card-modal__card-name" id="modalCardName"></span>
              </div>
            </div>
            <div class="pick-card-modal__info">
              <span class="pick-card-modal__step" id="modalStep"></span>
              <span class="pick-card-modal__slot-label" id="modalSlotLabel"></span>
              <span class="pick-card-modal__orientation" id="modalOrientation"></span>
            </div>
            <div class="pick-card-modal__buttons">
              <button class="pick-card-modal__btn pick-card-modal__btn--retry" id="modalRetryBtn">
                <span>ğŸ”„</span> é‡æŠ½
              </button>
              <button class="pick-card-modal__btn pick-card-modal__btn--confirm" id="modalConfirmBtn">
                <span>âœ“</span> ç¡®è®¤
              </button>
            </div>
          </div>
        </div>
      </div>`}attachEvents(){document.querySelector(".navbar__back-btn")?.addEventListener("click",()=>window.router.back()),document.getElementById("pickWheel")?.addEventListener("click",r=>{if(this.hasMoved||this.isShowingPreview||this.isLoading)return;const a=r.target.closest(".wheel-card");if(a){const s=parseInt(a.dataset.idx);this.handleDrawOne(s,a)}}),document.getElementById("pickNextBtn")?.addEventListener("click",()=>this.handleStartDivination()),document.getElementById("modalRetryBtn")?.addEventListener("click",()=>this.handleRetry()),document.getElementById("modalConfirmBtn")?.addEventListener("click",()=>this.handleConfirm());const e=document.getElementById("wheelViewport");if(!e)return;e.addEventListener("touchstart",r=>{this.stopInertia(),this.hasMoved=!1,this.onDragStart(r.touches[0].clientY)},{passive:!0}),e.addEventListener("touchmove",r=>{r.preventDefault(),this.hasMoved=!0,this.onDragMove(r.touches[0].clientY)},{passive:!1}),e.addEventListener("touchend",()=>this.onDragEnd()),e.addEventListener("mousedown",r=>{this.stopInertia(),this.hasMoved=!1,this.onDragStart(r.clientY)});const A=r=>{this.isDragging&&(this.hasMoved=!0,this.onDragMove(r.clientY))},t=()=>{this.isDragging&&this.onDragEnd()};document.addEventListener("mousemove",A),document.addEventListener("mouseup",t),this._cleanups.push(()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",t)})}onDragStart(e){this.isDragging=!0,this.startY=e,this.lastRotation=this.currentRotation,this.velocity=0,this.lastMoveTime=Date.now(),this.lastMoveY=e}onDragMove(e){if(!this.isDragging)return;this.currentRotation=this.lastRotation+(e-this.startY)*.45,this.applyRotation();const A=Date.now(),t=A-this.lastMoveTime;t>0&&(this.velocity=(e-this.lastMoveY)/t*.45),this.lastMoveTime=A,this.lastMoveY=e}onDragEnd(){this.isDragging=!1,Math.abs(this.velocity)>.02&&this.startInertia()}startInertia(){const e=()=>{if(this.velocity*=.96,Math.abs(this.velocity)<.005){this.animFrameId=null;return}this.currentRotation+=this.velocity*16,this.applyRotation(),this.animFrameId=requestAnimationFrame(e)};this.animFrameId=requestAnimationFrame(e)}stopInertia(){this.animFrameId&&(cancelAnimationFrame(this.animFrameId),this.animFrameId=null)}applyRotation(){const e=document.getElementById("pickWheel");e&&(e.style.transform=`rotate(${this.currentRotation}deg)`)}showRemindToast(){const e=document.getElementById("pickRemindToast");e&&(e.classList.remove("pick-remind-toast--show"),e.offsetWidth,e.classList.add("pick-remind-toast--show"),clearTimeout(this._remindTimer),this._remindTimer=setTimeout(()=>{e.classList.remove("pick-remind-toast--show")},2e3))}spinWheelRandom(){return new Promise(e=>{const A=120+Math.random()*360,t=this.currentRotation+A,r=this.currentRotation,a=500+Math.random()*500,s=Date.now(),i=()=>{const o=Date.now()-s,c=Math.min(o/a,1),l=1-Math.pow(1-c,3);this.currentRotation=r+(t-r)*l,this.applyRotation(),c<1?requestAnimationFrame(i):(this.currentRotation=t,this.lastRotation=t,e())};requestAnimationFrame(i)})}handleDrawOne(e,A){if(this.pickedCount>=ke){window.showToast&&window.showToast("å·²æŠ½æ»¡6å¼ ç‰Œï¼Œè¯·ç‚¹å‡»å¼€å§‹è§£è¯»","default");return}this._pendingDraw||this._isSpinning||(this.stopInertia(),this._isSpinning=!0,this.showRemindToast(),this.spinWheelRandom().then(()=>{this._isSpinning=!1;const t=this.currentStep+1,r=zo(t),a=this.pickedCards.findIndex(c=>c===null),s=t%2===1,i=this.deckCards[e]||this.deckCards[0],o={id:e,step:t,yao:{value:r.value,isMoving:r.isMoving,name:r.name,symbol:r.symbol,position:r.position},isReversed:s,label:zr[a],symbol:r.symbol,positionName:r.position,backCount:r.backCount,coins:r.coins,tarotName:i.name,tarotSymbol:i.symbol,tarotUpright:i.upright,tarotReversed:i.reversed};this._pendingDraw={cardIdx:e,cardElement:A,stepNum:t,yaoData:r,slotIdx:a,cardData:o},A&&A.classList.add("wheel-card--flipping"),setTimeout(()=>{this.showCardModal(o)},400)}))}showCardModal(e){const A=document.getElementById("pickCardModal"),t=document.getElementById("modalCard"),r=document.getElementById("modalCardIcon"),a=document.getElementById("modalCardName"),s=document.getElementById("modalStep"),i=document.getElementById("modalSlotLabel"),o=document.getElementById("modalOrientation");A&&(r&&(r.textContent=e.tarotSymbol||(e.isReversed?"âœ¦":"âœ§")),a&&(a.textContent=e.tarotName||""),s&&(s.textContent=`ç¬¬ ${e.step} å¼ `),i&&(i.textContent=`â€” ${e.label} â€”`),o&&(o.textContent=e.isReversed?"é€†ä½":"æ­£ä½",o.className="pick-card-modal__orientation"+(e.isReversed?" pick-card-modal__orientation--reversed":"")),t&&t.classList.toggle("pick-card-modal__card--reversed",e.isReversed),this.createParticles(),A.classList.add("pick-card-modal-overlay--show"),setTimeout(()=>{A.classList.add("pick-card-modal-overlay--animate")},50),this.isShowingPreview=!0)}createParticles(){const e=document.getElementById("modalParticles");if(!e)return;e.innerHTML="";const A=["#c59cff","#9b6dff","#ffd700","#ff6bb5","#7ee8fa","#ffffff"];for(let t=0;t<30;t++){const r=document.createElement("div");r.className="pick-particle";const a=Math.random()*360*(Math.PI/180),s=80+Math.random()*120,i=3+Math.random()*6,o=Math.random()*.6,c=.8+Math.random()*.8,l=A[Math.floor(Math.random()*A.length)],g=Math.cos(a)*s,B=Math.sin(a)*s;r.style.cssText=`
                width: ${i}px; height: ${i}px;
                background: ${l};
                --tx: ${g}px;
                --ty: ${B}px;
                animation-delay: ${o}s;
                animation-duration: ${c}s;
            `,e.appendChild(r)}}hideCardModal(){const e=document.getElementById("pickCardModal");e&&(e.classList.remove("pick-card-modal-overlay--animate"),e.classList.add("pick-card-modal-overlay--closing"),setTimeout(()=>{e.classList.remove("pick-card-modal-overlay--show","pick-card-modal-overlay--closing"),this.isShowingPreview=!1},300))}handleConfirm(){if(!this._pendingDraw)return;const{cardIdx:e,cardElement:A,stepNum:t,yaoData:r,slotIdx:a,cardData:s}=this._pendingDraw;this.currentStep=t,A&&A.classList.remove("wheel-card--flipping"),this.yaos.push(s.yao),this.yaoHistory.push({step:r.step,position:r.position,name:r.name,symbol:r.symbol,isMoving:r.isMoving,backCount:r.backCount,cardIdx:e}),this.pickedCards[a]=s,this.fillSlot(a,s),console.log(`[æŠ½ç‰Œç¡®è®¤] ç¬¬${t}å¼  ${s.label}ï¼š${s.isReversed?"ã€é€†ä½ã€‘":"ã€æ­£ä½ã€‘"}`),this._pendingDraw=null,this.hideCardModal()}handleRetry(){if(!this._pendingDraw)return;const{cardElement:e}=this._pendingDraw;e&&e.classList.remove("wheel-card--flipping"),this._pendingDraw=null,this.hideCardModal()}fillSlot(e,A){const t=document.getElementById(`pickSlot${e}`);if(!t)return;const r=A.isReversed?"pick-slot__back":"pick-slot__front",a=A.isReversed?"transform: rotate(180deg);":"";t.innerHTML=`
          <div class="pick-slot__filled ${r}" style="${a}">
            <span class="pick-slot__symbol">${A.tarotSymbol||"âœ¦"}</span>
            <span class="pick-slot__name">${A.tarotName||A.label}</span>
          </div>
        `,t.classList.add("pick-slot--filled"),A.isReversed&&t.classList.add("pick-slot--reversed");const s=ke-this.pickedCount,i=document.querySelector(".pick-hint-text");i&&(i.textContent=s>0?`è¿˜éœ€æŠ½ ${s} å¼ ç‰Œ`:"å·²æŠ½æ»¡ 6 å¼ ç‰Œï¼Œç‚¹å‡»å¼€å§‹è§£è¯»")}async handleStartDivination(){const e=ke-this.pickedCount;if(e>0){window.showToast&&window.showToast(`è¯·å†æŠ½ ${e} å¼ ç‰Œ`,"error");return}if(this.isLoading)return;this.isLoading=!0;const A=document.getElementById("pickNextBtn");A&&(A.disabled=!0,A.classList.add("disabled"),A.textContent="æ­£åœ¨å‡†å¤‡...");try{const t=Bs(this.yaos),r=zt(t),a=fs(this.yaos),s=zt(a),i=hs(this.yaos),o=ps(),c=window.appState?.get?.("tarotQuestion")||window.appState?.get?.("selectedQuestion")||"è¿åŠ¿æŒ‡å¼•",l=window.appState?.get?.("questionCategory")||window.appState?.get?.("tarotCategory")||"ç»¼åˆ",g=window.appState?.get?.("tarotGender")||window.appState?.get?.("gender")||"",B={question:c,benGuaInfo:r,bianGuaInfo:s,yaos:this.yaos,movingPositions:i,questionCategory:l,gender:g};window.appState&&(window.appState.set("guaData",B),window.appState.set("yaos",this.yaos),window.appState.set("yaoHistory",this.yaoHistory),window.appState.set("benGuaInfo",r),window.appState.set("bianGuaInfo",s),window.appState.set("movingPositions",i),window.appState.set("lunarDate",o),window.appState.set("drawnTarotCards",this.pickedCards));const w=ln(),m={type:this.matchType.id,method:"tarot",guaData:{question:c,questionCategory:l,gender:g,benGua:r.name,bianGua:s.name,movingPositions:i,yaos:this.yaos.map(h=>({position:h.position,name:h.name,symbol:h.symbol}))},pickedCards:this.pickedCards.map(h=>({step:h.step,label:h.label,isReversed:h.isReversed,positionName:h.positionName,symbol:h.symbol})),timestamp:Date.now()};try{let h=null;try{const Q=JSON.parse(localStorage.getItem("user")||"{}");h=Q.id||Q.userId||null}catch{}const E=await dt.create(w,m,h);m.recordId=E.data?.recordId,m.sessionId=w}catch(h){console.error("åˆ›å»ºåŒ¹é…è®°å½•å¤±è´¥:",h),m.sessionId=w}if(window.appState?.set("currentTest",m),this.isXHS){console.log("[å°çº¢ä¹¦å…¥å£] ç›´æ¥è·³è½¬åˆ°è§£è¯»åŠ è½½é¡µ");const h=encodeURIComponent(window.appState?.get?.("tarotQuestion")||window.appState?.get?.("selectedQuestion")||"è¿åŠ¿æŒ‡å¼•");window.router.navigate(`/test/${this.matchType.id}/tarot/result-loading?question=${h}`)}else window.router.navigate(`/product/${this.matchType.id}`)}catch(t){console.error("[è§£è¯»å‡†å¤‡å¤±è´¥]",t),window.showToast&&window.showToast("å¦è±¡è®¡ç®—å¤±è´¥ï¼Œè¯·é‡è¯•","error"),this.isLoading=!1,A&&(A.disabled=!1,A.classList.remove("disabled"),A.textContent="å¼€å§‹è§£è¯»")}}destroy(){this.stopInertia(),clearTimeout(this._remindTimer),this._cleanups.forEach(e=>e())}}const _e=6,Zr=3,Ac=["åˆçˆ»","äºŒçˆ»","ä¸‰çˆ»","å››çˆ»","äº”çˆ»","ä¸Šçˆ»"];class ec{constructor(e){if(this.matchType=FA(e.type),!this.matchType){window.router.navigate("/");return}this.selectedCards=window.appState?.selectedTarotCards||[],this.shakeCount=0,this.yaos=[],this.collectedCards=[],this.isShaking=!1}render(){if(!this.matchType)return"";const e=this.selectedCards.map((A,t)=>`
          <div class="cs-card" data-idx="${t}" id="csCard${t}">
            <div class="cs-card__inner">
              <div class="cs-card__back">
                <span class="cs-card__star">âœ¦</span>
              </div>
              <div class="cs-card__front">
                <span class="cs-card__symbol">${A.symbol||"âœ¦"}</span>
                <span class="cs-card__name">${A.name||""}</span>
              </div>
            </div>
          </div>
        `).join("");return`
      <div class="page tarot-card-selection-page">
        ${j({title:"æ‘‡ç‰Œ",showBack:!0,showHistory:!1,showProfile:!1})}
        <main class="page-content">
          <div class="cs-page-wrap">

            <div class="cs-title">å‘½è¿ä¹‹ç‰Œ</div>
            <div class="cs-status" id="csStatus">ç¬¬ 1 / ${_e} æ¬¡æ‘‡ç‰Œ</div>

            <!-- 6å¼ å¤§ç‰Œ -->
            <div class="cs-card-grid" id="csCardGrid">
              ${e}
            </div>

            <!-- æ‘‡ç‰ŒæŒ‰é’® -->
            <div class="cs-shake-bar">
              <button class="btn btn--primary btn--full btn--lg" id="csShakeBtn">æ‘‡ç‰Œ</button>
            </div>

            <!-- åº•éƒ¨æ”¶é›†åŒº -->
            <div class="cs-collect-area" id="csCollectArea">
              <div class="cs-collect-label">å·²è·å¾—çš„æ­£é¢ç‰Œ</div>
              <div class="cs-collect-slots" id="csCollectSlots"></div>
            </div>

          </div>
        </main>
      </div>`}attachEvents(){document.querySelector(".navbar__back-btn")?.addEventListener("click",()=>window.router.back()),document.getElementById("csShakeBtn")?.addEventListener("click",()=>this.doShake())}doShake(){if(this.isShaking||this.shakeCount>=_e)return;this.isShaking=!0;const e=document.getElementById("csShakeBtn");e&&(e.disabled=!0,e.classList.add("disabled"));const A=document.querySelectorAll(".cs-card"),t=document.getElementById("csCardGrid");A.forEach(c=>{c.classList.remove("cs-card--face-up","cs-card--face-down","cs-card--picked","cs-card--not-picked","cs-card--hidden","cs-card--phase-float","cs-card--phase-scatter","cs-card--phase-glow","cs-card--shuffle-swap","cs-card--energy-pulse"),c.style.setProperty("--sx","0px"),c.style.setProperty("--sy","0px"),c.style.setProperty("--sr","0deg"),c.style.removeProperty("--swap-x"),c.style.removeProperty("--swap-y")}),t&&t.classList.remove("cs-card-grid--picked-only");const r=[0,1,2,3,4,5],a=[];for(let c=0;c<Zr;c++){const l=Math.floor(Math.random()*r.length);a.push(r[l]),r.splice(l,1)}const s=a.map(()=>Math.random()>.5?"å­—":"èƒŒ"),i=s.filter(c=>c==="èƒŒ").length,o=this.calculateYao(i,this.shakeCount+1,s);t&&t.classList.add("cs-grid--shaking"),A.forEach((c,l)=>{c.classList.add("cs-card--gather")}),setTimeout(()=>{A.forEach(c=>c.classList.remove("cs-card--gather")),this.spawnParticles(t),this.shuffleAllCards(t)},400),setTimeout(()=>{t&&t.classList.remove("cs-grid--shaking"),A.forEach(c=>c.classList.add("cs-card--phase-float"))},1200),setTimeout(()=>{A.forEach(c=>c.classList.remove("cs-card--phase-float")),A.forEach((c,l)=>{const g=l/6*Math.PI*2+(Math.random()-.5)*.8,B=12+Math.random()*10;c.style.setProperty("--sx",`${Math.cos(g)*B}px`),c.style.setProperty("--sy",`${Math.sin(g)*B}px`),c.style.setProperty("--sr",`${(Math.random()-.5)*24}deg`),c.classList.add("cs-card--phase-scatter")})},1650),setTimeout(()=>{A.forEach(c=>{c.classList.remove("cs-card--phase-scatter"),c.classList.add("cs-card--phase-glow"),c.classList.add("cs-card--energy-pulse")})},2150),setTimeout(()=>{A.forEach(l=>{l.classList.remove("cs-card--phase-glow"),l.classList.remove("cs-card--energy-pulse")});const c=document.querySelectorAll(".cs-card");c.forEach(l=>{const g=parseInt(l.dataset.idx);a.includes(g)||l.classList.add("cs-card--not-picked")}),setTimeout(()=>{c.forEach(l=>{const g=parseInt(l.dataset.idx);a.includes(g)||l.classList.add("cs-card--hidden")}),t&&t.classList.add("cs-card-grid--picked-only")},420),a.forEach((l,g)=>{const B=s[g]==="å­—",w=document.getElementById(`csCard${l}`);w&&setTimeout(()=>{w.classList.add("cs-card--picked"),w.classList.add(B?"cs-card--face-up":"cs-card--face-down"),this.spawnFlipGlow(w),B&&this.collectedCards.push({cardIndex:l,shakeRound:this.shakeCount,cardData:this.selectedCards[l]})},g*280)}),setTimeout(()=>{this.yaos.push(o),this.shakeCount++,this.updateCollectSlots(),this.updateStatus(),this.isShaking=!1,e&&(e.disabled=!1,e.classList.remove("disabled")),this.shakeCount>=_e&&this.onAllShakesDone()},Zr*280+500)},2600)}shuffleAllCards(e){if(!e)return;const A=Array.from(e.querySelectorAll(".cs-card"));if(A.length===0)return;const t=A.map(a=>{const s=a.getBoundingClientRect();return{left:s.left,top:s.top,width:s.width,height:s.height}}),r=Array.from({length:A.length},(a,s)=>s);for(let a=r.length-1;a>0;a--){const s=Math.floor(Math.random()*(a+1));[r[a],r[s]]=[r[s],r[a]]}A.forEach((a,s)=>{const i=r.indexOf(s);if(i===s)return;const o=t[s],c=t[i],l=c.left-o.left,g=c.top-o.top,B=(Math.random()-.5)*60,w=(Math.random()-.5)*360,m=Math.random()*120;a.style.setProperty("--swap-x",`${l}px`),a.style.setProperty("--swap-y",`${g}px`),a.style.setProperty("--curve",`${B}px`),a.style.setProperty("--rotate",`${w}deg`),a.style.setProperty("--delay",`${m}ms`),a.classList.add("cs-card--shuffle-all"),this.spawnTrailParticle(e,o,c)}),setTimeout(()=>{const a=document.createDocumentFragment();r.forEach(s=>{a.appendChild(A[s])}),e.innerHTML="",e.appendChild(a),e.querySelectorAll(".cs-card").forEach(s=>{s.classList.remove("cs-card--shuffle-all"),s.style.removeProperty("--swap-x"),s.style.removeProperty("--swap-y"),s.style.removeProperty("--curve"),s.style.removeProperty("--rotate"),s.style.removeProperty("--delay")})},800)}swapRandomCards(e){if(!e)return;const A=Array.from(e.querySelectorAll(".cs-card"));if(A.length<2)return;const t=Math.floor(Math.random()*A.length);let r=Math.floor(Math.random()*A.length);for(;r===t;)r=Math.floor(Math.random()*A.length);const a=A[t],s=A[r],i=a.getBoundingClientRect(),o=s.getBoundingClientRect(),c=o.left-i.left,l=o.top-i.top;a.style.setProperty("--swap-x",`${c}px`),a.style.setProperty("--swap-y",`${l}px`),s.style.setProperty("--swap-x",`${-c}px`),s.style.setProperty("--swap-y",`${-l}px`),a.classList.add("cs-card--shuffle-swap"),s.classList.add("cs-card--shuffle-swap"),this.spawnTrailParticle(e,i,o),setTimeout(()=>{a.classList.remove("cs-card--shuffle-swap"),s.classList.remove("cs-card--shuffle-swap"),a.style.removeProperty("--swap-x"),a.style.removeProperty("--swap-y"),s.style.removeProperty("--swap-x"),s.style.removeProperty("--swap-y");const g=a.parentNode,B=a.nextSibling===s?a:a.nextSibling;g.insertBefore(a,s),g.insertBefore(s,B)},350)}spawnParticles(e){if(!e)return;const A=e.getBoundingClientRect(),t=A.width/2,r=A.height/2;for(let a=0;a<20;a++){const s=document.createElement("div");s.className="cs-particle";const i=Math.PI*2*a/20+(Math.random()-.5)*.5,o=40+Math.random()*80,c=Math.cos(i)*o,l=Math.sin(i)*o,g=3+Math.random()*5,B=250+Math.random()*60,w=Math.random()*200;s.style.cssText=`
                left: ${t}px; top: ${r}px;
                width: ${g}px; height: ${g}px;
                --tx: ${c}px; --ty: ${l}px;
                background: hsl(${B}, 80%, 65%);
                animation-delay: ${w}ms;
            `,e.appendChild(s),setTimeout(()=>s.remove(),900)}}spawnTrailParticle(e,A,t){if(!e)return;const r=e.getBoundingClientRect(),a=(A.left+t.left)/2-r.left+A.width/2,s=(A.top+t.top)/2-r.top+A.height/2;for(let i=0;i<6;i++){const o=document.createElement("div");o.className="cs-trail-particle";const c=(Math.random()-.5)*40,l=(Math.random()-.5)*30;o.style.cssText=`left:${a+c}px;top:${s+l}px;animation-delay:${i*30}ms;`,e.appendChild(o),setTimeout(()=>o.remove(),600)}}spawnFlipGlow(e){const A=document.createElement("div");A.className="cs-flip-glow",e.appendChild(A),setTimeout(()=>A.remove(),800)}calculateYao(e,A,t){let r,a,s,i;switch(e){case 3:r=1,a=!0,s="è€é˜³ï¼ˆä¸‰èƒŒï¼‰",i="â—‹";break;case 2:r=1,a=!1,s="å°‘é˜³ï¼ˆäºŒèƒŒä¸€å­—ï¼‰",i="âšŠ";break;case 1:r=0,a=!1,s="å°‘é˜´ï¼ˆä¸€èƒŒäºŒå­—ï¼‰",i="âš‹";break;default:r=0,a=!0,s="è€é˜´ï¼ˆä¸‰å­—ï¼‰",i="Ã—";break}return{value:r,isMoving:a,name:s,symbol:i,position:Ac[A-1],step:A,backCount:e,coins:t}}updateStatus(){const e=document.getElementById("csStatus");e&&(this.shakeCount>=_e?e.textContent=`æ‘‡ç‰Œå®Œæˆï¼å…±è·å¾— ${this.collectedCards.length} å¼ æ­£é¢ç‰Œ`:e.textContent=`ç¬¬ ${this.shakeCount+1} / ${_e} æ¬¡æ‘‡ç‰Œ`)}updateCollectSlots(){const e=document.getElementById("csCollectSlots");e&&(e.innerHTML=this.collectedCards.map((A,t)=>{const r=A.cardData||{};return`
              <div class="cs-mini-card cs-mini-card--enter" style="animation-delay: ${t*.05}s">
                <div class="cs-mini-card__face">
                  <span class="cs-mini-card__symbol">${r.symbol||"âœ¦"}</span>
                  <span class="cs-mini-card__name">${r.name||""}</span>
                </div>
              </div>`}).join(""))}onAllShakesDone(){const e=document.getElementById("csShakeBtn");if(e)try{const A=Bs(this.yaos),t=zt(A),r=fs(this.yaos),a=zt(r),s=hs(this.yaos),i=ps(),o=window.appState?.get?.("tarotQuestion")||"è¿åŠ¿æŒ‡å¼•",c=window.appState?.get?.("questionCategory")||"ç»¼åˆ",l=window.appState?.get?.("gender")||"",g={question:o,benGuaInfo:t,bianGuaInfo:a,yaos:this.yaos,movingPositions:s,questionCategory:c,gender:l};console.log("[æ‘‡ç‰Œå®Œæˆ] å¦è±¡æ•°æ®:",{æœ¬å¦:t.name,å˜å¦:a.name,åŠ¨çˆ»:s,çˆ»æ•°æ®:this.yaos.map(B=>`${B.position}: ${B.name} ${B.symbol}`),æ­£é¢ç‰Œ:this.collectedCards.map(B=>B.cardData?.name)}),window.appState&&(window.appState.set("guaData",g),window.appState.set("yaos",this.yaos),window.appState.set("benGuaInfo",t),window.appState.set("bianGuaInfo",a),window.appState.set("movingPositions",s),window.appState.set("lunarDate",i)),e.textContent="å¼€å§‹è§£è¯»",e.onclick=async()=>{const B=ln(),w={type:this.matchType.id,method:"tarot",guaData:{question:o,questionCategory:c,gender:l,benGua:t.name,bianGua:a.name,movingPositions:s,yaos:this.yaos.map(m=>({position:m.position,name:m.name,symbol:m.symbol}))},collectedCards:this.collectedCards.map(m=>m.cardData?.name||""),timestamp:Date.now()};try{let m=null;try{const E=localStorage.getItem("user");if(E){const Q=JSON.parse(E);m=Q.id||Q.userId||null}}catch{}const h=await dt.create(B,w,m);console.log("åŒ¹é…è®°å½•åˆ›å»ºæˆåŠŸ:",h),w.recordId=h.data?.recordId,w.sessionId=B}catch(m){console.error("åˆ›å»ºåŒ¹é…è®°å½•å¤±è´¥:",m),w.sessionId=B}window.appState?.set("currentTest",w),window.router.navigate(`/product/${this.matchType.id}`)}}catch(A){console.error("[æ‘‡ç‰Œ] å¦è±¡è®¡ç®—å¤±è´¥:",A),e.textContent="é‡æ–°æ‘‡ç‰Œ",e.onclick=()=>{this.shakeCount=0,this.yaos=[],this.collectedCards=[],this.isShaking=!1,this.updateStatus(),this.updateCollectSlots(),document.querySelectorAll(".cs-card").forEach(t=>{t.classList.remove("cs-card--face-up","cs-card--face-down","cs-card--picked","cs-card--not-picked","cs-card--hidden")}),document.getElementById("csCardGrid")?.classList.remove("cs-card-grid--picked-only"),e.textContent="æ‘‡ç‰Œ",e.onclick=()=>this.doShake()}}}}const Tn=["æ­£åœ¨è§£è¯»ç‰Œé¢ä¿¡æ¯...","æ­£åœ¨åˆ†æèƒ½é‡èµ°å‘...","æ­£åœ¨ç»¼åˆç‰Œé˜µå«ä¹‰...","æ­£åœ¨æ¢³ç†æ ¸å¿ƒè„‰ç»œ...","æ­£åœ¨æ•´åˆæ·±å±‚æŒ‡å¼•...","è‚–å¤§å¸ˆæ­£åœ¨è®¤çœŸè§£è¯»...","å³å°†å®Œæˆï¼Œè¯·ç¨å€™..."];class tc{constructor(e){if(this.matchType=FA(e.type),this.question=decodeURIComponent(e.question||"æœªæŒ‡å®šé—®é¢˜"),this.estimateSeconds=90,this.progress=0,this.timer=null,this.isInterpreting=!1,this.tipIndex=0,this.currentTip=Tn[0],this.retryCount=0,this.maxRetry=2,!this.matchType){window.router.navigate("/");return}}render(){return window.appState?.get?.("benGuaInfo"),window.appState?.get?.("bianGuaInfo"),(window.appState?.get?.("movingPositions")||[]).length>0,`
      <div class="page tarot-result-loading-page">
        ${j({title:"è§£è¯»ç»“æœ",showBack:!0,showHistory:!1,showProfile:!1})}
        <main class="page-content">
          <div class="app-container">
            <!-- é—®é¢˜å¡ç‰‡ -->
            <section class="result-question-card animate-fade-in-up">
              <div class="result-question-label">åŒ¹é…äº‹é¡¹</div>
              <div class="result-question-main">${this.question}</div>
            </section>
            
            <!-- åŠ è½½åŠ¨ç”»å¡ç‰‡ -->
            <section class="result-loading-card animate-fade-in-up animate-delay-100">
              <div class="result-loading-spinner">
                <svg width="48" height="48" viewBox="0 0 48 48">
                  <circle cx="24" cy="24" r="20" stroke="#E0E0F6" stroke-width="6" fill="none" />
                  <circle cx="24" cy="24" r="20" stroke="#8B7FD8" stroke-width="6" fill="none" stroke-linecap="round" stroke-dasharray="100 100" stroke-dashoffset="${100-this.progress*100}"/>
                </svg>
              </div>
              <div class="result-loading-text">
                <div class="result-loading-main" id="loadingTip">${this.currentTip}</div>
                <div class="result-loading-sub">é¢„è®¡éœ€è¦ <span class="result-loading-sec">${this.estimateSeconds}</span> ç§’</div>
              </div>
              <div class="result-loading-bar">
                <div class="result-loading-bar-inner" style="width: ${this.progress*100}%"></div>
              </div>
            </section>
            
            <section class="result-btns animate-fade-in-up animate-delay-200">
              <button class="result-btn-restart" id="btnRestart">é‡æ–°å¼€å§‹</button>
            </section>
            <div class="result-tip">ä»…ä¾›å¨±ä¹å‚è€ƒï¼Œä¸ä½œä¸ºä»»ä½•å†³ç­–ä¾æ®</div>
          </div>
        </main>
      </div>
    `}attachEvents(){const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{this.timer&&(clearInterval(this.timer),this.timer=null),window.router.back()});const A=document.getElementById("btnRestart");A&&A.addEventListener("click",()=>{this.timer&&(clearInterval(this.timer),this.timer=null),window.router.navigate("/")}),this.startProgress(),this.startInterpret()}async startInterpret(){if(!this.isInterpreting){this.isInterpreting=!0;try{const e=window.appState?.get?.("guaData");if(!e){window.showToast("æ•°æ®å¼‚å¸¸ï¼Œè¯·é‡è¯•","error"),setTimeout(()=>window.router.back(),1500);return}console.log("[å…­çˆ»è§£å¦] å¼€å§‹è¯·æ±‚ï¼Œå¦è±¡æ•°æ®:",e);const A=lt(),t=await fetch(`${A}/divination`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({guaData:e})});if(console.log("[å…­çˆ»è§£å¦] å“åº”çŠ¶æ€:",t.status),!t.ok){const o=await t.text();throw console.error("[å…­çˆ»è§£å¦] è¯·æ±‚å¤±è´¥:",o),new Error(`æœåŠ¡å™¨é”™è¯¯: ${t.status}`)}const r=await t.text();console.log("[å…­çˆ»è§£å¦] å“åº”å†…å®¹é•¿åº¦:",r.length);let a;try{a=JSON.parse(r)}catch(o){throw console.error("[å…­çˆ»è§£å¦] JSONè§£æå¤±è´¥:",o),new Error("æœåŠ¡å™¨è¿”å›æ ¼å¼é”™è¯¯")}if(!a.success)throw new Error(a.error||"è§£å¦å¤±è´¥");console.log("[å…­çˆ»è§£å¦] è§£å¦æˆåŠŸ"),this.retryCount=0,this.stopProgress();const s=o=>o&&o.replace(/<think>[\s\S]*?<\/think>/gi,"").replace(/<think>[\s\S]*$/gi,"").replace(/<\/?think>/gi,"").trim(),i={question:this.question,yaos:window.appState?.get?.("yaos")||[],benGuaInfo:window.appState?.get?.("benGuaInfo")||{},bianGuaInfo:window.appState?.get?.("bianGuaInfo")||{},movingPositions:window.appState?.get?.("movingPositions")||[],lunarDate:window.appState?.get?.("lunarDate")||"",result:s(a.data.result),professionalVersion:s(a.data.professionalVersion||a.data.result),simpleVersion:s(a.data.simpleVersion||a.data.result),aiPrompt:a.data.aiPrompt||""};window.appState.divinationResult=i,window.appState.tarotInterpretResult={question:this.question,selectedCards:window.appState?.get?.("selectedCards")||[],result:i.result,professionalVersion:i.professionalVersion,simpleVersion:i.simpleVersion,benGuaInfo:i.benGuaInfo,bianGuaInfo:i.bianGuaInfo,movingPositions:i.movingPositions,lunarDate:i.lunarDate},await this.updateMatchRecordStatus(1,i),setTimeout(()=>{window.router.navigate(`/test/${this.matchType.id}/tarot/result`)},500)}catch(e){if(console.error("[å…­çˆ»è§£å¦] è§£å¦å¤±è´¥:",e),e.message&&(e.message.includes("è¶…æ—¶")||e.message.includes("timeout")||e.message.includes("502")||e.message.includes("504"))&&this.retryCount<this.maxRetry){this.retryCount++,console.log(`[å…­çˆ»è§£å¦] è¯·æ±‚å¤±è´¥ï¼Œè‡ªåŠ¨é‡è¯•ç¬¬ ${this.retryCount} æ¬¡...`),window.showToast&&window.showToast(`è¯·æ±‚è¶…æ—¶ï¼Œæ­£åœ¨é‡è¯• (${this.retryCount}/${this.maxRetry})`,"warning"),setTimeout(()=>{this.isInterpreting=!1,this.startInterpret()},1e3);return}this.retryCount=0,this.stopProgress(),window.showToast&&window.showToast(e.message||"è§£è¯»å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•","error"),await this.updateMatchRecordStatus(2,{error:e.message}),setTimeout(()=>{window.router.back()},2e3)}finally{this.isInterpreting=!1}}}startProgress(){this.progress=0,this.estimateSeconds=90,this.tipIndex=0;const e=document.querySelector(".result-loading-sec"),A=document.querySelector(".result-loading-bar-inner"),t=document.querySelector(".result-loading-spinner svg circle:last-child"),r=document.getElementById("loadingTip");let a=0;this.timer=setInterval(()=>{a++,this.progress=Math.min(.98,a/180),this.estimateSeconds=Math.max(0,90-a),a%10===0&&a<=70&&(this.tipIndex=Math.min(this.tipIndex+1,Tn.length-1));let s=Tn[this.tipIndex];a>120?s="æœåŠ¡å™¨å“åº”è¾ƒæ…¢ï¼Œè¯·å†ç­‰ä¸€ä¼šå„¿...":a>90?s="æ­£åœ¨ç­‰å¾…å“åº”ï¼Œè¯·è€å¿ƒç­‰å¾…...":a>60&&(s="å¤§å¸ˆæ­£åœ¨æ·±åº¦åˆ†æï¼Œè¯·ç¨å€™..."),this.currentTip=s,e&&(e.textContent=this.estimateSeconds>0?this.estimateSeconds:"ç»§ç»­ç­‰å¾…"),A&&(A.style.width=this.progress*100+"%"),t&&t.setAttribute("stroke-dashoffset",100-this.progress*100),r&&(r.textContent=s)},1e3)}stopProgress(){this.timer&&(clearInterval(this.timer),this.timer=null),this.progress=1,this.estimateSeconds=0,this.currentTip="è§£è¯»å®Œæˆï¼";const e=document.querySelector(".result-loading-sec"),A=document.querySelector(".result-loading-bar-inner"),t=document.querySelector(".result-loading-spinner svg circle:last-child"),r=document.getElementById("loadingTip");e&&(e.textContent="0"),A&&(A.style.width="100%"),t&&t.setAttribute("stroke-dashoffset","0"),r&&(r.textContent="è§£è¯»å®Œæˆï¼")}async updateMatchRecordStatus(e,A=null){const t=window.appState?.get?.("currentTest")?.sessionId||ln();if(!t){console.log("æ—  sessionIdï¼Œè·³è¿‡åŒ¹é…è®°å½•çŠ¶æ€æ›´æ–°");return}let r=null;try{const a=localStorage.getItem("user");if(a){const s=JSON.parse(a);r=s.id||s.userId||null}}catch{}try{await dt.updateStatus(t,r,e,A),console.log(`âœ… åŒ¹é…è®°å½•çŠ¶æ€å·²æ›´æ–°ä¸º ${e===1?"æˆåŠŸ":"å¤±è´¥"}`)}catch(a){console.error("æ›´æ–°åŒ¹é…è®°å½•çŠ¶æ€å¤±è´¥:",a)}}}var rr=function(n,e){return rr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,t){A.__proto__=t}||function(A,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(A[r]=t[r])},rr(n,e)};function TA(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");rr(n,e);function A(){this.constructor=n}n.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}var ar=function(){return ar=Object.assign||function(e){for(var A,t=1,r=arguments.length;t<r;t++){A=arguments[t];for(var a in A)Object.prototype.hasOwnProperty.call(A,a)&&(e[a]=A[a])}return e},ar.apply(this,arguments)};function hA(n,e,A,t){function r(a){return a instanceof A?a:new A(function(s){s(a)})}return new(A||(A=Promise))(function(a,s){function i(l){try{c(t.next(l))}catch(g){s(g)}}function o(l){try{c(t.throw(l))}catch(g){s(g)}}function c(l){l.done?a(l.value):r(l.value).then(i,o)}c((t=t.apply(n,[])).next())})}function dA(n,e){var A={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},t,r,a,s;return s={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function i(c){return function(l){return o([c,l])}}function o(c){if(t)throw new TypeError("Generator is already executing.");for(;A;)try{if(t=1,r&&(a=c[0]&2?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return A.label++,{value:c[1],done:!1};case 5:A.label++,r=c[1],c=[0];continue;case 7:c=A.ops.pop(),A.trys.pop();continue;default:if(a=A.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){A=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){A.label=c[1];break}if(c[0]===6&&A.label<a[1]){A.label=a[1],a=c;break}if(a&&A.label<a[2]){A.label=a[2],A.ops.push(c);break}a[2]&&A.ops.pop(),A.trys.pop();continue}c=e.call(n,A)}catch(l){c=[6,l],r=0}finally{t=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function yt(n,e,A){if(arguments.length===2)for(var t=0,r=e.length,a;t<r;t++)(a||!(t in e))&&(a||(a=Array.prototype.slice.call(e,0,t)),a[t]=e[t]);return n.concat(a||e)}var XA=(function(){function n(e,A,t,r){this.left=e,this.top=A,this.width=t,this.height=r}return n.prototype.add=function(e,A,t,r){return new n(this.left+e,this.top+A,this.width+t,this.height+r)},n.fromClientRect=function(e,A){return new n(A.left+e.windowBounds.left,A.top+e.windowBounds.top,A.width,A.height)},n.fromDOMRectList=function(e,A){var t=Array.from(A).find(function(r){return r.width!==0});return t?new n(t.left+e.windowBounds.left,t.top+e.windowBounds.top,t.width,t.height):n.EMPTY},n.EMPTY=new n(0,0,0,0),n})(),un=function(n,e){return XA.fromClientRect(n,e.getBoundingClientRect())},nc=function(n){var e=n.body,A=n.documentElement;if(!e||!A)throw new Error("Unable to get document size");var t=Math.max(Math.max(e.scrollWidth,A.scrollWidth),Math.max(e.offsetWidth,A.offsetWidth),Math.max(e.clientWidth,A.clientWidth)),r=Math.max(Math.max(e.scrollHeight,A.scrollHeight),Math.max(e.offsetHeight,A.offsetHeight),Math.max(e.clientHeight,A.clientHeight));return new XA(0,0,t,r)},gn=function(n){for(var e=[],A=0,t=n.length;A<t;){var r=n.charCodeAt(A++);if(r>=55296&&r<=56319&&A<t){var a=n.charCodeAt(A++);(a&64512)===56320?e.push(((r&1023)<<10)+(a&1023)+65536):(e.push(r),A--)}else e.push(r)}return e},Z=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var A=n.length;if(!A)return"";for(var t=[],r=-1,a="";++r<A;){var s=n[r];s<=65535?t.push(s):(s-=65536,t.push((s>>10)+55296,s%1024+56320)),(r+1===A||t.length>16384)&&(a+=String.fromCharCode.apply(String,t),t.length=0)}return a},jr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",rc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ft=0;Ft<jr.length;Ft++)rc[jr.charCodeAt(Ft)]=Ft;var Aa="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ut=0;Ut<Aa.length;Ut++)$e[Aa.charCodeAt(Ut)]=Ut;var ac=function(n){var e=n.length*.75,A=n.length,t,r=0,a,s,i,o;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),l=Array.isArray(c)?c:new Uint8Array(c);for(t=0;t<A;t+=4)a=$e[n.charCodeAt(t)],s=$e[n.charCodeAt(t+1)],i=$e[n.charCodeAt(t+2)],o=$e[n.charCodeAt(t+3)],l[r++]=a<<2|s>>4,l[r++]=(s&15)<<4|i>>2,l[r++]=(i&3)<<6|o&63;return c},sc=function(n){for(var e=n.length,A=[],t=0;t<e;t+=2)A.push(n[t+1]<<8|n[t]);return A},ic=function(n){for(var e=n.length,A=[],t=0;t<e;t+=4)A.push(n[t+3]<<24|n[t+2]<<16|n[t+1]<<8|n[t]);return A},le=5,Ir=11,Mn=2,oc=Ir-le,ms=65536>>le,cc=1<<le,Kn=cc-1,lc=1024>>le,dc=ms+lc,uc=dc,gc=32,Bc=uc+gc,fc=65536>>Ir,hc=1<<oc,pc=hc-1,ea=function(n,e,A){return n.slice?n.slice(e,A):new Uint16Array(Array.prototype.slice.call(n,e,A))},mc=function(n,e,A){return n.slice?n.slice(e,A):new Uint32Array(Array.prototype.slice.call(n,e,A))},wc=function(n,e){var A=ac(n),t=Array.isArray(A)?ic(A):new Uint32Array(A),r=Array.isArray(A)?sc(A):new Uint16Array(A),a=24,s=ea(r,a/2,t[4]/2),i=t[5]===2?ea(r,(a+t[4])/2):mc(t,Math.ceil((a+t[4])/4));return new Cc(t[0],t[1],t[2],t[3],s,i)},Cc=(function(){function n(e,A,t,r,a,s){this.initialValue=e,this.errorValue=A,this.highStart=t,this.highValueIndex=r,this.index=a,this.data=s}return n.prototype.get=function(e){var A;if(e>=0){if(e<55296||e>56319&&e<=65535)return A=this.index[e>>le],A=(A<<Mn)+(e&Kn),this.data[A];if(e<=65535)return A=this.index[ms+(e-55296>>le)],A=(A<<Mn)+(e&Kn),this.data[A];if(e<this.highStart)return A=Bc-fc+(e>>Ir),A=this.index[A],A+=e>>le&pc,A=this.index[A],A=(A<<Mn)+(e&Kn),this.data[A];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),ta="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var bt=0;bt<ta.length;bt++)vc[ta.charCodeAt(bt)]=bt;var Qc="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",na=50,yc=1,ws=2,Cs=3,Fc=4,Uc=5,ra=7,vs=8,aa=9,jA=10,sr=11,sa=12,ir=13,bc=14,Ve=15,or=16,Et=17,Oe=18,Ec=19,ia=20,cr=21,Re=22,kn=23,Be=24,yA=25,Ye=26,qe=27,fe=28,Ic=29,oe=30,xc=31,It=32,xt=33,lr=34,dr=35,ur=36,st=37,gr=38,Yt=39,qt=40,_n=41,Qs=42,Hc=43,Sc=[9001,65288],ys="!",R="Ã—",Ht="Ã·",Br=wc(Qc),YA=[oe,ur],fr=[yc,ws,Cs,Uc],Fs=[jA,vs],oa=[qe,Ye],Dc=fr.concat(Fs),ca=[gr,Yt,qt,lr,dr],Lc=[Ve,ir],Tc=function(n,e){e===void 0&&(e="strict");var A=[],t=[],r=[];return n.forEach(function(a,s){var i=Br.get(a);if(i>na?(r.push(!0),i-=na):r.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return t.push(s),A.push(or);if(i===Fc||i===sr){if(s===0)return t.push(s),A.push(oe);var o=A[s-1];return Dc.indexOf(o)===-1?(t.push(t[s-1]),A.push(o)):(t.push(s),A.push(oe))}if(t.push(s),i===xc)return A.push(e==="strict"?cr:st);if(i===Qs||i===Ic)return A.push(oe);if(i===Hc)return a>=131072&&a<=196605||a>=196608&&a<=262141?A.push(st):A.push(oe);A.push(i)}),[t,A,r]},On=function(n,e,A,t){var r=t[A];if(Array.isArray(n)?n.indexOf(r)!==-1:n===r)for(var a=A;a<=t.length;){a++;var s=t[a];if(s===e)return!0;if(s!==jA)break}if(r===jA)for(var a=A;a>0;){a--;var i=t[a];if(Array.isArray(n)?n.indexOf(i)!==-1:n===i)for(var o=A;o<=t.length;){o++;var s=t[o];if(s===e)return!0;if(s!==jA)break}if(i!==jA)break}return!1},la=function(n,e){for(var A=n;A>=0;){var t=e[A];if(t===jA)A--;else return t}return 0},Mc=function(n,e,A,t,r){if(A[t]===0)return R;var a=t-1;if(Array.isArray(r)&&r[a]===!0)return R;var s=a-1,i=a+1,o=e[a],c=s>=0?e[s]:0,l=e[i];if(o===ws&&l===Cs)return R;if(fr.indexOf(o)!==-1)return ys;if(fr.indexOf(l)!==-1||Fs.indexOf(l)!==-1)return R;if(la(a,e)===vs)return Ht;if(Br.get(n[a])===sr||(o===It||o===xt)&&Br.get(n[i])===sr||o===ra||l===ra||o===aa||[jA,ir,Ve].indexOf(o)===-1&&l===aa||[Et,Oe,Ec,Be,fe].indexOf(l)!==-1||la(a,e)===Re||On(kn,Re,a,e)||On([Et,Oe],cr,a,e)||On(sa,sa,a,e))return R;if(o===jA)return Ht;if(o===kn||l===kn)return R;if(l===or||o===or)return Ht;if([ir,Ve,cr].indexOf(l)!==-1||o===bc||c===ur&&Lc.indexOf(o)!==-1||o===fe&&l===ur||l===ia||YA.indexOf(l)!==-1&&o===yA||YA.indexOf(o)!==-1&&l===yA||o===qe&&[st,It,xt].indexOf(l)!==-1||[st,It,xt].indexOf(o)!==-1&&l===Ye||YA.indexOf(o)!==-1&&oa.indexOf(l)!==-1||oa.indexOf(o)!==-1&&YA.indexOf(l)!==-1||[qe,Ye].indexOf(o)!==-1&&(l===yA||[Re,Ve].indexOf(l)!==-1&&e[i+1]===yA)||[Re,Ve].indexOf(o)!==-1&&l===yA||o===yA&&[yA,fe,Be].indexOf(l)!==-1)return R;if([yA,fe,Be,Et,Oe].indexOf(l)!==-1)for(var g=a;g>=0;){var B=e[g];if(B===yA)return R;if([fe,Be].indexOf(B)!==-1)g--;else break}if([qe,Ye].indexOf(l)!==-1)for(var g=[Et,Oe].indexOf(o)!==-1?s:a;g>=0;){var B=e[g];if(B===yA)return R;if([fe,Be].indexOf(B)!==-1)g--;else break}if(gr===o&&[gr,Yt,lr,dr].indexOf(l)!==-1||[Yt,lr].indexOf(o)!==-1&&[Yt,qt].indexOf(l)!==-1||[qt,dr].indexOf(o)!==-1&&l===qt||ca.indexOf(o)!==-1&&[ia,Ye].indexOf(l)!==-1||ca.indexOf(l)!==-1&&o===qe||YA.indexOf(o)!==-1&&YA.indexOf(l)!==-1||o===Be&&YA.indexOf(l)!==-1||YA.concat(yA).indexOf(o)!==-1&&l===Re&&Sc.indexOf(n[i])===-1||YA.concat(yA).indexOf(l)!==-1&&o===Oe)return R;if(o===_n&&l===_n){for(var w=A[a],m=1;w>0&&(w--,e[w]===_n);)m++;if(m%2!==0)return R}return o===It&&l===xt?R:Ht},Kc=function(n,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var A=Tc(n,e.lineBreak),t=A[0],r=A[1],a=A[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(r=r.map(function(i){return[yA,oe,Qs].indexOf(i)!==-1?st:i}));var s=e.wordBreak==="keep-all"?a.map(function(i,o){return i&&n[o]>=19968&&n[o]<=40959}):void 0;return[t,r,s]},kc=(function(){function n(e,A,t,r){this.codePoints=e,this.required=A===ys,this.start=t,this.end=r}return n.prototype.slice=function(){return Z.apply(void 0,this.codePoints.slice(this.start,this.end))},n})(),_c=function(n,e){var A=gn(n),t=Kc(A,e),r=t[0],a=t[1],s=t[2],i=A.length,o=0,c=0;return{next:function(){if(c>=i)return{done:!0,value:null};for(var l=R;c<i&&(l=Mc(A,a,r,++c,s))===R;);if(l!==R||c===i){var g=new kc(A,l,o,c);return o=c,{value:g,done:!1}}return{done:!0,value:null}}}},Oc=1,Rc=2,Bt=4,da=8,Zt=10,ua=47,At=92,Nc=9,Pc=32,St=34,Ne=61,Gc=35,$c=36,Vc=37,Dt=39,Lt=40,Pe=41,Yc=95,mA=45,qc=33,Jc=60,Xc=62,Wc=64,zc=91,Zc=93,jc=61,Al=123,Tt=63,el=125,ga=124,tl=126,nl=128,Ba=65533,Rn=42,ce=43,rl=44,al=58,sl=59,it=46,il=0,ol=8,cl=11,ll=14,dl=31,ul=127,RA=-1,Us=48,bs=97,Es=101,gl=102,Bl=117,fl=122,Is=65,xs=69,Hs=70,hl=85,pl=90,gA=function(n){return n>=Us&&n<=57},ml=function(n){return n>=55296&&n<=57343},he=function(n){return gA(n)||n>=Is&&n<=Hs||n>=bs&&n<=gl},wl=function(n){return n>=bs&&n<=fl},Cl=function(n){return n>=Is&&n<=pl},vl=function(n){return wl(n)||Cl(n)},Ql=function(n){return n>=nl},Mt=function(n){return n===Zt||n===Nc||n===Pc},jt=function(n){return vl(n)||Ql(n)||n===Yc},fa=function(n){return jt(n)||gA(n)||n===mA},yl=function(n){return n>=il&&n<=ol||n===cl||n>=ll&&n<=dl||n===ul},ZA=function(n,e){return n!==At?!1:e!==Zt},Kt=function(n,e,A){return n===mA?jt(e)||ZA(e,A):jt(n)?!0:!!(n===At&&ZA(n,e))},Nn=function(n,e,A){return n===ce||n===mA?gA(e)?!0:e===it&&gA(A):gA(n===it?e:n)},Fl=function(n){var e=0,A=1;(n[e]===ce||n[e]===mA)&&(n[e]===mA&&(A=-1),e++);for(var t=[];gA(n[e]);)t.push(n[e++]);var r=t.length?parseInt(Z.apply(void 0,t),10):0;n[e]===it&&e++;for(var a=[];gA(n[e]);)a.push(n[e++]);var s=a.length,i=s?parseInt(Z.apply(void 0,a),10):0;(n[e]===xs||n[e]===Es)&&e++;var o=1;(n[e]===ce||n[e]===mA)&&(n[e]===mA&&(o=-1),e++);for(var c=[];gA(n[e]);)c.push(n[e++]);var l=c.length?parseInt(Z.apply(void 0,c),10):0;return A*(r+i*Math.pow(10,-s))*Math.pow(10,o*l)},Ul={type:2},bl={type:3},El={type:4},Il={type:13},xl={type:8},Hl={type:21},Sl={type:9},Dl={type:10},Ll={type:11},Tl={type:12},Ml={type:14},kt={type:23},Kl={type:1},kl={type:25},_l={type:24},Ol={type:26},Rl={type:27},Nl={type:28},Pl={type:29},Gl={type:31},hr={type:32},Ss=(function(){function n(){this._value=[]}return n.prototype.write=function(e){this._value=this._value.concat(gn(e))},n.prototype.read=function(){for(var e=[],A=this.consumeToken();A!==hr;)e.push(A),A=this.consumeToken();return e},n.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case St:return this.consumeStringToken(St);case Gc:var A=this.peekCodePoint(0),t=this.peekCodePoint(1),r=this.peekCodePoint(2);if(fa(A)||ZA(t,r)){var a=Kt(A,t,r)?Rc:Oc,s=this.consumeName();return{type:5,value:s,flags:a}}break;case $c:if(this.peekCodePoint(0)===Ne)return this.consumeCodePoint(),Il;break;case Dt:return this.consumeStringToken(Dt);case Lt:return Ul;case Pe:return bl;case Rn:if(this.peekCodePoint(0)===Ne)return this.consumeCodePoint(),Ml;break;case ce:if(Nn(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case rl:return El;case mA:var i=e,o=this.peekCodePoint(0),c=this.peekCodePoint(1);if(Nn(i,o,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Kt(i,o,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(o===mA&&c===Xc)return this.consumeCodePoint(),this.consumeCodePoint(),_l;break;case it:if(Nn(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case ua:if(this.peekCodePoint(0)===Rn)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===Rn&&(l=this.consumeCodePoint(),l===ua))return this.consumeToken();if(l===RA)return this.consumeToken()}break;case al:return Ol;case sl:return Rl;case Jc:if(this.peekCodePoint(0)===qc&&this.peekCodePoint(1)===mA&&this.peekCodePoint(2)===mA)return this.consumeCodePoint(),this.consumeCodePoint(),kl;break;case Wc:var g=this.peekCodePoint(0),B=this.peekCodePoint(1),w=this.peekCodePoint(2);if(Kt(g,B,w)){var s=this.consumeName();return{type:7,value:s}}break;case zc:return Nl;case At:if(ZA(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case Zc:return Pl;case jc:if(this.peekCodePoint(0)===Ne)return this.consumeCodePoint(),xl;break;case Al:return Ll;case el:return Tl;case Bl:case hl:var m=this.peekCodePoint(0),h=this.peekCodePoint(1);return m===ce&&(he(h)||h===Tt)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case ga:if(this.peekCodePoint(0)===Ne)return this.consumeCodePoint(),Sl;if(this.peekCodePoint(0)===ga)return this.consumeCodePoint(),Hl;break;case tl:if(this.peekCodePoint(0)===Ne)return this.consumeCodePoint(),Dl;break;case RA:return hr}return Mt(e)?(this.consumeWhiteSpace(),Gl):gA(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):jt(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Z(e)}},n.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},n.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},n.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},n.prototype.consumeUnicodeRangeToken=function(){for(var e=[],A=this.consumeCodePoint();he(A)&&e.length<6;)e.push(A),A=this.consumeCodePoint();for(var t=!1;A===Tt&&e.length<6;)e.push(A),A=this.consumeCodePoint(),t=!0;if(t){var r=parseInt(Z.apply(void 0,e.map(function(o){return o===Tt?Us:o})),16),a=parseInt(Z.apply(void 0,e.map(function(o){return o===Tt?Hs:o})),16);return{type:30,start:r,end:a}}var s=parseInt(Z.apply(void 0,e),16);if(this.peekCodePoint(0)===mA&&he(this.peekCodePoint(1))){this.consumeCodePoint(),A=this.consumeCodePoint();for(var i=[];he(A)&&i.length<6;)i.push(A),A=this.consumeCodePoint();var a=parseInt(Z.apply(void 0,i),16);return{type:30,start:s,end:a}}else return{type:30,start:s,end:s}},n.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Lt?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Lt?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},n.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===RA)return{type:22,value:""};var A=this.peekCodePoint(0);if(A===Dt||A===St){var t=this.consumeStringToken(this.consumeCodePoint());return t.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===RA||this.peekCodePoint(0)===Pe)?(this.consumeCodePoint(),{type:22,value:t.value}):(this.consumeBadUrlRemnants(),kt)}for(;;){var r=this.consumeCodePoint();if(r===RA||r===Pe)return{type:22,value:Z.apply(void 0,e)};if(Mt(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===RA||this.peekCodePoint(0)===Pe?(this.consumeCodePoint(),{type:22,value:Z.apply(void 0,e)}):(this.consumeBadUrlRemnants(),kt);if(r===St||r===Dt||r===Lt||yl(r))return this.consumeBadUrlRemnants(),kt;if(r===At)if(ZA(r,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),kt;else e.push(r)}},n.prototype.consumeWhiteSpace=function(){for(;Mt(this.peekCodePoint(0));)this.consumeCodePoint()},n.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Pe||e===RA)return;ZA(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},n.prototype.consumeStringSlice=function(e){for(var A=5e4,t="";e>0;){var r=Math.min(A,e);t+=Z.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),t},n.prototype.consumeStringToken=function(e){var A="",t=0;do{var r=this._value[t];if(r===RA||r===void 0||r===e)return A+=this.consumeStringSlice(t),{type:0,value:A};if(r===Zt)return this._value.splice(0,t),Kl;if(r===At){var a=this._value[t+1];a!==RA&&a!==void 0&&(a===Zt?(A+=this.consumeStringSlice(t),t=-1,this._value.shift()):ZA(r,a)&&(A+=this.consumeStringSlice(t),A+=Z(this.consumeEscapedCodePoint()),t=-1))}t++}while(!0)},n.prototype.consumeNumber=function(){var e=[],A=Bt,t=this.peekCodePoint(0);for((t===ce||t===mA)&&e.push(this.consumeCodePoint());gA(this.peekCodePoint(0));)e.push(this.consumeCodePoint());t=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(t===it&&gA(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),A=da;gA(this.peekCodePoint(0));)e.push(this.consumeCodePoint());t=this.peekCodePoint(0),r=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((t===xs||t===Es)&&((r===ce||r===mA)&&gA(a)||gA(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),A=da;gA(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Fl(e),A]},n.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),A=e[0],t=e[1],r=this.peekCodePoint(0),a=this.peekCodePoint(1),s=this.peekCodePoint(2);if(Kt(r,a,s)){var i=this.consumeName();return{type:15,number:A,flags:t,unit:i}}return r===Vc?(this.consumeCodePoint(),{type:16,number:A,flags:t}):{type:17,number:A,flags:t}},n.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(he(e)){for(var A=Z(e);he(this.peekCodePoint(0))&&A.length<6;)A+=Z(this.consumeCodePoint());Mt(this.peekCodePoint(0))&&this.consumeCodePoint();var t=parseInt(A,16);return t===0||ml(t)||t>1114111?Ba:t}return e===RA?Ba:e},n.prototype.consumeName=function(){for(var e="";;){var A=this.consumeCodePoint();if(fa(A))e+=Z(A);else if(ZA(A,this.peekCodePoint(0)))e+=Z(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(A),e}},n})(),Ds=(function(){function n(e){this._tokens=e}return n.create=function(e){var A=new Ss;return A.write(e),new n(A.read())},n.parseValue=function(e){return n.create(e).parseComponentValue()},n.parseValues=function(e){return n.create(e).parseComponentValues()},n.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var A=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return A;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},n.prototype.parseComponentValues=function(){for(var e=[];;){var A=this.consumeComponentValue();if(A.type===32)return e;e.push(A),e.push()}},n.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},n.prototype.consumeSimpleBlock=function(e){for(var A={type:e,values:[]},t=this.consumeToken();;){if(t.type===32||Vl(t,e))return A;this.reconsumeToken(t),A.values.push(this.consumeComponentValue()),t=this.consumeToken()}},n.prototype.consumeFunction=function(e){for(var A={name:e.value,values:[],type:18};;){var t=this.consumeToken();if(t.type===32||t.type===3)return A;this.reconsumeToken(t),A.values.push(this.consumeComponentValue())}},n.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?hr:e},n.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},n})(),ft=function(n){return n.type===15},Le=function(n){return n.type===17},$=function(n){return n.type===20},$l=function(n){return n.type===0},pr=function(n,e){return $(n)&&n.value===e},Ls=function(n){return n.type!==31},He=function(n){return n.type!==31&&n.type!==4},NA=function(n){var e=[],A=[];return n.forEach(function(t){if(t.type===4){if(A.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(A),A=[];return}t.type!==31&&A.push(t)}),A.length&&e.push(A),e},Vl=function(n,e){return e===11&&n.type===12||e===28&&n.type===29?!0:e===2&&n.type===3},re=function(n){return n.type===17||n.type===15},eA=function(n){return n.type===16||re(n)},Ts=function(n){return n.length>1?[n[0],n[1]]:[n[0]]},iA={type:17,number:0,flags:Bt},xr={type:16,number:50,flags:Bt},Ae={type:16,number:100,flags:Bt},Je=function(n,e,A){var t=n[0],r=n[1];return[J(t,e),J(typeof r<"u"?r:t,A)]},J=function(n,e){if(n.type===16)return n.number/100*e;if(ft(n))switch(n.unit){case"rem":case"em":return 16*n.number;default:return n.number}return n.number},Ms="deg",Ks="grad",ks="rad",_s="turn",Bn={name:"angle",parse:function(n,e){if(e.type===15)switch(e.unit){case Ms:return Math.PI*e.number/180;case Ks:return Math.PI/200*e.number;case ks:return e.number;case _s:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},Os=function(n){return n.type===15&&(n.unit===Ms||n.unit===Ks||n.unit===ks||n.unit===_s)},Rs=function(n){var e=n.filter($).map(function(A){return A.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[iA,iA];case"to top":case"bottom":return IA(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[iA,Ae];case"to right":case"left":return IA(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ae,Ae];case"to bottom":case"top":return IA(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ae,iA];case"to left":case"right":return IA(270)}return 0},IA=function(n){return Math.PI*n/180},te={name:"color",parse:function(n,e){if(e.type===18){var A=Yl[e.name];if(typeof A>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return A(n,e.values)}if(e.type===5){if(e.value.length===3){var t=e.value.substring(0,1),r=e.value.substring(1,2),a=e.value.substring(2,3);return ee(parseInt(t+t,16),parseInt(r+r,16),parseInt(a+a,16),1)}if(e.value.length===4){var t=e.value.substring(0,1),r=e.value.substring(1,2),a=e.value.substring(2,3),s=e.value.substring(3,4);return ee(parseInt(t+t,16),parseInt(r+r,16),parseInt(a+a,16),parseInt(s+s,16)/255)}if(e.value.length===6){var t=e.value.substring(0,2),r=e.value.substring(2,4),a=e.value.substring(4,6);return ee(parseInt(t,16),parseInt(r,16),parseInt(a,16),1)}if(e.value.length===8){var t=e.value.substring(0,2),r=e.value.substring(2,4),a=e.value.substring(4,6),s=e.value.substring(6,8);return ee(parseInt(t,16),parseInt(r,16),parseInt(a,16),parseInt(s,16)/255)}}if(e.type===20){var i=JA[e.value.toUpperCase()];if(typeof i<"u")return i}return JA.TRANSPARENT}},ne=function(n){return(255&n)===0},aA=function(n){var e=255&n,A=255&n>>8,t=255&n>>16,r=255&n>>24;return e<255?"rgba("+r+","+t+","+A+","+e/255+")":"rgb("+r+","+t+","+A+")"},ee=function(n,e,A,t){return(n<<24|e<<16|A<<8|Math.round(t*255)<<0)>>>0},ha=function(n,e){if(n.type===17)return n.number;if(n.type===16){var A=e===3?1:255;return e===3?n.number/100*A:Math.round(n.number/100*A)}return 0},pa=function(n,e){var A=e.filter(He);if(A.length===3){var t=A.map(ha),r=t[0],a=t[1],s=t[2];return ee(r,a,s,1)}if(A.length===4){var i=A.map(ha),r=i[0],a=i[1],s=i[2],o=i[3];return ee(r,a,s,o)}return 0};function Pn(n,e,A){return A<0&&(A+=1),A>=1&&(A-=1),A<1/6?(e-n)*A*6+n:A<1/2?e:A<2/3?(e-n)*6*(2/3-A)+n:n}var ma=function(n,e){var A=e.filter(He),t=A[0],r=A[1],a=A[2],s=A[3],i=(t.type===17?IA(t.number):Bn.parse(n,t))/(Math.PI*2),o=eA(r)?r.number/100:0,c=eA(a)?a.number/100:0,l=typeof s<"u"&&eA(s)?J(s,1):1;if(o===0)return ee(c*255,c*255,c*255,1);var g=c<=.5?c*(o+1):c+o-c*o,B=c*2-g,w=Pn(B,g,i+1/3),m=Pn(B,g,i),h=Pn(B,g,i-1/3);return ee(w*255,m*255,h*255,l)},Yl={hsl:ma,hsla:ma,rgb:pa,rgba:pa},et=function(n,e){return te.parse(n,Ds.create(e).parseComponentValue())},JA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},ql={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(A){if($(A))switch(A.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Jl={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},fn=function(n,e){var A=te.parse(n,e[0]),t=e[1];return t&&eA(t)?{color:A,stop:t}:{color:A,stop:null}},wa=function(n,e){var A=n[0],t=n[n.length-1];A.stop===null&&(A.stop=iA),t.stop===null&&(t.stop=Ae);for(var r=[],a=0,s=0;s<n.length;s++){var i=n[s].stop;if(i!==null){var o=J(i,e);o>a?r.push(o):r.push(a),a=o}else r.push(null)}for(var c=null,s=0;s<r.length;s++){var l=r[s];if(l===null)c===null&&(c=s);else if(c!==null){for(var g=s-c,B=r[c-1],w=(l-B)/(g+1),m=1;m<=g;m++)r[c+m-1]=w*m;c=null}}return n.map(function(h,E){var Q=h.color;return{color:Q,stop:Math.max(Math.min(1,r[E]/e),0)}})},Xl=function(n,e,A){var t=e/2,r=A/2,a=J(n[0],e)-t,s=r-J(n[1],A);return(Math.atan2(s,a)+Math.PI*2)%(Math.PI*2)},Wl=function(n,e,A){var t=typeof n=="number"?n:Xl(n,e,A),r=Math.abs(e*Math.sin(t))+Math.abs(A*Math.cos(t)),a=e/2,s=A/2,i=r/2,o=Math.sin(t-Math.PI/2)*i,c=Math.cos(t-Math.PI/2)*i;return[r,a-c,a+c,s-o,s+o]},LA=function(n,e){return Math.sqrt(n*n+e*e)},Ca=function(n,e,A,t,r){var a=[[0,0],[0,e],[n,0],[n,e]];return a.reduce(function(s,i){var o=i[0],c=i[1],l=LA(A-o,t-c);return(r?l<s.optimumDistance:l>s.optimumDistance)?{optimumCorner:i,optimumDistance:l}:s},{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},zl=function(n,e,A,t,r){var a=0,s=0;switch(n.size){case 0:n.shape===0?a=s=Math.min(Math.abs(e),Math.abs(e-t),Math.abs(A),Math.abs(A-r)):n.shape===1&&(a=Math.min(Math.abs(e),Math.abs(e-t)),s=Math.min(Math.abs(A),Math.abs(A-r)));break;case 2:if(n.shape===0)a=s=Math.min(LA(e,A),LA(e,A-r),LA(e-t,A),LA(e-t,A-r));else if(n.shape===1){var i=Math.min(Math.abs(A),Math.abs(A-r))/Math.min(Math.abs(e),Math.abs(e-t)),o=Ca(t,r,e,A,!0),c=o[0],l=o[1];a=LA(c-e,(l-A)/i),s=i*a}break;case 1:n.shape===0?a=s=Math.max(Math.abs(e),Math.abs(e-t),Math.abs(A),Math.abs(A-r)):n.shape===1&&(a=Math.max(Math.abs(e),Math.abs(e-t)),s=Math.max(Math.abs(A),Math.abs(A-r)));break;case 3:if(n.shape===0)a=s=Math.max(LA(e,A),LA(e,A-r),LA(e-t,A),LA(e-t,A-r));else if(n.shape===1){var i=Math.max(Math.abs(A),Math.abs(A-r))/Math.max(Math.abs(e),Math.abs(e-t)),g=Ca(t,r,e,A,!1),c=g[0],l=g[1];a=LA(c-e,(l-A)/i),s=i*a}break}return Array.isArray(n.size)&&(a=J(n.size[0],t),s=n.size.length===2?J(n.size[1],r):a),[a,s]},Zl=function(n,e){var A=IA(180),t=[];return NA(e).forEach(function(r,a){if(a===0){var s=r[0];if(s.type===20&&s.value==="to"){A=Rs(r);return}else if(Os(s)){A=Bn.parse(n,s);return}}var i=fn(n,r);t.push(i)}),{angle:A,stops:t,type:1}},_t=function(n,e){var A=IA(180),t=[];return NA(e).forEach(function(r,a){if(a===0){var s=r[0];if(s.type===20&&["top","left","right","bottom"].indexOf(s.value)!==-1){A=Rs(r);return}else if(Os(s)){A=(Bn.parse(n,s)+IA(270))%IA(360);return}}var i=fn(n,r);t.push(i)}),{angle:A,stops:t,type:1}},jl=function(n,e){var A=IA(180),t=[],r=1,a=0,s=3,i=[];return NA(e).forEach(function(o,c){var l=o[0];if(c===0){if($(l)&&l.value==="linear"){r=1;return}else if($(l)&&l.value==="radial"){r=2;return}}if(l.type===18){if(l.name==="from"){var g=te.parse(n,l.values[0]);t.push({stop:iA,color:g})}else if(l.name==="to"){var g=te.parse(n,l.values[0]);t.push({stop:Ae,color:g})}else if(l.name==="color-stop"){var B=l.values.filter(He);if(B.length===2){var g=te.parse(n,B[1]),w=B[0];Le(w)&&t.push({stop:{type:16,number:w.number*100,flags:w.flags},color:g})}}}}),r===1?{angle:(A+IA(180))%IA(360),stops:t,type:r}:{size:s,shape:a,stops:t,position:i,type:r}},Ns="closest-side",Ps="farthest-side",Gs="closest-corner",$s="farthest-corner",Vs="circle",Ys="ellipse",qs="cover",Js="contain",Ad=function(n,e){var A=0,t=3,r=[],a=[];return NA(e).forEach(function(s,i){var o=!0;if(i===0){var c=!1;o=s.reduce(function(g,B){if(c)if($(B))switch(B.value){case"center":return a.push(xr),g;case"top":case"left":return a.push(iA),g;case"right":case"bottom":return a.push(Ae),g}else(eA(B)||re(B))&&a.push(B);else if($(B))switch(B.value){case Vs:return A=0,!1;case Ys:return A=1,!1;case"at":return c=!0,!1;case Ns:return t=0,!1;case qs:case Ps:return t=1,!1;case Js:case Gs:return t=2,!1;case $s:return t=3,!1}else if(re(B)||eA(B))return Array.isArray(t)||(t=[]),t.push(B),!1;return g},o)}if(o){var l=fn(n,s);r.push(l)}}),{size:t,shape:A,stops:r,position:a,type:2}},Ot=function(n,e){var A=0,t=3,r=[],a=[];return NA(e).forEach(function(s,i){var o=!0;if(i===0?o=s.reduce(function(l,g){if($(g))switch(g.value){case"center":return a.push(xr),!1;case"top":case"left":return a.push(iA),!1;case"right":case"bottom":return a.push(Ae),!1}else if(eA(g)||re(g))return a.push(g),!1;return l},o):i===1&&(o=s.reduce(function(l,g){if($(g))switch(g.value){case Vs:return A=0,!1;case Ys:return A=1,!1;case Js:case Ns:return t=0,!1;case Ps:return t=1,!1;case Gs:return t=2,!1;case qs:case $s:return t=3,!1}else if(re(g)||eA(g))return Array.isArray(t)||(t=[]),t.push(g),!1;return l},o)),o){var c=fn(n,s);r.push(c)}}),{size:t,shape:A,stops:r,position:a,type:2}},ed=function(n){return n.type===1},td=function(n){return n.type===2},Hr={name:"image",parse:function(n,e){if(e.type===22){var A={url:e.value,type:0};return n.cache.addImage(e.value),A}if(e.type===18){var t=Xs[e.name];if(typeof t>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return t(n,e.values)}throw new Error("Unsupported image type "+e.type)}};function nd(n){return!(n.type===20&&n.value==="none")&&(n.type!==18||!!Xs[n.name])}var Xs={"linear-gradient":Zl,"-moz-linear-gradient":_t,"-ms-linear-gradient":_t,"-o-linear-gradient":_t,"-webkit-linear-gradient":_t,"radial-gradient":Ad,"-moz-radial-gradient":Ot,"-ms-radial-gradient":Ot,"-o-radial-gradient":Ot,"-webkit-radial-gradient":Ot,"-webkit-gradient":jl},rd={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var A=e[0];return A.type===20&&A.value==="none"?[]:e.filter(function(t){return He(t)&&nd(t)}).map(function(t){return Hr.parse(n,t)})}},ad={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(n,e){return e.map(function(A){if($(A))switch(A.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},sd={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(n,e){return NA(e).map(function(A){return A.filter(eA)}).map(Ts)}},id={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(n,e){return NA(e).map(function(A){return A.filter($).map(function(t){return t.value}).join(" ")}).map(od)}},od=function(n){switch(n){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},Ee;(function(n){n.AUTO="auto",n.CONTAIN="contain",n.COVER="cover"})(Ee||(Ee={}));var cd={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(n,e){return NA(e).map(function(A){return A.filter(ld)})}},ld=function(n){return $(n)||eA(n)},hn=function(n){return{name:"border-"+n+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},dd=hn("top"),ud=hn("right"),gd=hn("bottom"),Bd=hn("left"),pn=function(n){return{name:"border-radius-"+n,initialValue:"0 0",prefix:!1,type:1,parse:function(e,A){return Ts(A.filter(eA))}}},fd=pn("top-left"),hd=pn("top-right"),pd=pn("bottom-right"),md=pn("bottom-left"),mn=function(n){return{name:"border-"+n+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,A){switch(A){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},wd=mn("top"),Cd=mn("right"),vd=mn("bottom"),Qd=mn("left"),wn=function(n){return{name:"border-"+n+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,A){return ft(A)?A.number:0}}},yd=wn("top"),Fd=wn("right"),Ud=wn("bottom"),bd=wn("left"),Ed={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Id={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(n,e){return e==="rtl"?1:0}},xd={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(n,e){return e.filter($).reduce(function(A,t){return A|Hd(t.value)},0)}},Hd=function(n){switch(n){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Sd={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Dd={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(n,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},An;(function(n){n.NORMAL="normal",n.STRICT="strict"})(An||(An={}));var Ld={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){return e==="strict"?An.STRICT:An.NORMAL}},Td={name:"line-height",initialValue:"normal",prefix:!1,type:4},va=function(n,e){return $(n)&&n.value==="normal"?1.2*e:n.type===17?e*n.number:eA(n)?J(n,e):e},Md={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(n,e){return e.type===20&&e.value==="none"?null:Hr.parse(n,e)}},Kd={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(n,e){return e==="inside"?0:1}},mr={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},Cn=function(n){return{name:"margin-"+n,initialValue:"0",prefix:!1,type:4}},kd=Cn("top"),_d=Cn("right"),Od=Cn("bottom"),Rd=Cn("left"),Nd={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(n,e){return e.filter($).map(function(A){switch(A.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},Pd={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){return e==="break-word"?"break-word":"normal"}},vn=function(n){return{name:"padding-"+n,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Gd=vn("top"),$d=vn("right"),Vd=vn("bottom"),Yd=vn("left"),qd={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(n,e){switch(e){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Jd={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(n,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Xd={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&pr(e[0],"none")?[]:NA(e).map(function(A){for(var t={color:JA.TRANSPARENT,offsetX:iA,offsetY:iA,blur:iA},r=0,a=0;a<A.length;a++){var s=A[a];re(s)?(r===0?t.offsetX=s:r===1?t.offsetY=s:t.blur=s,r++):t.color=te.parse(n,s)}return t})}},Wd={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},zd={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(n,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var A=Au[e.name];if(typeof A>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return A(e.values)}return null}},Zd=function(n){var e=n.filter(function(A){return A.type===17}).map(function(A){return A.number});return e.length===6?e:null},jd=function(n){var e=n.filter(function(o){return o.type===17}).map(function(o){return o.number}),A=e[0],t=e[1];e[2],e[3];var r=e[4],a=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var s=e[12],i=e[13];return e[14],e[15],e.length===16?[A,t,r,a,s,i]:null},Au={matrix:Zd,matrix3d:jd},Qa={type:16,number:50,flags:Bt},eu=[Qa,Qa],tu={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(n,e){var A=e.filter(eA);return A.length!==2?eu:[A[0],A[1]]}},nu={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(n,e){switch(e){case"hidden":return 1;case"collapse":return 2;default:return 0}}},tt;(function(n){n.NORMAL="normal",n.BREAK_ALL="break-all",n.KEEP_ALL="keep-all"})(tt||(tt={}));var ru={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"break-all":return tt.BREAK_ALL;case"keep-all":return tt.KEEP_ALL;default:return tt.NORMAL}}},au={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(n,e){if(e.type===20)return{auto:!0,order:0};if(Le(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},Ws={name:"time",parse:function(n,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},su={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(n,e){return Le(e)?e.number:1}},iu={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ou={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(n,e){return e.filter($).map(function(A){switch(A.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(A){return A!==0})}},cu={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(n,e){var A=[],t=[];return e.forEach(function(r){switch(r.type){case 20:case 0:A.push(r.value);break;case 17:A.push(r.number.toString());break;case 4:t.push(A.join(" ")),A.length=0;break}}),A.length&&t.push(A.join(" ")),t.map(function(r){return r.indexOf(" ")===-1?r:"'"+r+"'"})}},lu={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},du={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(n,e){return Le(e)?e.number:$(e)&&e.value==="bold"?700:400}},uu={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.filter($).map(function(A){return A.value})}},gu={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(n,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},nA=function(n,e){return(n&e)!==0},Bu={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(n,e){if(e.length===0)return[];var A=e[0];return A.type===20&&A.value==="none"?[]:e}},fu={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var A=e[0];if(A.type===20&&A.value==="none")return null;for(var t=[],r=e.filter(Ls),a=0;a<r.length;a++){var s=r[a],i=r[a+1];if(s.type===20){var o=i&&Le(i)?i.number:1;t.push({counter:s.value,increment:o})}}return t}},hu={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return[];for(var A=[],t=e.filter(Ls),r=0;r<t.length;r++){var a=t[r],s=t[r+1];if($(a)&&a.value!=="none"){var i=s&&Le(s)?s.number:0;A.push({counter:a.value,reset:i})}}return A}},pu={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(n,e){return e.filter(ft).map(function(A){return Ws.parse(n,A)})}},mu={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(n,e){if(e.length===0)return null;var A=e[0];if(A.type===20&&A.value==="none")return null;var t=[],r=e.filter($l);if(r.length%2!==0)return null;for(var a=0;a<r.length;a+=2){var s=r[a].value,i=r[a+1].value;t.push({open:s,close:i})}return t}},ya=function(n,e,A){if(!n)return"";var t=n[Math.min(e,n.length-1)];return t?A?t.open:t.close:""},wu={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(n,e){return e.length===1&&pr(e[0],"none")?[]:NA(e).map(function(A){for(var t={color:255,offsetX:iA,offsetY:iA,blur:iA,spread:iA,inset:!1},r=0,a=0;a<A.length;a++){var s=A[a];pr(s,"inset")?t.inset=!0:re(s)?(r===0?t.offsetX=s:r===1?t.offsetY=s:r===2?t.blur=s:t.spread=s,r++):t.color=te.parse(n,s)}return t})}},Cu={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(n,e){var A=[0,1,2],t=[];return e.filter($).forEach(function(r){switch(r.value){case"stroke":t.push(1);break;case"fill":t.push(0);break;case"markers":t.push(2);break}}),A.forEach(function(r){t.indexOf(r)===-1&&t.push(r)}),t}},vu={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},Qu={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(n,e){return ft(e)?e.number:0}},yu=(function(){function n(e,A){var t,r;this.animationDuration=b(e,pu,A.animationDuration),this.backgroundClip=b(e,ql,A.backgroundClip),this.backgroundColor=b(e,Jl,A.backgroundColor),this.backgroundImage=b(e,rd,A.backgroundImage),this.backgroundOrigin=b(e,ad,A.backgroundOrigin),this.backgroundPosition=b(e,sd,A.backgroundPosition),this.backgroundRepeat=b(e,id,A.backgroundRepeat),this.backgroundSize=b(e,cd,A.backgroundSize),this.borderTopColor=b(e,dd,A.borderTopColor),this.borderRightColor=b(e,ud,A.borderRightColor),this.borderBottomColor=b(e,gd,A.borderBottomColor),this.borderLeftColor=b(e,Bd,A.borderLeftColor),this.borderTopLeftRadius=b(e,fd,A.borderTopLeftRadius),this.borderTopRightRadius=b(e,hd,A.borderTopRightRadius),this.borderBottomRightRadius=b(e,pd,A.borderBottomRightRadius),this.borderBottomLeftRadius=b(e,md,A.borderBottomLeftRadius),this.borderTopStyle=b(e,wd,A.borderTopStyle),this.borderRightStyle=b(e,Cd,A.borderRightStyle),this.borderBottomStyle=b(e,vd,A.borderBottomStyle),this.borderLeftStyle=b(e,Qd,A.borderLeftStyle),this.borderTopWidth=b(e,yd,A.borderTopWidth),this.borderRightWidth=b(e,Fd,A.borderRightWidth),this.borderBottomWidth=b(e,Ud,A.borderBottomWidth),this.borderLeftWidth=b(e,bd,A.borderLeftWidth),this.boxShadow=b(e,wu,A.boxShadow),this.color=b(e,Ed,A.color),this.direction=b(e,Id,A.direction),this.display=b(e,xd,A.display),this.float=b(e,Sd,A.cssFloat),this.fontFamily=b(e,cu,A.fontFamily),this.fontSize=b(e,lu,A.fontSize),this.fontStyle=b(e,gu,A.fontStyle),this.fontVariant=b(e,uu,A.fontVariant),this.fontWeight=b(e,du,A.fontWeight),this.letterSpacing=b(e,Dd,A.letterSpacing),this.lineBreak=b(e,Ld,A.lineBreak),this.lineHeight=b(e,Td,A.lineHeight),this.listStyleImage=b(e,Md,A.listStyleImage),this.listStylePosition=b(e,Kd,A.listStylePosition),this.listStyleType=b(e,mr,A.listStyleType),this.marginTop=b(e,kd,A.marginTop),this.marginRight=b(e,_d,A.marginRight),this.marginBottom=b(e,Od,A.marginBottom),this.marginLeft=b(e,Rd,A.marginLeft),this.opacity=b(e,su,A.opacity);var a=b(e,Nd,A.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=b(e,Pd,A.overflowWrap),this.paddingTop=b(e,Gd,A.paddingTop),this.paddingRight=b(e,$d,A.paddingRight),this.paddingBottom=b(e,Vd,A.paddingBottom),this.paddingLeft=b(e,Yd,A.paddingLeft),this.paintOrder=b(e,Cu,A.paintOrder),this.position=b(e,Jd,A.position),this.textAlign=b(e,qd,A.textAlign),this.textDecorationColor=b(e,iu,(t=A.textDecorationColor)!==null&&t!==void 0?t:A.color),this.textDecorationLine=b(e,ou,(r=A.textDecorationLine)!==null&&r!==void 0?r:A.textDecoration),this.textShadow=b(e,Xd,A.textShadow),this.textTransform=b(e,Wd,A.textTransform),this.transform=b(e,zd,A.transform),this.transformOrigin=b(e,tu,A.transformOrigin),this.visibility=b(e,nu,A.visibility),this.webkitTextStrokeColor=b(e,vu,A.webkitTextStrokeColor),this.webkitTextStrokeWidth=b(e,Qu,A.webkitTextStrokeWidth),this.wordBreak=b(e,ru,A.wordBreak),this.zIndex=b(e,au,A.zIndex)}return n.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},n.prototype.isTransparent=function(){return ne(this.backgroundColor)},n.prototype.isTransformed=function(){return this.transform!==null},n.prototype.isPositioned=function(){return this.position!==0},n.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},n.prototype.isFloating=function(){return this.float!==0},n.prototype.isInlineLevel=function(){return nA(this.display,4)||nA(this.display,33554432)||nA(this.display,268435456)||nA(this.display,536870912)||nA(this.display,67108864)||nA(this.display,134217728)},n})(),Fu=(function(){function n(e,A){this.content=b(e,Bu,A.content),this.quotes=b(e,mu,A.quotes)}return n})(),Fa=(function(){function n(e,A){this.counterIncrement=b(e,fu,A.counterIncrement),this.counterReset=b(e,hu,A.counterReset)}return n})(),b=function(n,e,A){var t=new Ss,r=A!==null&&typeof A<"u"?A.toString():e.initialValue;t.write(r);var a=new Ds(t.read());switch(e.type){case 2:var s=a.parseComponentValue();return e.parse(n,$(s)?s.value:e.initialValue);case 0:return e.parse(n,a.parseComponentValue());case 1:return e.parse(n,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(e.format){case"angle":return Bn.parse(n,a.parseComponentValue());case"color":return te.parse(n,a.parseComponentValue());case"image":return Hr.parse(n,a.parseComponentValue());case"length":var i=a.parseComponentValue();return re(i)?i:iA;case"length-percentage":var o=a.parseComponentValue();return eA(o)?o:iA;case"time":return Ws.parse(n,a.parseComponentValue())}break}},Uu="data-html2canvas-debug",bu=function(n){var e=n.getAttribute(Uu);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},wr=function(n,e){var A=bu(n);return A===1||e===A},PA=(function(){function n(e,A){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,wr(A,3))debugger;this.styles=new yu(e,window.getComputedStyle(A,null)),Qr(A)&&(this.styles.animationDuration.some(function(t){return t>0})&&(A.style.animationDuration="0s"),this.styles.transform!==null&&(A.style.transform="none")),this.bounds=un(this.context,A),wr(A,4)&&(this.flags|=16)}return n})(),Eu="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Ua="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Rt=0;Rt<Ua.length;Rt++)Xe[Ua.charCodeAt(Rt)]=Rt;var Iu=function(n){var e=n.length*.75,A=n.length,t,r=0,a,s,i,o;n[n.length-1]==="="&&(e--,n[n.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),l=Array.isArray(c)?c:new Uint8Array(c);for(t=0;t<A;t+=4)a=Xe[n.charCodeAt(t)],s=Xe[n.charCodeAt(t+1)],i=Xe[n.charCodeAt(t+2)],o=Xe[n.charCodeAt(t+3)],l[r++]=a<<2|s>>4,l[r++]=(s&15)<<4|i>>2,l[r++]=(i&3)<<6|o&63;return c},xu=function(n){for(var e=n.length,A=[],t=0;t<e;t+=2)A.push(n[t+1]<<8|n[t]);return A},Hu=function(n){for(var e=n.length,A=[],t=0;t<e;t+=4)A.push(n[t+3]<<24|n[t+2]<<16|n[t+1]<<8|n[t]);return A},de=5,Sr=11,Gn=2,Su=Sr-de,zs=65536>>de,Du=1<<de,$n=Du-1,Lu=1024>>de,Tu=zs+Lu,Mu=Tu,Ku=32,ku=Mu+Ku,_u=65536>>Sr,Ou=1<<Su,Ru=Ou-1,ba=function(n,e,A){return n.slice?n.slice(e,A):new Uint16Array(Array.prototype.slice.call(n,e,A))},Nu=function(n,e,A){return n.slice?n.slice(e,A):new Uint32Array(Array.prototype.slice.call(n,e,A))},Pu=function(n,e){var A=Iu(n),t=Array.isArray(A)?Hu(A):new Uint32Array(A),r=Array.isArray(A)?xu(A):new Uint16Array(A),a=24,s=ba(r,a/2,t[4]/2),i=t[5]===2?ba(r,(a+t[4])/2):Nu(t,Math.ceil((a+t[4])/4));return new Gu(t[0],t[1],t[2],t[3],s,i)},Gu=(function(){function n(e,A,t,r,a,s){this.initialValue=e,this.errorValue=A,this.highStart=t,this.highValueIndex=r,this.index=a,this.data=s}return n.prototype.get=function(e){var A;if(e>=0){if(e<55296||e>56319&&e<=65535)return A=this.index[e>>de],A=(A<<Gn)+(e&$n),this.data[A];if(e<=65535)return A=this.index[zs+(e-55296>>de)],A=(A<<Gn)+(e&$n),this.data[A];if(e<this.highStart)return A=ku-_u+(e>>Sr),A=this.index[A],A+=e>>de&Ru,A=this.index[A],A=(A<<Gn)+(e&$n),this.data[A];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},n})(),Ea="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",$u=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Nt=0;Nt<Ea.length;Nt++)$u[Ea.charCodeAt(Nt)]=Nt;var Vu=1,Vn=2,Yn=3,Ia=4,xa=5,Yu=7,Ha=8,qn=9,Jn=10,Sa=11,Da=12,La=13,Ta=14,Xn=15,qu=function(n){for(var e=[],A=0,t=n.length;A<t;){var r=n.charCodeAt(A++);if(r>=55296&&r<=56319&&A<t){var a=n.charCodeAt(A++);(a&64512)===56320?e.push(((r&1023)<<10)+(a&1023)+65536):(e.push(r),A--)}else e.push(r)}return e},Ju=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,n);var A=n.length;if(!A)return"";for(var t=[],r=-1,a="";++r<A;){var s=n[r];s<=65535?t.push(s):(s-=65536,t.push((s>>10)+55296,s%1024+56320)),(r+1===A||t.length>16384)&&(a+=String.fromCharCode.apply(String,t),t.length=0)}return a},Xu=Pu(Eu),bA="Ã—",Wn="Ã·",Wu=function(n){return Xu.get(n)},zu=function(n,e,A){var t=A-2,r=e[t],a=e[A-1],s=e[A];if(a===Vn&&s===Yn)return bA;if(a===Vn||a===Yn||a===Ia||s===Vn||s===Yn||s===Ia)return Wn;if(a===Ha&&[Ha,qn,Sa,Da].indexOf(s)!==-1||(a===Sa||a===qn)&&(s===qn||s===Jn)||(a===Da||a===Jn)&&s===Jn||s===La||s===xa||s===Yu||a===Vu)return bA;if(a===La&&s===Ta){for(;r===xa;)r=e[--t];if(r===Ta)return bA}if(a===Xn&&s===Xn){for(var i=0;r===Xn;)i++,r=e[--t];if(i%2===0)return bA}return Wn},Zu=function(n){var e=qu(n),A=e.length,t=0,r=0,a=e.map(Wu);return{next:function(){if(t>=A)return{done:!0,value:null};for(var s=bA;t<A&&(s=zu(e,a,++t))===bA;);if(s!==bA||t===A){var i=Ju.apply(null,e.slice(r,t));return r=t,{value:i,done:!1}}return{done:!0,value:null}}}},ju=function(n){for(var e=Zu(n),A=[],t;!(t=e.next()).done;)t.value&&A.push(t.value.slice());return A},Ag=function(n){var e=123;if(n.createRange){var A=n.createRange();if(A.getBoundingClientRect){var t=n.createElement("boundtest");t.style.height=e+"px",t.style.display="block",n.body.appendChild(t),A.selectNode(t);var r=A.getBoundingClientRect(),a=Math.round(r.height);if(n.body.removeChild(t),a===e)return!0}}return!1},eg=function(n){var e=n.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",n.body.appendChild(e);var A=n.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var t=e.firstChild,r=gn(t.data).map(function(o){return Z(o)}),a=0,s={},i=r.every(function(o,c){A.setStart(t,a),A.setEnd(t,a+o.length);var l=A.getBoundingClientRect();a+=o.length;var g=l.x>s.x||l.y>s.y;return s=l,c===0?!0:g});return n.body.removeChild(e),i},tg=function(){return typeof new Image().crossOrigin<"u"},ng=function(){return typeof new XMLHttpRequest().responseType=="string"},rg=function(n){var e=new Image,A=n.createElement("canvas"),t=A.getContext("2d");if(!t)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{t.drawImage(e,0,0),A.toDataURL()}catch{return!1}return!0},Ma=function(n){return n[0]===0&&n[1]===255&&n[2]===0&&n[3]===255},ag=function(n){var e=n.createElement("canvas"),A=100;e.width=A,e.height=A;var t=e.getContext("2d");if(!t)return Promise.reject(!1);t.fillStyle="rgb(0, 255, 0)",t.fillRect(0,0,A,A);var r=new Image,a=e.toDataURL();r.src=a;var s=Cr(A,A,0,0,r);return t.fillStyle="red",t.fillRect(0,0,A,A),Ka(s).then(function(i){t.drawImage(i,0,0);var o=t.getImageData(0,0,A,A).data;t.fillStyle="red",t.fillRect(0,0,A,A);var c=n.createElement("div");return c.style.backgroundImage="url("+a+")",c.style.height=A+"px",Ma(o)?Ka(Cr(A,A,0,0,c)):Promise.reject(!1)}).then(function(i){return t.drawImage(i,0,0),Ma(t.getImageData(0,0,A,A).data)}).catch(function(){return!1})},Cr=function(n,e,A,t,r){var a="http://www.w3.org/2000/svg",s=document.createElementNS(a,"svg"),i=document.createElementNS(a,"foreignObject");return s.setAttributeNS(null,"width",n.toString()),s.setAttributeNS(null,"height",e.toString()),i.setAttributeNS(null,"width","100%"),i.setAttributeNS(null,"height","100%"),i.setAttributeNS(null,"x",A.toString()),i.setAttributeNS(null,"y",t.toString()),i.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(i),i.appendChild(r),s},Ka=function(n){return new Promise(function(e,A){var t=new Image;t.onload=function(){return e(t)},t.onerror=A,t.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},sA={get SUPPORT_RANGE_BOUNDS(){var n=Ag(document);return Object.defineProperty(sA,"SUPPORT_RANGE_BOUNDS",{value:n}),n},get SUPPORT_WORD_BREAKING(){var n=sA.SUPPORT_RANGE_BOUNDS&&eg(document);return Object.defineProperty(sA,"SUPPORT_WORD_BREAKING",{value:n}),n},get SUPPORT_SVG_DRAWING(){var n=rg(document);return Object.defineProperty(sA,"SUPPORT_SVG_DRAWING",{value:n}),n},get SUPPORT_FOREIGNOBJECT_DRAWING(){var n=typeof Array.from=="function"&&typeof window.fetch=="function"?ag(document):Promise.resolve(!1);return Object.defineProperty(sA,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:n}),n},get SUPPORT_CORS_IMAGES(){var n=tg();return Object.defineProperty(sA,"SUPPORT_CORS_IMAGES",{value:n}),n},get SUPPORT_RESPONSE_TYPE(){var n=ng();return Object.defineProperty(sA,"SUPPORT_RESPONSE_TYPE",{value:n}),n},get SUPPORT_CORS_XHR(){var n="withCredentials"in new XMLHttpRequest;return Object.defineProperty(sA,"SUPPORT_CORS_XHR",{value:n}),n},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var n=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(sA,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:n}),n}},nt=(function(){function n(e,A){this.text=e,this.bounds=A}return n})(),sg=function(n,e,A,t){var r=cg(e,A),a=[],s=0;return r.forEach(function(i){if(A.textDecorationLine.length||i.trim().length>0)if(sA.SUPPORT_RANGE_BOUNDS){var o=ka(t,s,i.length).getClientRects();if(o.length>1){var c=Dr(i),l=0;c.forEach(function(B){a.push(new nt(B,XA.fromDOMRectList(n,ka(t,l+s,B.length).getClientRects()))),l+=B.length})}else a.push(new nt(i,XA.fromDOMRectList(n,o)))}else{var g=t.splitText(i.length);a.push(new nt(i,ig(n,t))),t=g}else sA.SUPPORT_RANGE_BOUNDS||(t=t.splitText(i.length));s+=i.length}),a},ig=function(n,e){var A=e.ownerDocument;if(A){var t=A.createElement("html2canvaswrapper");t.appendChild(e.cloneNode(!0));var r=e.parentNode;if(r){r.replaceChild(t,e);var a=un(n,t);return t.firstChild&&r.replaceChild(t.firstChild,t),a}}return XA.EMPTY},ka=function(n,e,A){var t=n.ownerDocument;if(!t)throw new Error("Node has no owner document");var r=t.createRange();return r.setStart(n,e),r.setEnd(n,e+A),r},Dr=function(n){if(sA.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(n)).map(function(A){return A.segment})}return ju(n)},og=function(n,e){if(sA.SUPPORT_NATIVE_TEXT_SEGMENTATION){var A=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(A.segment(n)).map(function(t){return t.segment})}return dg(n,e)},cg=function(n,e){return e.letterSpacing!==0?Dr(n):og(n,e)},lg=[32,160,4961,65792,65793,4153,4241],dg=function(n,e){for(var A=_c(n,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),t=[],r,a=function(){if(r.value){var s=r.value.slice(),i=gn(s),o="";i.forEach(function(c){lg.indexOf(c)===-1?o+=Z(c):(o.length&&t.push(o),t.push(Z(c)),o="")}),o.length&&t.push(o)}};!(r=A.next()).done;)a();return t},ug=(function(){function n(e,A,t){this.text=gg(A.data,t.textTransform),this.textBounds=sg(e,this.text,t,A)}return n})(),gg=function(n,e){switch(e){case 1:return n.toLowerCase();case 3:return n.replace(Bg,fg);case 2:return n.toUpperCase();default:return n}},Bg=/(^|\s|:|-|\(|\))([a-z])/g,fg=function(n,e,A){return n.length>0?e+A.toUpperCase():n},Zs=(function(n){TA(e,n);function e(A,t){var r=n.call(this,A,t)||this;return r.src=t.currentSrc||t.src,r.intrinsicWidth=t.naturalWidth,r.intrinsicHeight=t.naturalHeight,r.context.cache.addImage(r.src),r}return e})(PA),js=(function(n){TA(e,n);function e(A,t){var r=n.call(this,A,t)||this;return r.canvas=t,r.intrinsicWidth=t.width,r.intrinsicHeight=t.height,r}return e})(PA),Ai=(function(n){TA(e,n);function e(A,t){var r=n.call(this,A,t)||this,a=new XMLSerializer,s=un(A,t);return t.setAttribute("width",s.width+"px"),t.setAttribute("height",s.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(t)),r.intrinsicWidth=t.width.baseVal.value,r.intrinsicHeight=t.height.baseVal.value,r.context.cache.addImage(r.svg),r}return e})(PA),ei=(function(n){TA(e,n);function e(A,t){var r=n.call(this,A,t)||this;return r.value=t.value,r}return e})(PA),vr=(function(n){TA(e,n);function e(A,t){var r=n.call(this,A,t)||this;return r.start=t.start,r.reversed=typeof t.reversed=="boolean"&&t.reversed===!0,r}return e})(PA),hg=[{type:15,flags:0,unit:"px",number:3}],pg=[{type:16,flags:0,number:50}],mg=function(n){return n.width>n.height?new XA(n.left+(n.width-n.height)/2,n.top,n.height,n.height):n.width<n.height?new XA(n.left,n.top+(n.height-n.width)/2,n.width,n.width):n},wg=function(n){var e=n.type===Cg?new Array(n.value.length+1).join("â€¢"):n.value;return e.length===0?n.placeholder||"":e},en="checkbox",tn="radio",Cg="password",_a=707406591,Lr=(function(n){TA(e,n);function e(A,t){var r=n.call(this,A,t)||this;switch(r.type=t.type.toLowerCase(),r.checked=t.checked,r.value=wg(t),(r.type===en||r.type===tn)&&(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=mg(r.bounds)),r.type){case en:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=hg;break;case tn:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=pg;break}return r}return e})(PA),ti=(function(n){TA(e,n);function e(A,t){var r=n.call(this,A,t)||this,a=t.options[t.selectedIndex||0];return r.value=a&&a.text||"",r}return e})(PA),ni=(function(n){TA(e,n);function e(A,t){var r=n.call(this,A,t)||this;return r.value=t.value,r}return e})(PA),ri=(function(n){TA(e,n);function e(A,t){var r=n.call(this,A,t)||this;r.src=t.src,r.width=parseInt(t.width,10)||0,r.height=parseInt(t.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(t.contentWindow&&t.contentWindow.document&&t.contentWindow.document.documentElement){r.tree=si(A,t.contentWindow.document.documentElement);var a=t.contentWindow.document.documentElement?et(A,getComputedStyle(t.contentWindow.document.documentElement).backgroundColor):JA.TRANSPARENT,s=t.contentWindow.document.body?et(A,getComputedStyle(t.contentWindow.document.body).backgroundColor):JA.TRANSPARENT;r.backgroundColor=ne(a)?ne(s)?r.styles.backgroundColor:s:a}}catch{}return r}return e})(PA),vg=["OL","UL","MENU"],Jt=function(n,e,A,t){for(var r=e.firstChild,a=void 0;r;r=a)if(a=r.nextSibling,ii(r)&&r.data.trim().length>0)A.textNodes.push(new ug(n,r,A.styles));else if(ye(r))if(di(r)&&r.assignedNodes)r.assignedNodes().forEach(function(i){return Jt(n,i,A,t)});else{var s=ai(n,r);s.styles.isVisible()&&(Qg(r,s,t)?s.flags|=4:yg(s.styles)&&(s.flags|=2),vg.indexOf(r.tagName)!==-1&&(s.flags|=8),A.elements.push(s),r.slot,r.shadowRoot?Jt(n,r.shadowRoot,s,t):!nn(r)&&!oi(r)&&!rn(r)&&Jt(n,r,s,t))}},ai=function(n,e){return yr(e)?new Zs(n,e):ci(e)?new js(n,e):oi(e)?new Ai(n,e):Fg(e)?new ei(n,e):Ug(e)?new vr(n,e):bg(e)?new Lr(n,e):rn(e)?new ti(n,e):nn(e)?new ni(n,e):li(e)?new ri(n,e):new PA(n,e)},si=function(n,e){var A=ai(n,e);return A.flags|=4,Jt(n,e,A,A),A},Qg=function(n,e,A){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||Tr(n)&&A.styles.isTransparent()},yg=function(n){return n.isPositioned()||n.isFloating()},ii=function(n){return n.nodeType===Node.TEXT_NODE},ye=function(n){return n.nodeType===Node.ELEMENT_NODE},Qr=function(n){return ye(n)&&typeof n.style<"u"&&!Xt(n)},Xt=function(n){return typeof n.className=="object"},Fg=function(n){return n.tagName==="LI"},Ug=function(n){return n.tagName==="OL"},bg=function(n){return n.tagName==="INPUT"},Eg=function(n){return n.tagName==="HTML"},oi=function(n){return n.tagName==="svg"},Tr=function(n){return n.tagName==="BODY"},ci=function(n){return n.tagName==="CANVAS"},Oa=function(n){return n.tagName==="VIDEO"},yr=function(n){return n.tagName==="IMG"},li=function(n){return n.tagName==="IFRAME"},Ra=function(n){return n.tagName==="STYLE"},Ig=function(n){return n.tagName==="SCRIPT"},nn=function(n){return n.tagName==="TEXTAREA"},rn=function(n){return n.tagName==="SELECT"},di=function(n){return n.tagName==="SLOT"},Na=function(n){return n.tagName.indexOf("-")>0},xg=(function(){function n(){this.counters={}}return n.prototype.getCounterValue=function(e){var A=this.counters[e];return A&&A.length?A[A.length-1]:1},n.prototype.getCounterValues=function(e){var A=this.counters[e];return A||[]},n.prototype.pop=function(e){var A=this;e.forEach(function(t){return A.counters[t].pop()})},n.prototype.parse=function(e){var A=this,t=e.counterIncrement,r=e.counterReset,a=!0;t!==null&&t.forEach(function(i){var o=A.counters[i.counter];o&&i.increment!==0&&(a=!1,o.length||o.push(1),o[Math.max(0,o.length-1)]+=i.increment)});var s=[];return a&&r.forEach(function(i){var o=A.counters[i.counter];s.push(i.counter),o||(o=A.counters[i.counter]=[]),o.push(i.reset)}),s},n})(),Pa={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Ga={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Õ”","Õ“","Õ’","Õ‘","Õ","Õ","Õ","Õ","ÕŒ","Õ‹","ÕŠ","Õ‰","Õˆ","Õ‡","Õ†","Õ…","Õ„","Õƒ","Õ‚","Õ","Õ€","Ô¿","Ô¾","Ô½","Ô¼","Ô»","Ôº","Ô¹","Ô¸","Ô·","Ô¶","Ôµ","Ô´","Ô³","Ô²","Ô±"]},Hg={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["×™×³","×˜×³","×—×³","×–×³","×•×³","×”×³","×“×³","×’×³","×‘×³","××³","×ª","×©","×¨","×§","×¦","×¤","×¢","×¡","× ","×","×œ","×›","×™×˜","×™×—","×™×–","×˜×–","×˜×•","×™","×˜","×—","×–","×•","×”","×“","×’","×‘","×"]},Sg={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["áƒµ","áƒ°","áƒ¯","áƒ´","áƒ®","áƒ­","áƒ¬","áƒ«","áƒª","áƒ©","áƒ¨","áƒ§","áƒ¦","áƒ¥","áƒ¤","áƒ³","áƒ¢","áƒ¡","áƒ ","áƒŸ","áƒ","áƒ","áƒ²","áƒœ","áƒ›","áƒš","áƒ™","áƒ˜","áƒ—","áƒ±","áƒ–","áƒ•","áƒ”","áƒ“","áƒ’","áƒ‘","áƒ"]},pe=function(n,e,A,t,r,a){return n<e||n>A?ot(n,r,a.length>0):t.integers.reduce(function(s,i,o){for(;n>=i;)n-=i,s+=t.values[o];return s},"")+a},ui=function(n,e,A,t){var r="";do A||n--,r=t(n)+r,n/=e;while(n*e>=e);return r},z=function(n,e,A,t,r){var a=A-e+1;return(n<0?"-":"")+(ui(Math.abs(n),a,t,function(s){return Z(Math.floor(s%a)+e)})+r)},se=function(n,e,A){A===void 0&&(A=". ");var t=e.length;return ui(Math.abs(n),t,!1,function(r){return e[Math.floor(r%t)]})+A},Ce=1,WA=2,zA=4,We=8,qA=function(n,e,A,t,r,a){if(n<-9999||n>9999)return ot(n,4,r.length>0);var s=Math.abs(n),i=r;if(s===0)return e[0]+i;for(var o=0;s>0&&o<=4;o++){var c=s%10;c===0&&nA(a,Ce)&&i!==""?i=e[c]+i:c>1||c===1&&o===0||c===1&&o===1&&nA(a,WA)||c===1&&o===1&&nA(a,zA)&&n>100||c===1&&o>1&&nA(a,We)?i=e[c]+(o>0?A[o-1]:"")+i:c===1&&o>0&&(i=A[o-1]+i),s=Math.floor(s/10)}return(n<0?t:"")+i},$a="åç™¾åƒè¬",Va="æ‹¾ä½°ä»Ÿè¬",Ya="ãƒã‚¤ãƒŠã‚¹",zn="ë§ˆì´ë„ˆìŠ¤",ot=function(n,e,A){var t=A?". ":"",r=A?"ã€":"",a=A?", ":"",s=A?" ":"";switch(e){case 0:return"â€¢"+s;case 1:return"â—¦"+s;case 2:return"â—¾"+s;case 5:var i=z(n,48,57,!0,t);return i.length<4?"0"+i:i;case 4:return se(n,"ã€‡ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹",r);case 6:return pe(n,1,3999,Pa,3,t).toLowerCase();case 7:return pe(n,1,3999,Pa,3,t);case 8:return z(n,945,969,!1,t);case 9:return z(n,97,122,!1,t);case 10:return z(n,65,90,!1,t);case 11:return z(n,1632,1641,!0,t);case 12:case 49:return pe(n,1,9999,Ga,3,t);case 35:return pe(n,1,9999,Ga,3,t).toLowerCase();case 13:return z(n,2534,2543,!0,t);case 14:case 30:return z(n,6112,6121,!0,t);case 15:return se(n,"å­ä¸‘å¯…å¯è¾°å·³åˆæœªç”³é…‰æˆŒäº¥",r);case 16:return se(n,"ç”²ä¹™ä¸™ä¸æˆŠå·±åºšè¾›å£¬ç™¸",r);case 17:case 48:return qA(n,"é›¶ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹",$a,"è² ",r,WA|zA|We);case 47:return qA(n,"é›¶å£¹è²³åƒè‚†ä¼é™¸æŸ’æŒç–",Va,"è² ",r,Ce|WA|zA|We);case 42:return qA(n,"é›¶ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹",$a,"è´Ÿ",r,WA|zA|We);case 41:return qA(n,"é›¶å£¹è´°åè‚†ä¼é™†æŸ’æŒç–",Va,"è´Ÿ",r,Ce|WA|zA|We);case 26:return qA(n,"ã€‡ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹","åç™¾åƒä¸‡",Ya,r,0);case 25:return qA(n,"é›¶å£±å¼å‚å››ä¼å…­ä¸ƒå…«ä¹","æ‹¾ç™¾åƒä¸‡",Ya,r,Ce|WA|zA);case 31:return qA(n,"ì˜ì¼ì´ì‚¼ì‚¬ì˜¤ìœ¡ì¹ íŒ”êµ¬","ì‹­ë°±ì²œë§Œ",zn,a,Ce|WA|zA);case 33:return qA(n,"é›¶ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹","åç™¾åƒè¬",zn,a,0);case 32:return qA(n,"é›¶å£¹è²³åƒå››äº”å…­ä¸ƒå…«ä¹","æ‹¾ç™¾åƒ",zn,a,Ce|WA|zA);case 18:return z(n,2406,2415,!0,t);case 20:return pe(n,1,19999,Sg,3,t);case 21:return z(n,2790,2799,!0,t);case 22:return z(n,2662,2671,!0,t);case 22:return pe(n,1,10999,Hg,3,t);case 23:return se(n,"ã‚ã„ã†ãˆãŠã‹ããã‘ã“ã•ã—ã™ã›ããŸã¡ã¤ã¦ã¨ãªã«ã¬ã­ã®ã¯ã²ãµã¸ã»ã¾ã¿ã‚€ã‚ã‚‚ã‚„ã‚†ã‚ˆã‚‰ã‚Šã‚‹ã‚Œã‚ã‚ã‚ã‚‘ã‚’ã‚“");case 24:return se(n,"ã„ã‚ã¯ã«ã»ã¸ã¨ã¡ã‚Šã¬ã‚‹ã‚’ã‚ã‹ã‚ˆãŸã‚Œãã¤ã­ãªã‚‰ã‚€ã†ã‚ã®ãŠãã‚„ã¾ã‘ãµã“ãˆã¦ã‚ã•ãã‚†ã‚ã¿ã—ã‚‘ã²ã‚‚ã›ã™");case 27:return z(n,3302,3311,!0,t);case 28:return se(n,"ã‚¢ã‚¤ã‚¦ã‚¨ã‚ªã‚«ã‚­ã‚¯ã‚±ã‚³ã‚µã‚·ã‚¹ã‚»ã‚½ã‚¿ãƒãƒ„ãƒ†ãƒˆãƒŠãƒ‹ãƒŒãƒãƒãƒãƒ’ãƒ•ãƒ˜ãƒ›ãƒãƒŸãƒ ãƒ¡ãƒ¢ãƒ¤ãƒ¦ãƒ¨ãƒ©ãƒªãƒ«ãƒ¬ãƒ­ãƒ¯ãƒ°ãƒ±ãƒ²ãƒ³",r);case 29:return se(n,"ã‚¤ãƒ­ãƒãƒ‹ãƒ›ãƒ˜ãƒˆãƒãƒªãƒŒãƒ«ãƒ²ãƒ¯ã‚«ãƒ¨ã‚¿ãƒ¬ã‚½ãƒ„ãƒãƒŠãƒ©ãƒ ã‚¦ãƒ°ãƒã‚ªã‚¯ãƒ¤ãƒã‚±ãƒ•ã‚³ã‚¨ãƒ†ã‚¢ã‚µã‚­ãƒ¦ãƒ¡ãƒŸã‚·ãƒ±ãƒ’ãƒ¢ã‚»ã‚¹",r);case 34:return z(n,3792,3801,!0,t);case 37:return z(n,6160,6169,!0,t);case 38:return z(n,4160,4169,!0,t);case 39:return z(n,2918,2927,!0,t);case 40:return z(n,1776,1785,!0,t);case 43:return z(n,3046,3055,!0,t);case 44:return z(n,3174,3183,!0,t);case 45:return z(n,3664,3673,!0,t);case 46:return z(n,3872,3881,!0,t);default:return z(n,48,57,!0,t)}},gi="data-html2canvas-ignore",qa=(function(){function n(e,A,t){if(this.context=e,this.options=t,this.scrolledElements=[],this.referenceElement=A,this.counters=new xg,this.quoteDepth=0,!A.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(A.ownerDocument.documentElement,!1)}return n.prototype.toIFrame=function(e,A){var t=this,r=Dg(e,A);if(!r.contentWindow)return Promise.reject("Unable to find iframe window");var a=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,i=r.contentWindow,o=i.document,c=Mg(r).then(function(){return hA(t,void 0,void 0,function(){var l,g;return dA(this,function(B){switch(B.label){case 0:return this.scrolledElements.forEach(Og),i&&(i.scrollTo(A.left,A.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(i.scrollY!==A.top||i.scrollX!==A.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(i.scrollX-A.left,i.scrollY-A.top,0,0))),l=this.options.onclone,g=this.clonedReferenceElement,typeof g>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:o.fonts&&o.fonts.ready?[4,o.fonts.ready]:[3,2];case 1:B.sent(),B.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Tg(o)]:[3,4];case 3:B.sent(),B.label=4;case 4:return typeof l=="function"?[2,Promise.resolve().then(function(){return l(o,g)}).then(function(){return r})]:[2,r]}})})});return o.open(),o.write(kg(document.doctype)+"<html></html>"),_g(this.referenceElement.ownerDocument,a,s),o.replaceChild(o.adoptNode(this.documentElement),o.documentElement),o.close(),c},n.prototype.createElementClone=function(e){if(wr(e,2))debugger;if(ci(e))return this.createCanvasClone(e);if(Oa(e))return this.createVideoClone(e);if(Ra(e))return this.createStyleClone(e);var A=e.cloneNode(!1);return yr(A)&&(yr(e)&&e.currentSrc&&e.currentSrc!==e.src&&(A.src=e.currentSrc,A.srcset=""),A.loading==="lazy"&&(A.loading="eager")),Na(A)?this.createCustomElementClone(A):A},n.prototype.createCustomElementClone=function(e){var A=document.createElement("html2canvascustomelement");return Zn(e.style,A),A},n.prototype.createStyleClone=function(e){try{var A=e.sheet;if(A&&A.cssRules){var t=[].slice.call(A.cssRules,0).reduce(function(a,s){return s&&typeof s.cssText=="string"?a+s.cssText:a},""),r=e.cloneNode(!1);return r.textContent=t,r}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return e.cloneNode(!1)},n.prototype.createCanvasClone=function(e){var A;if(this.options.inlineImages&&e.ownerDocument){var t=e.ownerDocument.createElement("img");try{return t.src=e.toDataURL(),t}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var a=e.getContext("2d"),s=r.getContext("2d");if(s)if(!this.options.allowTaint&&a)s.putImageData(a.getImageData(0,0,e.width,e.height),0,0);else{var i=(A=e.getContext("webgl2"))!==null&&A!==void 0?A:e.getContext("webgl");if(i){var o=i.getContextAttributes();o?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}s.drawImage(e,0,0)}return r}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},n.prototype.createVideoClone=function(e){var A=e.ownerDocument.createElement("canvas");A.width=e.offsetWidth,A.height=e.offsetHeight;var t=A.getContext("2d");try{return t&&(t.drawImage(e,0,0,A.width,A.height),this.options.allowTaint||t.getImageData(0,0,A.width,A.height)),A}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},n.prototype.appendChildNode=function(e,A,t){(!ye(A)||!Ig(A)&&!A.hasAttribute(gi)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(A)))&&(!this.options.copyStyles||!ye(A)||!Ra(A))&&e.appendChild(this.cloneNode(A,t))},n.prototype.cloneChildNodes=function(e,A,t){for(var r=this,a=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;a;a=a.nextSibling)if(ye(a)&&di(a)&&typeof a.assignedNodes=="function"){var s=a.assignedNodes();s.length&&s.forEach(function(i){return r.appendChildNode(A,i,t)})}else this.appendChildNode(A,a,t)},n.prototype.cloneNode=function(e,A){if(ii(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var t=e.ownerDocument.defaultView;if(t&&ye(e)&&(Qr(e)||Xt(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var a=t.getComputedStyle(e),s=t.getComputedStyle(e,":before"),i=t.getComputedStyle(e,":after");this.referenceElement===e&&Qr(r)&&(this.clonedReferenceElement=r),Tr(r)&&Pg(r);var o=this.counters.parse(new Fa(this.context,a)),c=this.resolvePseudoContent(e,r,s,rt.BEFORE);Na(e)&&(A=!0),Oa(e)||this.cloneChildNodes(e,r,A),c&&r.insertBefore(c,r.firstChild);var l=this.resolvePseudoContent(e,r,i,rt.AFTER);return l&&r.appendChild(l),this.counters.pop(o),(a&&(this.options.copyStyles||Xt(e))&&!li(e)||A)&&Zn(a,r),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(nn(e)||rn(e))&&(nn(r)||rn(r))&&(r.value=e.value),r}return e.cloneNode(!1)},n.prototype.resolvePseudoContent=function(e,A,t,r){var a=this;if(t){var s=t.content,i=A.ownerDocument;if(!(!i||!s||s==="none"||s==="-moz-alt-content"||t.display==="none")){this.counters.parse(new Fa(this.context,t));var o=new Fu(this.context,t),c=i.createElement("html2canvaspseudoelement");Zn(t,c),o.content.forEach(function(g){if(g.type===0)c.appendChild(i.createTextNode(g.value));else if(g.type===22){var B=i.createElement("img");B.src=g.value,B.style.opacity="1",c.appendChild(B)}else if(g.type===18){if(g.name==="attr"){var w=g.values.filter($);w.length&&c.appendChild(i.createTextNode(e.getAttribute(w[0].value)||""))}else if(g.name==="counter"){var m=g.values.filter(He),h=m[0],E=m[1];if(h&&$(h)){var Q=a.counters.getCounterValue(h.value),y=E&&$(E)?mr.parse(a.context,E.value):3;c.appendChild(i.createTextNode(ot(Q,y,!1)))}}else if(g.name==="counters"){var L=g.values.filter(He),h=L[0],S=L[1],E=L[2];if(h&&$(h)){var H=a.counters.getCounterValues(h.value),C=E&&$(E)?mr.parse(a.context,E.value):3,K=S&&S.type===0?S.value:"",k=H.map(function(oA){return ot(oA,C,!1)}).join(K);c.appendChild(i.createTextNode(k))}}}else if(g.type===20)switch(g.value){case"open-quote":c.appendChild(i.createTextNode(ya(o.quotes,a.quoteDepth++,!0)));break;case"close-quote":c.appendChild(i.createTextNode(ya(o.quotes,--a.quoteDepth,!1)));break;default:c.appendChild(i.createTextNode(g.value))}}),c.className=Fr+" "+Ur;var l=r===rt.BEFORE?" "+Fr:" "+Ur;return Xt(A)?A.className.baseValue+=l:A.className+=l,c}}},n.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},n})(),rt;(function(n){n[n.BEFORE=0]="BEFORE",n[n.AFTER=1]="AFTER"})(rt||(rt={}));var Dg=function(n,e){var A=n.createElement("iframe");return A.className="html2canvas-container",A.style.visibility="hidden",A.style.position="fixed",A.style.left="-10000px",A.style.top="0px",A.style.border="0",A.width=e.width.toString(),A.height=e.height.toString(),A.scrolling="no",A.setAttribute(gi,"true"),n.body.appendChild(A),A},Lg=function(n){return new Promise(function(e){if(n.complete){e();return}if(!n.src){e();return}n.onload=e,n.onerror=e})},Tg=function(n){return Promise.all([].slice.call(n.images,0).map(Lg))},Mg=function(n){return new Promise(function(e,A){var t=n.contentWindow;if(!t)return A("No window assigned for iframe");var r=t.document;t.onload=n.onload=function(){t.onload=n.onload=null;var a=setInterval(function(){r.body.childNodes.length>0&&r.readyState==="complete"&&(clearInterval(a),e(n))},50)}})},Kg=["all","d","content"],Zn=function(n,e){for(var A=n.length-1;A>=0;A--){var t=n.item(A);Kg.indexOf(t)===-1&&e.style.setProperty(t,n.getPropertyValue(t))}return e},kg=function(n){var e="";return n&&(e+="<!DOCTYPE ",n.name&&(e+=n.name),n.internalSubset&&(e+=n.internalSubset),n.publicId&&(e+='"'+n.publicId+'"'),n.systemId&&(e+='"'+n.systemId+'"'),e+=">"),e},_g=function(n,e,A){n&&n.defaultView&&(e!==n.defaultView.pageXOffset||A!==n.defaultView.pageYOffset)&&n.defaultView.scrollTo(e,A)},Og=function(n){var e=n[0],A=n[1],t=n[2];e.scrollLeft=A,e.scrollTop=t},Rg=":before",Ng=":after",Fr="___html2canvas___pseudoelement_before",Ur="___html2canvas___pseudoelement_after",Ja=`{
    content: "" !important;
    display: none !important;
}`,Pg=function(n){Gg(n,"."+Fr+Rg+Ja+`
         .`+Ur+Ng+Ja)},Gg=function(n,e){var A=n.ownerDocument;if(A){var t=A.createElement("style");t.textContent=e,n.appendChild(t)}},Bi=(function(){function n(){}return n.getOrigin=function(e){var A=n._link;return A?(A.href=e,A.href=A.href,A.protocol+A.hostname+A.port):"about:blank"},n.isSameOrigin=function(e){return n.getOrigin(e)===n._origin},n.setContext=function(e){n._link=e.document.createElement("a"),n._origin=n.getOrigin(e.location.href)},n._origin="about:blank",n})(),$g=(function(){function n(e,A){this.context=e,this._options=A,this._cache={}}return n.prototype.addImage=function(e){var A=Promise.resolve();return this.has(e)||(Ar(e)||Jg(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),A},n.prototype.match=function(e){return this._cache[e]},n.prototype.loadImage=function(e){return hA(this,void 0,void 0,function(){var A,t,r,a,s=this;return dA(this,function(i){switch(i.label){case 0:return A=Bi.isSameOrigin(e),t=!jn(e)&&this._options.useCORS===!0&&sA.SUPPORT_CORS_IMAGES&&!A,r=!jn(e)&&!A&&!Ar(e)&&typeof this._options.proxy=="string"&&sA.SUPPORT_CORS_XHR&&!t,!A&&this._options.allowTaint===!1&&!jn(e)&&!Ar(e)&&!r&&!t?[2]:(a=e,r?[4,this.proxy(a)]:[3,2]);case 1:a=i.sent(),i.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(o,c){var l=new Image;l.onload=function(){return o(l)},l.onerror=c,(Xg(a)||t)&&(l.crossOrigin="anonymous"),l.src=a,l.complete===!0&&setTimeout(function(){return o(l)},500),s._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+s._options.imageTimeout+"ms) loading image")},s._options.imageTimeout)})];case 3:return[2,i.sent()]}})})},n.prototype.has=function(e){return typeof this._cache[e]<"u"},n.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},n.prototype.proxy=function(e){var A=this,t=this._options.proxy;if(!t)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise(function(a,s){var i=sA.SUPPORT_RESPONSE_TYPE?"blob":"text",o=new XMLHttpRequest;o.onload=function(){if(o.status===200)if(i==="text")a(o.response);else{var g=new FileReader;g.addEventListener("load",function(){return a(g.result)},!1),g.addEventListener("error",function(B){return s(B)},!1),g.readAsDataURL(o.response)}else s("Failed to proxy resource "+r+" with status code "+o.status)},o.onerror=s;var c=t.indexOf("?")>-1?"&":"?";if(o.open("GET",""+t+c+"url="+encodeURIComponent(e)+"&responseType="+i),i!=="text"&&o instanceof XMLHttpRequest&&(o.responseType=i),A._options.imageTimeout){var l=A._options.imageTimeout;o.timeout=l,o.ontimeout=function(){return s("Timed out ("+l+"ms) proxying "+r)}}o.send()})},n})(),Vg=/^data:image\/svg\+xml/i,Yg=/^data:image\/.*;base64,/i,qg=/^data:image\/.*/i,Jg=function(n){return sA.SUPPORT_SVG_DRAWING||!Wg(n)},jn=function(n){return qg.test(n)},Xg=function(n){return Yg.test(n)},Ar=function(n){return n.substr(0,4)==="blob"},Wg=function(n){return n.substr(-3).toLowerCase()==="svg"||Vg.test(n)},F=(function(){function n(e,A){this.type=0,this.x=e,this.y=A}return n.prototype.add=function(e,A){return new n(this.x+e,this.y+A)},n})(),me=function(n,e,A){return new F(n.x+(e.x-n.x)*A,n.y+(e.y-n.y)*A)},Pt=(function(){function n(e,A,t,r){this.type=1,this.start=e,this.startControl=A,this.endControl=t,this.end=r}return n.prototype.subdivide=function(e,A){var t=me(this.start,this.startControl,e),r=me(this.startControl,this.endControl,e),a=me(this.endControl,this.end,e),s=me(t,r,e),i=me(r,a,e),o=me(s,i,e);return A?new n(this.start,t,s,o):new n(o,i,a,this.end)},n.prototype.add=function(e,A){return new n(this.start.add(e,A),this.startControl.add(e,A),this.endControl.add(e,A),this.end.add(e,A))},n.prototype.reverse=function(){return new n(this.end,this.endControl,this.startControl,this.start)},n})(),EA=function(n){return n.type===1},zg=(function(){function n(e){var A=e.styles,t=e.bounds,r=Je(A.borderTopLeftRadius,t.width,t.height),a=r[0],s=r[1],i=Je(A.borderTopRightRadius,t.width,t.height),o=i[0],c=i[1],l=Je(A.borderBottomRightRadius,t.width,t.height),g=l[0],B=l[1],w=Je(A.borderBottomLeftRadius,t.width,t.height),m=w[0],h=w[1],E=[];E.push((a+o)/t.width),E.push((m+g)/t.width),E.push((s+h)/t.height),E.push((c+B)/t.height);var Q=Math.max.apply(Math,E);Q>1&&(a/=Q,s/=Q,o/=Q,c/=Q,g/=Q,B/=Q,m/=Q,h/=Q);var y=t.width-o,L=t.height-B,S=t.width-g,H=t.height-h,C=A.borderTopWidth,K=A.borderRightWidth,k=A.borderBottomWidth,D=A.borderLeftWidth,q=J(A.paddingTop,e.bounds.width),oA=J(A.paddingRight,e.bounds.width),rA=J(A.paddingBottom,e.bounds.width),N=J(A.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||s>0?X(t.left+D/3,t.top+C/3,a-D/3,s-C/3,G.TOP_LEFT):new F(t.left+D/3,t.top+C/3),this.topRightBorderDoubleOuterBox=a>0||s>0?X(t.left+y,t.top+C/3,o-K/3,c-C/3,G.TOP_RIGHT):new F(t.left+t.width-K/3,t.top+C/3),this.bottomRightBorderDoubleOuterBox=g>0||B>0?X(t.left+S,t.top+L,g-K/3,B-k/3,G.BOTTOM_RIGHT):new F(t.left+t.width-K/3,t.top+t.height-k/3),this.bottomLeftBorderDoubleOuterBox=m>0||h>0?X(t.left+D/3,t.top+H,m-D/3,h-k/3,G.BOTTOM_LEFT):new F(t.left+D/3,t.top+t.height-k/3),this.topLeftBorderDoubleInnerBox=a>0||s>0?X(t.left+D*2/3,t.top+C*2/3,a-D*2/3,s-C*2/3,G.TOP_LEFT):new F(t.left+D*2/3,t.top+C*2/3),this.topRightBorderDoubleInnerBox=a>0||s>0?X(t.left+y,t.top+C*2/3,o-K*2/3,c-C*2/3,G.TOP_RIGHT):new F(t.left+t.width-K*2/3,t.top+C*2/3),this.bottomRightBorderDoubleInnerBox=g>0||B>0?X(t.left+S,t.top+L,g-K*2/3,B-k*2/3,G.BOTTOM_RIGHT):new F(t.left+t.width-K*2/3,t.top+t.height-k*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||h>0?X(t.left+D*2/3,t.top+H,m-D*2/3,h-k*2/3,G.BOTTOM_LEFT):new F(t.left+D*2/3,t.top+t.height-k*2/3),this.topLeftBorderStroke=a>0||s>0?X(t.left+D/2,t.top+C/2,a-D/2,s-C/2,G.TOP_LEFT):new F(t.left+D/2,t.top+C/2),this.topRightBorderStroke=a>0||s>0?X(t.left+y,t.top+C/2,o-K/2,c-C/2,G.TOP_RIGHT):new F(t.left+t.width-K/2,t.top+C/2),this.bottomRightBorderStroke=g>0||B>0?X(t.left+S,t.top+L,g-K/2,B-k/2,G.BOTTOM_RIGHT):new F(t.left+t.width-K/2,t.top+t.height-k/2),this.bottomLeftBorderStroke=m>0||h>0?X(t.left+D/2,t.top+H,m-D/2,h-k/2,G.BOTTOM_LEFT):new F(t.left+D/2,t.top+t.height-k/2),this.topLeftBorderBox=a>0||s>0?X(t.left,t.top,a,s,G.TOP_LEFT):new F(t.left,t.top),this.topRightBorderBox=o>0||c>0?X(t.left+y,t.top,o,c,G.TOP_RIGHT):new F(t.left+t.width,t.top),this.bottomRightBorderBox=g>0||B>0?X(t.left+S,t.top+L,g,B,G.BOTTOM_RIGHT):new F(t.left+t.width,t.top+t.height),this.bottomLeftBorderBox=m>0||h>0?X(t.left,t.top+H,m,h,G.BOTTOM_LEFT):new F(t.left,t.top+t.height),this.topLeftPaddingBox=a>0||s>0?X(t.left+D,t.top+C,Math.max(0,a-D),Math.max(0,s-C),G.TOP_LEFT):new F(t.left+D,t.top+C),this.topRightPaddingBox=o>0||c>0?X(t.left+Math.min(y,t.width-K),t.top+C,y>t.width+K?0:Math.max(0,o-K),Math.max(0,c-C),G.TOP_RIGHT):new F(t.left+t.width-K,t.top+C),this.bottomRightPaddingBox=g>0||B>0?X(t.left+Math.min(S,t.width-D),t.top+Math.min(L,t.height-k),Math.max(0,g-K),Math.max(0,B-k),G.BOTTOM_RIGHT):new F(t.left+t.width-K,t.top+t.height-k),this.bottomLeftPaddingBox=m>0||h>0?X(t.left+D,t.top+Math.min(H,t.height-k),Math.max(0,m-D),Math.max(0,h-k),G.BOTTOM_LEFT):new F(t.left+D,t.top+t.height-k),this.topLeftContentBox=a>0||s>0?X(t.left+D+N,t.top+C+q,Math.max(0,a-(D+N)),Math.max(0,s-(C+q)),G.TOP_LEFT):new F(t.left+D+N,t.top+C+q),this.topRightContentBox=o>0||c>0?X(t.left+Math.min(y,t.width+D+N),t.top+C+q,y>t.width+D+N?0:o-D+N,c-(C+q),G.TOP_RIGHT):new F(t.left+t.width-(K+oA),t.top+C+q),this.bottomRightContentBox=g>0||B>0?X(t.left+Math.min(S,t.width-(D+N)),t.top+Math.min(L,t.height+C+q),Math.max(0,g-(K+oA)),B-(k+rA),G.BOTTOM_RIGHT):new F(t.left+t.width-(K+oA),t.top+t.height-(k+rA)),this.bottomLeftContentBox=m>0||h>0?X(t.left+D+N,t.top+H,Math.max(0,m-(D+N)),h-(k+rA),G.BOTTOM_LEFT):new F(t.left+D+N,t.top+t.height-(k+rA))}return n})(),G;(function(n){n[n.TOP_LEFT=0]="TOP_LEFT",n[n.TOP_RIGHT=1]="TOP_RIGHT",n[n.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",n[n.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(G||(G={}));var X=function(n,e,A,t,r){var a=4*((Math.sqrt(2)-1)/3),s=A*a,i=t*a,o=n+A,c=e+t;switch(r){case G.TOP_LEFT:return new Pt(new F(n,c),new F(n,c-i),new F(o-s,e),new F(o,e));case G.TOP_RIGHT:return new Pt(new F(n,e),new F(n+s,e),new F(o,c-i),new F(o,c));case G.BOTTOM_RIGHT:return new Pt(new F(o,e),new F(o,e+i),new F(n+s,c),new F(n,c));case G.BOTTOM_LEFT:default:return new Pt(new F(o,c),new F(o-s,c),new F(n,e+i),new F(n,e))}},an=function(n){return[n.topLeftBorderBox,n.topRightBorderBox,n.bottomRightBorderBox,n.bottomLeftBorderBox]},Zg=function(n){return[n.topLeftContentBox,n.topRightContentBox,n.bottomRightContentBox,n.bottomLeftContentBox]},sn=function(n){return[n.topLeftPaddingBox,n.topRightPaddingBox,n.bottomRightPaddingBox,n.bottomLeftPaddingBox]},jg=(function(){function n(e,A,t){this.offsetX=e,this.offsetY=A,this.matrix=t,this.type=0,this.target=6}return n})(),Gt=(function(){function n(e,A){this.path=e,this.target=A,this.type=1}return n})(),AB=(function(){function n(e){this.opacity=e,this.type=2,this.target=6}return n})(),eB=function(n){return n.type===0},fi=function(n){return n.type===1},tB=function(n){return n.type===2},Xa=function(n,e){return n.length===e.length?n.some(function(A,t){return A===e[t]}):!1},nB=function(n,e,A,t,r){return n.map(function(a,s){switch(s){case 0:return a.add(e,A);case 1:return a.add(e+t,A);case 2:return a.add(e+t,A+r);case 3:return a.add(e,A+r)}return a})},hi=(function(){function n(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return n})(),pi=(function(){function n(e,A){if(this.container=e,this.parent=A,this.effects=[],this.curves=new zg(this.container),this.container.styles.opacity<1&&this.effects.push(new AB(this.container.styles.opacity)),this.container.styles.transform!==null){var t=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new jg(t,r,a))}if(this.container.styles.overflowX!==0){var s=an(this.curves),i=sn(this.curves);Xa(s,i)?this.effects.push(new Gt(s,6)):(this.effects.push(new Gt(s,2)),this.effects.push(new Gt(i,4)))}}return n.prototype.getEffects=function(e){for(var A=[2,3].indexOf(this.container.styles.position)===-1,t=this.parent,r=this.effects.slice(0);t;){var a=t.effects.filter(function(o){return!fi(o)});if(A||t.container.styles.position!==0||!t.parent){if(r.unshift.apply(r,a),A=[2,3].indexOf(t.container.styles.position)===-1,t.container.styles.overflowX!==0){var s=an(t.curves),i=sn(t.curves);Xa(s,i)||r.unshift(new Gt(i,6))}}else r.unshift.apply(r,a);t=t.parent}return r.filter(function(o){return nA(o.target,e)})},n})(),br=function(n,e,A,t){n.container.elements.forEach(function(r){var a=nA(r.flags,4),s=nA(r.flags,2),i=new pi(r,n);nA(r.styles.display,2048)&&t.push(i);var o=nA(r.flags,8)?[]:t;if(a||s){var c=a||r.styles.isPositioned()?A:e,l=new hi(i);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var g=r.styles.zIndex.order;if(g<0){var B=0;c.negativeZIndex.some(function(m,h){return g>m.element.container.styles.zIndex.order?(B=h,!1):B>0}),c.negativeZIndex.splice(B,0,l)}else if(g>0){var w=0;c.positiveZIndex.some(function(m,h){return g>=m.element.container.styles.zIndex.order?(w=h+1,!1):w>0}),c.positiveZIndex.splice(w,0,l)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(l)}else r.styles.isFloating()?c.nonPositionedFloats.push(l):c.nonPositionedInlineLevel.push(l);br(i,l,a?l:A,o)}else r.styles.isInlineLevel()?e.inlineLevel.push(i):e.nonInlineLevel.push(i),br(i,e,A,o);nA(r.flags,8)&&mi(r,o)})},mi=function(n,e){for(var A=n instanceof vr?n.start:1,t=n instanceof vr?n.reversed:!1,r=0;r<e.length;r++){var a=e[r];a.container instanceof ei&&typeof a.container.value=="number"&&a.container.value!==0&&(A=a.container.value),a.listValue=ot(A,a.container.styles.listStyleType,!0),A+=t?-1:1}},rB=function(n){var e=new pi(n,null),A=new hi(e),t=[];return br(e,A,A,t),mi(e.container,t),A},Wa=function(n,e){switch(e){case 0:return xA(n.topLeftBorderBox,n.topLeftPaddingBox,n.topRightBorderBox,n.topRightPaddingBox);case 1:return xA(n.topRightBorderBox,n.topRightPaddingBox,n.bottomRightBorderBox,n.bottomRightPaddingBox);case 2:return xA(n.bottomRightBorderBox,n.bottomRightPaddingBox,n.bottomLeftBorderBox,n.bottomLeftPaddingBox);default:return xA(n.bottomLeftBorderBox,n.bottomLeftPaddingBox,n.topLeftBorderBox,n.topLeftPaddingBox)}},aB=function(n,e){switch(e){case 0:return xA(n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox,n.topRightBorderBox,n.topRightBorderDoubleOuterBox);case 1:return xA(n.topRightBorderBox,n.topRightBorderDoubleOuterBox,n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox);case 2:return xA(n.bottomRightBorderBox,n.bottomRightBorderDoubleOuterBox,n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox);default:return xA(n.bottomLeftBorderBox,n.bottomLeftBorderDoubleOuterBox,n.topLeftBorderBox,n.topLeftBorderDoubleOuterBox)}},sB=function(n,e){switch(e){case 0:return xA(n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox,n.topRightBorderDoubleInnerBox,n.topRightPaddingBox);case 1:return xA(n.topRightBorderDoubleInnerBox,n.topRightPaddingBox,n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox);case 2:return xA(n.bottomRightBorderDoubleInnerBox,n.bottomRightPaddingBox,n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox);default:return xA(n.bottomLeftBorderDoubleInnerBox,n.bottomLeftPaddingBox,n.topLeftBorderDoubleInnerBox,n.topLeftPaddingBox)}},iB=function(n,e){switch(e){case 0:return $t(n.topLeftBorderStroke,n.topRightBorderStroke);case 1:return $t(n.topRightBorderStroke,n.bottomRightBorderStroke);case 2:return $t(n.bottomRightBorderStroke,n.bottomLeftBorderStroke);default:return $t(n.bottomLeftBorderStroke,n.topLeftBorderStroke)}},$t=function(n,e){var A=[];return EA(n)?A.push(n.subdivide(.5,!1)):A.push(n),EA(e)?A.push(e.subdivide(.5,!0)):A.push(e),A},xA=function(n,e,A,t){var r=[];return EA(n)?r.push(n.subdivide(.5,!1)):r.push(n),EA(A)?r.push(A.subdivide(.5,!0)):r.push(A),EA(t)?r.push(t.subdivide(.5,!0).reverse()):r.push(t),EA(e)?r.push(e.subdivide(.5,!1).reverse()):r.push(e),r},wi=function(n){var e=n.bounds,A=n.styles;return e.add(A.borderLeftWidth,A.borderTopWidth,-(A.borderRightWidth+A.borderLeftWidth),-(A.borderTopWidth+A.borderBottomWidth))},on=function(n){var e=n.styles,A=n.bounds,t=J(e.paddingLeft,A.width),r=J(e.paddingRight,A.width),a=J(e.paddingTop,A.width),s=J(e.paddingBottom,A.width);return A.add(t+e.borderLeftWidth,a+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+t+r),-(e.borderTopWidth+e.borderBottomWidth+a+s))},oB=function(n,e){return n===0?e.bounds:n===2?on(e):wi(e)},cB=function(n,e){return n===0?e.bounds:n===2?on(e):wi(e)},er=function(n,e,A){var t=oB(ve(n.styles.backgroundOrigin,e),n),r=cB(ve(n.styles.backgroundClip,e),n),a=lB(ve(n.styles.backgroundSize,e),A,t),s=a[0],i=a[1],o=Je(ve(n.styles.backgroundPosition,e),t.width-s,t.height-i),c=dB(ve(n.styles.backgroundRepeat,e),o,a,t,r),l=Math.round(t.left+o[0]),g=Math.round(t.top+o[1]);return[c,l,g,s,i]},we=function(n){return $(n)&&n.value===Ee.AUTO},Vt=function(n){return typeof n=="number"},lB=function(n,e,A){var t=e[0],r=e[1],a=e[2],s=n[0],i=n[1];if(!s)return[0,0];if(eA(s)&&i&&eA(i))return[J(s,A.width),J(i,A.height)];var o=Vt(a);if($(s)&&(s.value===Ee.CONTAIN||s.value===Ee.COVER)){if(Vt(a)){var c=A.width/A.height;return c<a!=(s.value===Ee.COVER)?[A.width,A.width/a]:[A.height*a,A.height]}return[A.width,A.height]}var l=Vt(t),g=Vt(r),B=l||g;if(we(s)&&(!i||we(i))){if(l&&g)return[t,r];if(!o&&!B)return[A.width,A.height];if(B&&o){var w=l?t:r*a,m=g?r:t/a;return[w,m]}var h=l?t:A.width,E=g?r:A.height;return[h,E]}if(o){var Q=0,y=0;return eA(s)?Q=J(s,A.width):eA(i)&&(y=J(i,A.height)),we(s)?Q=y*a:(!i||we(i))&&(y=Q/a),[Q,y]}var L=null,S=null;if(eA(s)?L=J(s,A.width):i&&eA(i)&&(S=J(i,A.height)),L!==null&&(!i||we(i))&&(S=l&&g?L/t*r:A.height),S!==null&&we(s)&&(L=l&&g?S/r*t:A.width),L!==null&&S!==null)return[L,S];throw new Error("Unable to calculate background-size for element")},ve=function(n,e){var A=n[e];return typeof A>"u"?n[0]:A},dB=function(n,e,A,t,r){var a=e[0],s=e[1],i=A[0],o=A[1];switch(n){case 2:return[new F(Math.round(t.left),Math.round(t.top+s)),new F(Math.round(t.left+t.width),Math.round(t.top+s)),new F(Math.round(t.left+t.width),Math.round(o+t.top+s)),new F(Math.round(t.left),Math.round(o+t.top+s))];case 3:return[new F(Math.round(t.left+a),Math.round(t.top)),new F(Math.round(t.left+a+i),Math.round(t.top)),new F(Math.round(t.left+a+i),Math.round(t.height+t.top)),new F(Math.round(t.left+a),Math.round(t.height+t.top))];case 1:return[new F(Math.round(t.left+a),Math.round(t.top+s)),new F(Math.round(t.left+a+i),Math.round(t.top+s)),new F(Math.round(t.left+a+i),Math.round(t.top+s+o)),new F(Math.round(t.left+a),Math.round(t.top+s+o))];default:return[new F(Math.round(r.left),Math.round(r.top)),new F(Math.round(r.left+r.width),Math.round(r.top)),new F(Math.round(r.left+r.width),Math.round(r.height+r.top)),new F(Math.round(r.left),Math.round(r.height+r.top))]}},uB="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",za="Hidden Text",gB=(function(){function n(e){this._data={},this._document=e}return n.prototype.parseMetrics=function(e,A){var t=this._document.createElement("div"),r=this._document.createElement("img"),a=this._document.createElement("span"),s=this._document.body;t.style.visibility="hidden",t.style.fontFamily=e,t.style.fontSize=A,t.style.margin="0",t.style.padding="0",t.style.whiteSpace="nowrap",s.appendChild(t),r.src=uB,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",a.style.fontFamily=e,a.style.fontSize=A,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(za)),t.appendChild(a),t.appendChild(r);var i=r.offsetTop-a.offsetTop+2;t.removeChild(a),t.appendChild(this._document.createTextNode(za)),t.style.lineHeight="normal",r.style.verticalAlign="super";var o=r.offsetTop-t.offsetTop+2;return s.removeChild(t),{baseline:i,middle:o}},n.prototype.getMetrics=function(e,A){var t=e+" "+A;return typeof this._data[t]>"u"&&(this._data[t]=this.parseMetrics(e,A)),this._data[t]},n})(),Ci=(function(){function n(e,A){this.context=e,this.options=A}return n})(),BB=1e4,fB=(function(n){TA(e,n);function e(A,t){var r=n.call(this,A,t)||this;return r._activeEffects=[],r.canvas=t.canvas?t.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),t.canvas||(r.canvas.width=Math.floor(t.width*t.scale),r.canvas.height=Math.floor(t.height*t.scale),r.canvas.style.width=t.width+"px",r.canvas.style.height=t.height+"px"),r.fontMetrics=new gB(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-t.x,-t.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+t.width+"x"+t.height+") with scale "+t.scale),r}return e.prototype.applyEffects=function(A){for(var t=this;this._activeEffects.length;)this.popEffect();A.forEach(function(r){return t.applyEffect(r)})},e.prototype.applyEffect=function(A){this.ctx.save(),tB(A)&&(this.ctx.globalAlpha=A.opacity),eB(A)&&(this.ctx.translate(A.offsetX,A.offsetY),this.ctx.transform(A.matrix[0],A.matrix[1],A.matrix[2],A.matrix[3],A.matrix[4],A.matrix[5]),this.ctx.translate(-A.offsetX,-A.offsetY)),fi(A)&&(this.path(A.path),this.ctx.clip()),this._activeEffects.push(A)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(A){return hA(this,void 0,void 0,function(){var t;return dA(this,function(r){switch(r.label){case 0:return t=A.element.container.styles,t.isVisible()?[4,this.renderStackContent(A)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(A){return hA(this,void 0,void 0,function(){return dA(this,function(t){switch(t.label){case 0:if(nA(A.container.flags,16))debugger;return A.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(A)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(A)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(A,t,r){var a=this;if(t===0)this.ctx.fillText(A.text,A.bounds.left,A.bounds.top+r);else{var s=Dr(A.text);s.reduce(function(i,o){return a.ctx.fillText(o,i,A.bounds.top+r),i+a.ctx.measureText(o).width},A.bounds.left)}},e.prototype.createFontStyle=function(A){var t=A.fontVariant.filter(function(s){return s==="normal"||s==="small-caps"}).join(""),r=CB(A.fontFamily).join(", "),a=ft(A.fontSize)?""+A.fontSize.number+A.fontSize.unit:A.fontSize.number+"px";return[[A.fontStyle,t,A.fontWeight,a,r].join(" "),r,a]},e.prototype.renderTextNode=function(A,t){return hA(this,void 0,void 0,function(){var r,a,s,i,o,c,l,g,B=this;return dA(this,function(w){return r=this.createFontStyle(t),a=r[0],s=r[1],i=r[2],this.ctx.font=a,this.ctx.direction=t.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",o=this.fontMetrics.getMetrics(s,i),c=o.baseline,l=o.middle,g=t.paintOrder,A.textBounds.forEach(function(m){g.forEach(function(h){switch(h){case 0:B.ctx.fillStyle=aA(t.color),B.renderTextWithLetterSpacing(m,t.letterSpacing,c);var E=t.textShadow;E.length&&m.text.trim().length&&(E.slice(0).reverse().forEach(function(Q){B.ctx.shadowColor=aA(Q.color),B.ctx.shadowOffsetX=Q.offsetX.number*B.options.scale,B.ctx.shadowOffsetY=Q.offsetY.number*B.options.scale,B.ctx.shadowBlur=Q.blur.number,B.renderTextWithLetterSpacing(m,t.letterSpacing,c)}),B.ctx.shadowColor="",B.ctx.shadowOffsetX=0,B.ctx.shadowOffsetY=0,B.ctx.shadowBlur=0),t.textDecorationLine.length&&(B.ctx.fillStyle=aA(t.textDecorationColor||t.color),t.textDecorationLine.forEach(function(Q){switch(Q){case 1:B.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+c),m.bounds.width,1);break;case 2:B.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:B.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+l),m.bounds.width,1);break}}));break;case 1:t.webkitTextStrokeWidth&&m.text.trim().length&&(B.ctx.strokeStyle=aA(t.webkitTextStrokeColor),B.ctx.lineWidth=t.webkitTextStrokeWidth,B.ctx.lineJoin=window.chrome?"miter":"round",B.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+c)),B.ctx.strokeStyle="",B.ctx.lineWidth=0,B.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(A,t,r){if(r&&A.intrinsicWidth>0&&A.intrinsicHeight>0){var a=on(A),s=sn(t);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(r,0,0,A.intrinsicWidth,A.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(A){return hA(this,void 0,void 0,function(){var t,r,a,s,i,o,y,y,c,l,g,B,S,w,m,H,h,E,Q,y,L,S,H;return dA(this,function(C){switch(C.label){case 0:this.applyEffects(A.getEffects(4)),t=A.container,r=A.curves,a=t.styles,s=0,i=t.textNodes,C.label=1;case 1:return s<i.length?(o=i[s],[4,this.renderTextNode(o,a)]):[3,4];case 2:C.sent(),C.label=3;case 3:return s++,[3,1];case 4:if(!(t instanceof Zs))return[3,8];C.label=5;case 5:return C.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return y=C.sent(),this.renderReplacedElement(t,r,y),[3,8];case 7:return C.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof js&&this.renderReplacedElement(t,r,t.canvas),!(t instanceof Ai))return[3,12];C.label=9;case 9:return C.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return y=C.sent(),this.renderReplacedElement(t,r,y),[3,12];case 11:return C.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof ri&&t.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}),[4,c.render(t.tree)]):[3,14];case 13:l=C.sent(),t.width&&t.height&&this.ctx.drawImage(l,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),C.label=14;case 14:if(t instanceof Lr&&(g=Math.min(t.bounds.width,t.bounds.height),t.type===en?t.checked&&(this.ctx.save(),this.path([new F(t.bounds.left+g*.39363,t.bounds.top+g*.79),new F(t.bounds.left+g*.16,t.bounds.top+g*.5549),new F(t.bounds.left+g*.27347,t.bounds.top+g*.44071),new F(t.bounds.left+g*.39694,t.bounds.top+g*.5649),new F(t.bounds.left+g*.72983,t.bounds.top+g*.23),new F(t.bounds.left+g*.84,t.bounds.top+g*.34085),new F(t.bounds.left+g*.39363,t.bounds.top+g*.79)]),this.ctx.fillStyle=aA(_a),this.ctx.fill(),this.ctx.restore()):t.type===tn&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+g/2,t.bounds.top+g/2,g/4,0,Math.PI*2,!0),this.ctx.fillStyle=aA(_a),this.ctx.fill(),this.ctx.restore())),hB(t)&&t.value.length){switch(B=this.createFontStyle(a),S=B[0],w=B[1],m=this.fontMetrics.getMetrics(S,w).baseline,this.ctx.font=S,this.ctx.fillStyle=aA(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=mB(t.styles.textAlign),H=on(t),h=0,t.styles.textAlign){case 1:h+=H.width/2;break;case 2:h+=H.width;break}E=H.add(h,0,0,-H.height/2+1),this.ctx.save(),this.path([new F(H.left,H.top),new F(H.left+H.width,H.top),new F(H.left+H.width,H.top+H.height),new F(H.left,H.top+H.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new nt(t.value,E),a.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!nA(t.styles.display,2048))return[3,20];if(t.styles.listStyleImage===null)return[3,19];if(Q=t.styles.listStyleImage,Q.type!==0)return[3,18];y=void 0,L=Q.url,C.label=15;case 15:return C.trys.push([15,17,,18]),[4,this.context.cache.match(L)];case 16:return y=C.sent(),this.ctx.drawImage(y,t.bounds.left-(y.width+10),t.bounds.top),[3,18];case 17:return C.sent(),this.context.logger.error("Error loading list-style-image "+L),[3,18];case 18:return[3,20];case 19:A.listValue&&t.styles.listStyleType!==-1&&(S=this.createFontStyle(a)[0],this.ctx.font=S,this.ctx.fillStyle=aA(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",H=new XA(t.bounds.left,t.bounds.top+J(t.styles.paddingTop,t.bounds.width),t.bounds.width,va(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new nt(A.listValue,H),a.letterSpacing,va(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),C.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(A){return hA(this,void 0,void 0,function(){var t,r,Q,a,s,Q,i,o,Q,c,l,Q,g,B,Q,w,m,Q,h,E,Q;return dA(this,function(y){switch(y.label){case 0:if(nA(A.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(A.element)];case 1:y.sent(),t=0,r=A.negativeZIndex,y.label=2;case 2:return t<r.length?(Q=r[t],[4,this.renderStack(Q)]):[3,5];case 3:y.sent(),y.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(A.element)];case 6:y.sent(),a=0,s=A.nonInlineLevel,y.label=7;case 7:return a<s.length?(Q=s[a],[4,this.renderNode(Q)]):[3,10];case 8:y.sent(),y.label=9;case 9:return a++,[3,7];case 10:i=0,o=A.nonPositionedFloats,y.label=11;case 11:return i<o.length?(Q=o[i],[4,this.renderStack(Q)]):[3,14];case 12:y.sent(),y.label=13;case 13:return i++,[3,11];case 14:c=0,l=A.nonPositionedInlineLevel,y.label=15;case 15:return c<l.length?(Q=l[c],[4,this.renderStack(Q)]):[3,18];case 16:y.sent(),y.label=17;case 17:return c++,[3,15];case 18:g=0,B=A.inlineLevel,y.label=19;case 19:return g<B.length?(Q=B[g],[4,this.renderNode(Q)]):[3,22];case 20:y.sent(),y.label=21;case 21:return g++,[3,19];case 22:w=0,m=A.zeroOrAutoZIndexOrTransformedOrOpacity,y.label=23;case 23:return w<m.length?(Q=m[w],[4,this.renderStack(Q)]):[3,26];case 24:y.sent(),y.label=25;case 25:return w++,[3,23];case 26:h=0,E=A.positiveZIndex,y.label=27;case 27:return h<E.length?(Q=E[h],[4,this.renderStack(Q)]):[3,30];case 28:y.sent(),y.label=29;case 29:return h++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(A){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(A.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(A){this.ctx.beginPath(),this.formatPath(A),this.ctx.closePath()},e.prototype.formatPath=function(A){var t=this;A.forEach(function(r,a){var s=EA(r)?r.start:r;a===0?t.ctx.moveTo(s.x,s.y):t.ctx.lineTo(s.x,s.y),EA(r)&&t.ctx.bezierCurveTo(r.startControl.x,r.startControl.y,r.endControl.x,r.endControl.y,r.end.x,r.end.y)})},e.prototype.renderRepeat=function(A,t,r,a){this.path(A),this.ctx.fillStyle=t,this.ctx.translate(r,a),this.ctx.fill(),this.ctx.translate(-r,-a)},e.prototype.resizeImage=function(A,t,r){var a;if(A.width===t&&A.height===r)return A;var s=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,i=s.createElement("canvas");i.width=Math.max(1,t),i.height=Math.max(1,r);var o=i.getContext("2d");return o.drawImage(A,0,0,A.width,A.height,0,0,t,r),i},e.prototype.renderBackgroundImage=function(A){return hA(this,void 0,void 0,function(){var t,r,a,s,i,o;return dA(this,function(c){switch(c.label){case 0:t=A.styles.backgroundImage.length-1,r=function(l){var g,B,w,q,cA,lA,N,tA,k,m,q,cA,lA,N,tA,h,E,Q,y,L,S,H,C,K,k,D,q,oA,rA,N,tA,HA,cA,lA,MA,wA,KA,SA,GA,DA,$A,BA;return dA(this,function(kA){switch(kA.label){case 0:if(l.type!==0)return[3,5];g=void 0,B=l.url,kA.label=1;case 1:return kA.trys.push([1,3,,4]),[4,a.context.cache.match(B)];case 2:return g=kA.sent(),[3,4];case 3:return kA.sent(),a.context.logger.error("Error loading background-image "+B),[3,4];case 4:return g&&(w=er(A,t,[g.width,g.height,g.width/g.height]),q=w[0],cA=w[1],lA=w[2],N=w[3],tA=w[4],k=a.ctx.createPattern(a.resizeImage(g,N,tA),"repeat"),a.renderRepeat(q,k,cA,lA)),[3,6];case 5:ed(l)?(m=er(A,t,[null,null,null]),q=m[0],cA=m[1],lA=m[2],N=m[3],tA=m[4],h=Wl(l.angle,N,tA),E=h[0],Q=h[1],y=h[2],L=h[3],S=h[4],H=document.createElement("canvas"),H.width=N,H.height=tA,C=H.getContext("2d"),K=C.createLinearGradient(Q,L,y,S),wa(l.stops,E).forEach(function(_A){return K.addColorStop(_A.stop,aA(_A.color))}),C.fillStyle=K,C.fillRect(0,0,N,tA),N>0&&tA>0&&(k=a.ctx.createPattern(H,"repeat"),a.renderRepeat(q,k,cA,lA))):td(l)&&(D=er(A,t,[null,null,null]),q=D[0],oA=D[1],rA=D[2],N=D[3],tA=D[4],HA=l.position.length===0?[xr]:l.position,cA=J(HA[0],N),lA=J(HA[HA.length-1],tA),MA=zl(l,cA,lA,N,tA),wA=MA[0],KA=MA[1],wA>0&&KA>0&&(SA=a.ctx.createRadialGradient(oA+cA,rA+lA,0,oA+cA,rA+lA,wA),wa(l.stops,wA*2).forEach(function(_A){return SA.addColorStop(_A.stop,aA(_A.color))}),a.path(q),a.ctx.fillStyle=SA,wA!==KA?(GA=A.bounds.left+.5*A.bounds.width,DA=A.bounds.top+.5*A.bounds.height,$A=KA/wA,BA=1/$A,a.ctx.save(),a.ctx.translate(GA,DA),a.ctx.transform(1,0,0,$A,0,0),a.ctx.translate(-GA,-DA),a.ctx.fillRect(oA,BA*(rA-DA)+DA,N,tA*BA),a.ctx.restore()):a.ctx.fill())),kA.label=6;case 6:return t--,[2]}})},a=this,s=0,i=A.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return s<i.length?(o=i[s],[5,r(o)]):[3,4];case 2:c.sent(),c.label=3;case 3:return s++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(A,t,r){return hA(this,void 0,void 0,function(){return dA(this,function(a){return this.path(Wa(r,t)),this.ctx.fillStyle=aA(A),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(A,t,r,a){return hA(this,void 0,void 0,function(){var s,i;return dA(this,function(o){switch(o.label){case 0:return t<3?[4,this.renderSolidBorder(A,r,a)]:[3,2];case 1:return o.sent(),[2];case 2:return s=aB(a,r),this.path(s),this.ctx.fillStyle=aA(A),this.ctx.fill(),i=sB(a,r),this.path(i),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(A){return hA(this,void 0,void 0,function(){var t,r,a,s,i,o,c,l,g=this;return dA(this,function(B){switch(B.label){case 0:return this.applyEffects(A.getEffects(2)),t=A.container.styles,r=!ne(t.backgroundColor)||t.backgroundImage.length,a=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],s=pB(ve(t.backgroundClip,0),A.curves),r||t.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),ne(t.backgroundColor)||(this.ctx.fillStyle=aA(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(A.container)]):[3,2];case 1:B.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach(function(w){g.ctx.save();var m=an(A.curves),h=w.inset?0:BB,E=nB(m,-h+(w.inset?1:-1)*w.spread.number,(w.inset?1:-1)*w.spread.number,w.spread.number*(w.inset?-2:2),w.spread.number*(w.inset?-2:2));w.inset?(g.path(m),g.ctx.clip(),g.mask(E)):(g.mask(m),g.ctx.clip(),g.path(E)),g.ctx.shadowOffsetX=w.offsetX.number+h,g.ctx.shadowOffsetY=w.offsetY.number,g.ctx.shadowColor=aA(w.color),g.ctx.shadowBlur=w.blur.number,g.ctx.fillStyle=w.inset?aA(w.color):"rgba(0,0,0,1)",g.ctx.fill(),g.ctx.restore()}),B.label=2;case 2:i=0,o=0,c=a,B.label=3;case 3:return o<c.length?(l=c[o],l.style!==0&&!ne(l.color)&&l.width>0?l.style!==2?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,i,A.curves,2)]:[3,11]):[3,13];case 4:return B.sent(),[3,11];case 5:return l.style!==3?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,i,A.curves,3)];case 6:return B.sent(),[3,11];case 7:return l.style!==4?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,i,A.curves)];case 8:return B.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,i,A.curves)];case 10:B.sent(),B.label=11;case 11:i++,B.label=12;case 12:return o++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(A,t,r,a,s){return hA(this,void 0,void 0,function(){var i,o,c,l,g,B,w,m,h,E,Q,y,L,S,H,C,H,C;return dA(this,function(K){return this.ctx.save(),i=iB(a,r),o=Wa(a,r),s===2&&(this.path(o),this.ctx.clip()),EA(o[0])?(c=o[0].start.x,l=o[0].start.y):(c=o[0].x,l=o[0].y),EA(o[1])?(g=o[1].end.x,B=o[1].end.y):(g=o[1].x,B=o[1].y),r===0||r===2?w=Math.abs(c-g):w=Math.abs(l-B),this.ctx.beginPath(),s===3?this.formatPath(i):this.formatPath(o.slice(0,2)),m=t<3?t*3:t*2,h=t<3?t*2:t,s===3&&(m=t,h=t),E=!0,w<=m*2?E=!1:w<=m*2+h?(Q=w/(2*m+h),m*=Q,h*=Q):(y=Math.floor((w+h)/(m+h)),L=(w-y*m)/(y-1),S=(w-(y+1)*m)/y,h=S<=0||Math.abs(h-L)<Math.abs(h-S)?L:S),E&&(s===3?this.ctx.setLineDash([0,m+h]):this.ctx.setLineDash([m,h])),s===3?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=t*2+1.1,this.ctx.strokeStyle=aA(A),this.ctx.stroke(),this.ctx.setLineDash([]),s===2&&(EA(o[0])&&(H=o[3],C=o[0],this.ctx.beginPath(),this.formatPath([new F(H.end.x,H.end.y),new F(C.start.x,C.start.y)]),this.ctx.stroke()),EA(o[1])&&(H=o[1],C=o[2],this.ctx.beginPath(),this.formatPath([new F(H.end.x,H.end.y),new F(C.start.x,C.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(A){return hA(this,void 0,void 0,function(){var t;return dA(this,function(r){switch(r.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=aA(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=rB(A),[4,this.renderStack(t)];case 1:return r.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(Ci),hB=function(n){return n instanceof ni||n instanceof ti?!0:n instanceof Lr&&n.type!==tn&&n.type!==en},pB=function(n,e){switch(n){case 0:return an(e);case 2:return Zg(e);default:return sn(e)}},mB=function(n){switch(n){case 1:return"center";case 2:return"right";default:return"left"}},wB=["-apple-system","system-ui"],CB=function(n){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?n.filter(function(e){return wB.indexOf(e)===-1}):n},vB=(function(n){TA(e,n);function e(A,t){var r=n.call(this,A,t)||this;return r.canvas=t.canvas?t.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=t,r.canvas.width=Math.floor(t.width*t.scale),r.canvas.height=Math.floor(t.height*t.scale),r.canvas.style.width=t.width+"px",r.canvas.style.height=t.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-t.x,-t.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+t.width+"x"+t.height+" at "+t.x+","+t.y+") with scale "+t.scale),r}return e.prototype.render=function(A){return hA(this,void 0,void 0,function(){var t,r;return dA(this,function(a){switch(a.label){case 0:return t=Cr(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,A),[4,QB(t)];case 1:return r=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=aA(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(r,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(Ci),QB=function(n){return new Promise(function(e,A){var t=new Image;t.onload=function(){e(t)},t.onerror=A,t.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(n))})},yB=(function(){function n(e){var A=e.id,t=e.enabled;this.id=A,this.enabled=t,this.start=Date.now()}return n.prototype.debug=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,yt([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.getTime=function(){return Date.now()-this.start},n.prototype.info=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,yt([this.id,this.getTime()+"ms"],e))},n.prototype.warn=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,yt([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.prototype.error=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,yt([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},n.instances={},n})(),FB=(function(){function n(e,A){var t;this.windowBounds=A,this.instanceName="#"+n.instanceCount++,this.logger=new yB({id:this.instanceName,enabled:e.logging}),this.cache=(t=e.cache)!==null&&t!==void 0?t:new $g(this,e)}return n.instanceCount=1,n})(),UB=function(n,e){return e===void 0&&(e={}),bB(n,e)};typeof window<"u"&&Bi.setContext(window);var bB=function(n,e){return hA(void 0,void 0,void 0,function(){var A,t,r,a,s,i,o,c,l,g,B,w,m,h,E,Q,y,L,S,H,K,C,K,k,D,q,oA,rA,N,tA,HA,cA,lA,MA,wA,KA,SA,GA,DA,$A;return dA(this,function(BA){switch(BA.label){case 0:if(!n||typeof n!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(A=n.ownerDocument,!A)throw new Error("Element is not attached to a Document");if(t=A.defaultView,!t)throw new Error("Document is not attached to a Window");return r={allowTaint:(k=e.allowTaint)!==null&&k!==void 0?k:!1,imageTimeout:(D=e.imageTimeout)!==null&&D!==void 0?D:15e3,proxy:e.proxy,useCORS:(q=e.useCORS)!==null&&q!==void 0?q:!1},a=ar({logging:(oA=e.logging)!==null&&oA!==void 0?oA:!0,cache:e.cache},r),s={windowWidth:(rA=e.windowWidth)!==null&&rA!==void 0?rA:t.innerWidth,windowHeight:(N=e.windowHeight)!==null&&N!==void 0?N:t.innerHeight,scrollX:(tA=e.scrollX)!==null&&tA!==void 0?tA:t.pageXOffset,scrollY:(HA=e.scrollY)!==null&&HA!==void 0?HA:t.pageYOffset},i=new XA(s.scrollX,s.scrollY,s.windowWidth,s.windowHeight),o=new FB(a,i),c=(cA=e.foreignObjectRendering)!==null&&cA!==void 0?cA:!1,l={allowTaint:(lA=e.allowTaint)!==null&&lA!==void 0?lA:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},o.logger.debug("Starting document clone with size "+i.width+"x"+i.height+" scrolled to "+-i.left+","+-i.top),g=new qa(o,n,l),B=g.clonedReferenceElement,B?[4,g.toIFrame(A,i)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return w=BA.sent(),m=Tr(B)||Eg(B)?nc(B.ownerDocument):un(o,B),h=m.width,E=m.height,Q=m.left,y=m.top,L=EB(o,B,e.backgroundColor),S={canvas:e.canvas,backgroundColor:L,scale:(wA=(MA=e.scale)!==null&&MA!==void 0?MA:t.devicePixelRatio)!==null&&wA!==void 0?wA:1,x:((KA=e.x)!==null&&KA!==void 0?KA:0)+Q,y:((SA=e.y)!==null&&SA!==void 0?SA:0)+y,width:(GA=e.width)!==null&&GA!==void 0?GA:Math.ceil(h),height:(DA=e.height)!==null&&DA!==void 0?DA:Math.ceil(E)},c?(o.logger.debug("Document cloned, using foreign object rendering"),K=new vB(o,S),[4,K.render(B)]):[3,3];case 2:return H=BA.sent(),[3,5];case 3:return o.logger.debug("Document cloned, element located at "+Q+","+y+" with size "+h+"x"+E+" using computed rendering"),o.logger.debug("Starting DOM parsing"),C=si(o,B),L===C.styles.backgroundColor&&(C.styles.backgroundColor=JA.TRANSPARENT),o.logger.debug("Starting renderer for element at "+S.x+","+S.y+" with size "+S.width+"x"+S.height),K=new fB(o,S),[4,K.render(C)];case 4:H=BA.sent(),BA.label=5;case 5:return(!(($A=e.removeContainer)!==null&&$A!==void 0)||$A)&&(qa.destroy(w)||o.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),o.logger.debug("Finished rendering"),[2,H]}})})},EB=function(n,e,A){var t=e.ownerDocument,r=t.documentElement?et(n,getComputedStyle(t.documentElement).backgroundColor):JA.TRANSPARENT,a=t.body?et(n,getComputedStyle(t.body).backgroundColor):JA.TRANSPARENT,s=typeof A=="string"?et(n,A):A===null?JA.TRANSPARENT:4294967295;return e===t.documentElement?ne(r)?ne(a)?s:a:r:s};class IB{constructor(e){if(this.matchType=FA(e.type),this.resultData=window.appState.tarotInterpretResult||null,!this.matchType||!this.resultData){window.router.navigate("/");return}}render(){if(!this.resultData)return"";const{question:e,simpleVersion:A,lunarDate:t}=this.resultData;return`
      <div class="page tarot-result-page">
        ${j({title:"è§£è¯»ç»“æœ",showBack:!0,showHistory:!1,showProfile:!1})}
        
        <main class="page-content">
          <div class="app-container">
            
            <!-- å¯æˆªå›¾åŒºåŸŸ -->
            <div id="resultCaptureArea">
              <!-- é—®é¢˜å¡ç‰‡ -->
              <section class="result-question-card animate-fade-in-up">
                <div class="result-question-label">åŒ¹é…äº‹é¡¹</div>
                <div class="result-question-title">${e}</div>
                ${t?`<div class="result-question-date">${t}</div>`:""}
              </section>

              <!-- è§£è¯»å†…å®¹å¡ç‰‡ -->
              <section class="result-interpretation-card animate-fade-in-up animate-delay-50">
                <div class="result-interpretation-header">
                  <span class="result-interpretation-icon">ğŸ’¡</span>
                  <span class="result-interpretation-title">è§£è¯»</span>
                </div>
                
                <div class="result-interpretation-content" id="resultContent">
                  ${this.formatContent(A)}
                </div>
              </section>

              <div class="result-disclaimer">
                ä»…ä¾›å¨±ä¹å‚è€ƒï¼Œä¸ä½œä¸ºä»»ä½•å†³ç­–ä¾æ®
              </div>
            </div>

            <!-- æŒ‰é’®æ ï¼ˆå†…åµŒåœ¨å†…å®¹åŒºï¼‰ -->
            <div class="result-bottom-bar">
              <button class="result-bottom-btn result-bottom-btn--restart" id="btnRestart">
                <span class="result-bottom-btn-icon">ğŸ”„</span>
                <span>é‡æ–°å¼€å§‹</span>
              </button>
              <button class="result-bottom-btn result-bottom-btn--save" id="btnSave">
                <span class="result-bottom-btn-icon">ğŸ’¾</span>
                <span>ä¿å­˜</span>
              </button>
            </div>

            <div class="safe-area-bottom"></div>
          </div>
        </main>
      </div>
    `}formatContent(e){return e?e.split(`
`).filter(A=>A.trim()).map(A=>`<p>${A.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>")}</p>`).join(""):"<p>æš‚æ— è§£è¯»å†…å®¹</p>"}attachEvents(){const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{window.router.navigate("/")});const A=document.getElementById("btnRestart");A&&A.addEventListener("click",()=>{delete window.appState.tarotInterpretResult,delete window.appState.divinationResult,window.appState.set&&window.appState.set("selectedCards",null),window.appState.set&&window.appState.set("yaos",null),window.appState.set&&window.appState.set("guaData",null),window.router.navigate("/")});const t=document.getElementById("btnSave");t&&t.addEventListener("click",()=>{this.handleSaveImage()})}async handleSaveImage(){const e=document.getElementById("resultCaptureArea");if(!e){window.showToast("ä¿å­˜å¤±è´¥","error");return}const A=document.getElementById("btnSave");A&&(A.disabled=!0,A.querySelector("span:last-child").textContent="ä¿å­˜ä¸­...");try{e.classList.add("capture-mode"),await new Promise(a=>setTimeout(a,50));const t=await UB(e,{backgroundColor:null,scale:2,useCORS:!0,logging:!1,windowWidth:e.scrollWidth,windowHeight:e.scrollHeight});e.classList.remove("capture-mode");const r=document.createElement("a");r.download=`å¡”ç½—è§£è¯»_${new Date().toLocaleDateString("zh-CN").replace(/\//g,"-")}.png`,r.href=t.toDataURL("image/png"),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.showToast("å›¾ç‰‡å·²ä¿å­˜","success")}catch(t){console.error("ä¿å­˜å›¾ç‰‡å¤±è´¥:",t),window.showToast("ä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•","error"),e.classList.remove("capture-mode")}finally{A&&(A.disabled=!1,A.querySelector("span:last-child").textContent="ä¿å­˜")}}}const xB="modulepreload",HB=function(n){return"/"+n},Za={},SB=function(e,A,t){let r=Promise.resolve();if(A&&A.length>0){let c=function(l){return Promise.all(l.map(g=>Promise.resolve(g).then(B=>({status:"fulfilled",value:B}),B=>({status:"rejected",reason:B}))))};var s=c;document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=i?.nonce||i?.getAttribute("nonce");r=c(A.map(l=>{if(l=HB(l),l in Za)return;Za[l]=!0;const g=l.endsWith(".css"),B=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${B}`))return;const w=document.createElement("link");if(w.rel=g?"stylesheet":xB,g||(w.as="script"),w.crossOrigin="",w.href=l,o&&w.setAttribute("nonce",o),document.head.appendChild(w),g)return new Promise((m,h)=>{w.addEventListener("load",m),w.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return r.then(i=>{for(const o of i||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},Se=[{index:0,name:"ç”²",element:"æœ¨",nature:"é˜³",color:"#4CAF50"},{index:1,name:"ä¹™",element:"æœ¨",nature:"é˜´",color:"#8BC34A"},{index:2,name:"ä¸™",element:"ç«",nature:"é˜³",color:"#F44336"},{index:3,name:"ä¸",element:"ç«",nature:"é˜´",color:"#E91E63"},{index:4,name:"æˆŠ",element:"åœŸ",nature:"é˜³",color:"#795548"},{index:5,name:"å·±",element:"åœŸ",nature:"é˜´",color:"#A1887F"},{index:6,name:"åºš",element:"é‡‘",nature:"é˜³",color:"#FFD700"},{index:7,name:"è¾›",element:"é‡‘",nature:"é˜´",color:"#FFC107"},{index:8,name:"å£¬",element:"æ°´",nature:"é˜³",color:"#2196F3"},{index:9,name:"ç™¸",element:"æ°´",nature:"é˜´",color:"#03A9F4"}],De=[{index:0,name:"å­",element:"æ°´",nature:"é˜³",animal:"é¼ "},{index:1,name:"ä¸‘",element:"åœŸ",nature:"é˜´",animal:"ç‰›"},{index:2,name:"å¯…",element:"æœ¨",nature:"é˜³",animal:"è™"},{index:3,name:"å¯",element:"æœ¨",nature:"é˜´",animal:"å…”"},{index:4,name:"è¾°",element:"åœŸ",nature:"é˜³",animal:"é¾™"},{index:5,name:"å·³",element:"ç«",nature:"é˜´",animal:"è›‡"},{index:6,name:"åˆ",element:"ç«",nature:"é˜³",animal:"é©¬"},{index:7,name:"æœª",element:"åœŸ",nature:"é˜´",animal:"ç¾Š"},{index:8,name:"ç”³",element:"é‡‘",nature:"é˜³",animal:"çŒ´"},{index:9,name:"é…‰",element:"é‡‘",nature:"é˜´",animal:"é¸¡"},{index:10,name:"æˆŒ",element:"åœŸ",nature:"é˜³",animal:"ç‹—"},{index:11,name:"äº¥",element:"æ°´",nature:"é˜´",animal:"çŒª"}],ze={æœ¨:{generates:"ç«",overcomes:"åœŸ",generatedBy:"æ°´",overcomedBy:"é‡‘",color:"#4CAF50",emoji:"ğŸŒ³"},ç«:{generates:"åœŸ",overcomes:"é‡‘",generatedBy:"æœ¨",overcomedBy:"æ°´",color:"#F44336",emoji:"ğŸ”¥"},åœŸ:{generates:"é‡‘",overcomes:"æ°´",generatedBy:"ç«",overcomedBy:"æœ¨",color:"#795548",emoji:"ğŸ”ï¸"},é‡‘:{generates:"æ°´",overcomes:"æœ¨",generatedBy:"åœŸ",overcomedBy:"ç«",color:"#FFD700",emoji:"ğŸ”¶"},æ°´:{generates:"æœ¨",overcomes:"ç«",generatedBy:"é‡‘",overcomedBy:"åœŸ",color:"#2196F3",emoji:"ğŸ’§"}},Er=[{name:"ç«‹æ˜¥",month:1,day:4},{name:"æƒŠè›°",month:2,day:6},{name:"æ¸…æ˜",month:3,day:5},{name:"ç«‹å¤",month:4,day:6},{name:"èŠ’ç§",month:5,day:6},{name:"å°æš‘",month:6,day:7},{name:"ç«‹ç§‹",month:7,day:8},{name:"ç™½éœ²",month:8,day:8},{name:"å¯’éœ²",month:9,day:9},{name:"ç«‹å†¬",month:10,day:8},{name:"å¤§é›ª",month:11,day:7},{name:"å°å¯’",month:12,day:6}];function DB(n,e,A){const t=Er[0];(e<t.month+1||e===t.month+1&&A<t.day)&&(n-=1);const r=(n-4)%10,a=(n-4)%12;return{tiangan:Se[r],dizhi:De[a],ganzhi:Se[r].name+De[a].name}}function LB(n,e,A){let t=e-1;for(let c=Er.length-1;c>=0;c--){const l=Er[c];if(e>l.month+1||e===l.month+1&&A>=l.day){t=c;break}}t===11&&e===1&&(n-=1);const r=(n-4)%10,i=([2,4,6,8,0][r%5]+t)%10,o=(t+2)%12;return{tiangan:Se[i],dizhi:De[o],ganzhi:Se[i].name+De[o].name}}function TB(n,e,A){const t=new Date(1900,0,31),a=new Date(n,e-1,A).getTime()-t.getTime(),s=Math.floor(a/(1e3*60*60*24)),i=(s%10+10)%10,o=(s%12+12)%12;return{tiangan:Se[i],dizhi:De[o],ganzhi:Se[i].name+De[o].name}}function ja(n){const e=new Date(n),A=e.getFullYear(),t=e.getMonth()+1,r=e.getDate(),a=DB(A,t,r),s=LB(A,t,r),i=TB(A,t,r);return{year:a,month:s,day:i,fullName:`${a.ganzhi} ${s.ganzhi} ${i.ganzhi}`,elements:MB(a,s,i)}}function MB(n,e,A){const t={é‡‘:0,æœ¨:0,æ°´:0,ç«:0,åœŸ:0};[n,e,A].forEach(s=>{t[s.tiangan.element]+=1,t[s.dizhi.element]+=1});let r={element:"",count:0},a={element:"",count:1/0};return Object.entries(t).forEach(([s,i])=>{i>r.count&&(r={element:s,count:i}),i<a.count&&(a={element:s,count:i})}),{distribution:t,strongest:r,weakest:a,yongshen:a.element}}function KB(n,e){const A={score:0,details:[],conclusion:""};kB(n.day.tiangan.name,e.day.tiangan.name).isHe&&(A.score+=10,A.details.push({type:"positive",title:"æ—¥å¹²ç›¸åˆ",description:`${n.day.tiangan.name}${e.day.tiangan.name}ç›¸åˆï¼Œæ€§æ ¼ç‰¹è´¨é«˜åº¦å¥‘åˆ`})),_B(n.year.dizhi.name,e.year.dizhi.name).isLiuhe&&(A.score+=8,A.details.push({type:"positive",title:"å¹´æ”¯å…­åˆ",description:`${n.year.dizhi.name}${e.year.dizhi.name}å…­åˆï¼Œå®¶åº­èƒŒæ™¯èæ´½`}));const a=OB(n.elements,e.elements);A.score+=a.score,A.details.push(...a.details);const s=RB(n,e);return A.score-=s.penalty,A.details.push(...s.details),A.score=Math.max(0,Math.min(100,A.score+50)),A.conclusion=NB(A.score,A.details),A}function kB(n,e){const A={ç”²å·±:"åœŸ",å·±ç”²:"åœŸ",ä¹™åºš:"é‡‘",åºšä¹™:"é‡‘",ä¸™è¾›:"æ°´",è¾›ä¸™:"æ°´",ä¸å£¬:"æœ¨",å£¬ä¸:"æœ¨",æˆŠç™¸:"ç«",ç™¸æˆŠ:"ç«"},t=n+e;return{isHe:t in A,element:A[t]||null}}function _B(n,e){const A={å­ä¸‘:"åœŸ",ä¸‘å­:"åœŸ",å¯…äº¥:"æœ¨",äº¥å¯…:"æœ¨",å¯æˆŒ:"ç«",æˆŒå¯:"ç«",è¾°é…‰:"é‡‘",é…‰è¾°:"é‡‘",å·³ç”³:"æ°´",ç”³å·³:"æ°´",åˆæœª:"åœŸ",æœªåˆ:"åœŸ"},t=n+e;return{isLiuhe:t in A,element:A[t]||null}}function OB(n,e){const A={score:0,details:[]},t=n.weakest.element,r=e.weakest.element,a=n.strongest.element,s=e.strongest.element;return t===s&&(A.score+=8,A.details.push({type:"positive",title:"äº”è¡Œäº’è¡¥",description:`å¯¹æ–¹${ze[s].emoji}${s}å¯ä»¥å¼¥è¡¥ä½ ${ze[t].emoji}${t}çš„ä¸è¶³`})),r===a&&(A.score+=8,A.details.push({type:"positive",title:"äº”è¡Œäº’è¡¥",description:`ä½ çš„${ze[a].emoji}${a}å¯ä»¥å¼¥è¡¥å¯¹æ–¹${ze[r].emoji}${r}çš„ä¸è¶³`})),A}function RB(n,e){const A={penalty:0,details:[]},t=["å­åˆ","ä¸‘æœª","å¯…ç”³","å¯é…‰","è¾°æˆŒ","å·³äº¥"];return[{pillarsA:n.year,pillarsB:e.year,name:"å¹´æŸ±"},{pillarsA:n.day,pillarsB:e.day,name:"æ—¥æŸ±"}].forEach(({pillarsA:a,pillarsB:s,name:i})=>{const o=a.dizhi.name+s.dizhi.name,c=s.dizhi.name+a.dizhi.name;(t.includes(o)||t.includes(c))&&(A.penalty+=5,A.details.push({type:"negative",title:`${i}ç›¸å†²`,description:`${a.dizhi.name}${s.dizhi.name}ç›¸å†²ï¼Œå¯èƒ½ä¼šæœ‰æ„è§åˆ†æ­§`}))}),A}function NB(n,e){const A=e.filter(r=>r.type==="positive").length,t=e.filter(r=>r.type==="negative").length;return n>=80?"Aå’ŒBäº’åˆ©ï¼šåŒæ–¹æ€§æ ¼ç‰¹è´¨é«˜åº¦å¥‘åˆï¼Œéå¸¸é€‚åˆå»ºç«‹è‰¯å¥½å…³ç³»ã€‚":n>=60?A>t?"Aåˆ©Bï¼ŒBä¸åˆ©Aï¼šä½ åœ¨è¿™æ®µå…³ç³»ä¸­ä»˜å‡ºè¾ƒå¤šï¼Œä½†æ•´ä½“æ˜¯ç§¯æçš„ã€‚":"Aä¸åˆ©Bï¼ŒBåˆ©Aï¼šå¯¹æ–¹åœ¨è¿™æ®µå…³ç³»ä¸­è·ç›Šæ›´å¤šã€‚":n>=40?"Aå’ŒBç›¸äº’ä¸åˆ©ï¼šåŒæ–¹æ€§æ ¼æœ‰ä¸€å®šå·®å¼‚ï¼Œéœ€è¦æ›´å¤šåŒ…å®¹å’Œç†è§£ã€‚":"Aå’ŒBç›¸äº’ä¸åˆ©ï¼šåˆ†ææ˜¾ç¤ºåŒæ–¹å·®å¼‚è¾ƒå¤§ï¼Œå»ºè®®è°¨æ…è€ƒè™‘ã€‚"}function PB(n,e,A=50){return new Promise(t=>{let r=0;n.textContent="";const a=setInterval(()=>{r<e.length?(n.textContent+=e.charAt(r),r++):(clearInterval(a),t())},A)})}class GB{constructor(e){if(this.method=e.id,this.testData=window.appState.get("currentTest"),!this.testData){window.router.navigate("/");return}this.matchType=FA(this.testData.type),this.result=null,this.isAnalyzing=!0,this.streamContent="",this.useAiAnalysis=!0,this.isStreamComplete=!1,this.isInitialized=!1,this.abortController=null}render(){return`
      <div class="page result-page">
        ${j({title:"åˆ†æç»“æœ",showBack:!0,showHistory:!1,showProfile:!1})}
        
        <main class="page-content">
          <div class="app-container">
            
            <!-- åŒ¹é…ç±»å‹æ ‡é¢˜ -->
            <section class="result-header mt-4 mb-6 animate-fade-in-up">
              <div class="glass-card text-center">
                <span class="result-header__icon">${this.matchType?.icon||"âœ¨"}</span>
                <h2 class="heading-2 mb-1">${this.matchType?.title||"åŒ¹é…åˆ†æ"}</h2>
                <p class="small-text" style="color: var(--color-text-tertiary);">
                  ${this.method==="birthday"?"ç”Ÿæ—¥åŒ¹é…åˆ†æ":"ç›´è§‰å¡”ç½—åˆ†æ"}
                </p>
              </div>
            </section>

            <!-- åˆ†æä¸­çŠ¶æ€ -->
            <section class="analysis-section" id="analysis-container">
              ${this.isAnalyzing?this.renderAnalyzing():this.renderResult()}
            </section>

          </div>
        </main>

        <!-- åº•éƒ¨æ“ä½œæ  -->
        ${this.renderBottomBar()}
      </div>
    `}renderAnalyzing(){return`
      <div class="analyzing-state animate-fade-in-up">
        <!-- AIå¤´åƒæ¶ˆæ¯ -->
        <div class="message message--ai">
          <div class="message__avatar">âœ¨</div>
          <div class="message__bubble">
            <div class="loading-dots">
              <span class="loading-dots__dot"></span>
              <span class="loading-dots__dot"></span>
              <span class="loading-dots__dot"></span>
            </div>
          </div>
        </div>
        
        <div class="analyzing-tips text-center mt-6">
          <p class="body-text-secondary" id="analyzing-text">æ­£åœ¨åˆ†æä¸­...</p>
          <div class="analyzing-steps mt-4">
            <div class="step-item active" data-step="1">
              <span class="step-icon">ğŸ“Š</span>
              <span>æ”¶é›†ä¿¡æ¯</span>
            </div>
            <div class="step-item" data-step="2">
              <span class="step-icon">ğŸ§®</span>
              <span>ç‰¹è´¨è®¡ç®—</span>
            </div>
            <div class="step-item" data-step="3">
              <span class="step-icon">ğŸ¤–</span>
              <span>åˆ†æä¸­</span>
            </div>
            <div class="step-item" data-step="4">
              <span class="step-icon">ğŸ“</span>
              <span>ç”ŸæˆæŠ¥å‘Š</span>
            </div>
          </div>
        </div>
      </div>
    `}renderResult(){if(!this.result&&!this.streamContent)return"";if(this.useAiAnalysis&&this.method==="birthday")return this.renderAiResult();const{score:e,conclusion:A,details:t,personA:r,personB:a}=this.result;return this.getConclusionType(e),`
      <div class="result-content animate-fade-in-up">
        <!-- åŒ¹é…åˆ†æ•° -->
        <div class="glass-card score-card mb-4">
          <div class="score-circle-container">
            <svg class="score-circle" viewBox="0 0 100 100">
              <defs>
                <linearGradient id="scoreGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                  <stop offset="0%" style="stop-color:#8B7FD8"/>
                  <stop offset="100%" style="stop-color:#FFB5D8"/>
                </linearGradient>
              </defs>
              <circle 
                class="score-circle__track" 
                cx="50" cy="50" r="45"
                fill="none" stroke-width="8"
              />
              <circle 
                class="score-circle__fill progress-ring__circle" 
                cx="50" cy="50" r="45"
                fill="none" stroke-width="8"
                stroke="url(#scoreGradient)"
                stroke-dasharray="${e*2.83} 283"
                transform="rotate(-90 50 50)"
              />
            </svg>
            <!-- åˆ†æ•°æ˜¾ç¤ºåœ¨åœ†åœˆä¸­é—´ -->
            <div class="score-value">
              <span class="score-number-gradient">${e}</span>
              <span class="score-unit-gradient">%</span>
            </div>
          </div>
          <p class="score-label">åŒ¹é…åº¦</p>
        </div>

        <!-- ç»“è®ºå¡ç‰‡ -->
        <div class="glass-card conclusion-card-simple mb-4">
          <p class="body-text">${A}</p>
        </div>

        <!-- è¯¦ç»†åˆ†æ -->
        <div class="glass-card details-card mb-4">
          <h4 class="heading-3 mb-4">ğŸ“‹ è¯¦ç»†åˆ†æ</h4>
          
          ${this.method==="birthday"?this.renderBaziDetails():this.renderHexagramDetails()}
          
          <div class="analysis-points mt-4">
            ${t.map(s=>`
              <div class="analysis-point ${s.type}">
                <span class="point-icon">${s.type==="positive"?"âœ…":"âš ï¸"}</span>
                <div class="point-content">
                  <p class="point-title">${s.title}</p>
                  <p class="point-description">${s.description}</p>
                </div>
              </div>
            `).join("")}
          </div>
        </div>

        <!-- æ¸©é¦¨æç¤º -->
        <div class="glass-card suggestion-card mb-4">
          <h4 class="heading-3 mb-3">ğŸ’¡ æ¸©é¦¨æç¤º</h4>
          <div class="suggestion-content" id="suggestion-text">
            ${this.result.suggestion||""}
          </div>
        </div>

        <!-- åˆ†äº«æç¤º -->
        <div class="glass-card glass-card--light share-prompt mb-4">
          <p class="small-text text-center">
            ğŸ“± åˆ†äº«ç»™å¥½å‹ï¼Œé‚€è¯·TAä¸€èµ·æµ‹è¯•
          </p>
        </div>
      </div>
    `}renderBaziDetails(){const{personA:e,personB:A,pillarsA:t,pillarsB:r}=this.result;return!t||!r?"":`
      <div class="bazi-comparison">
        <!-- äººç‰©A -->
        <div class="person-bazi">
          <div class="person-header">
            <span class="person-avatar">${e.gender==="male"?"ğŸ‘¨":"ğŸ‘©"}</span>
            <span class="person-name">${e.name||"ä½ "}</span>
          </div>
          <div class="pillars-display">
            ${this.renderPillars(t)}
          </div>
          <div class="elements-display">
            ${this.renderElements(t.elements)}
          </div>
        </div>
        
        <div class="vs-divider">
          <span>VS</span>
        </div>
        
        <!-- äººç‰©B -->
        <div class="person-bazi">
          <div class="person-header">
            <span class="person-avatar">${A.gender==="male"?"ğŸ‘¨":"ğŸ‘©"}</span>
            <span class="person-name">${A.name||"å¯¹æ–¹"}</span>
          </div>
          <div class="pillars-display">
            ${this.renderPillars(r)}
          </div>
          <div class="elements-display">
            ${this.renderElements(r.elements)}
          </div>
        </div>
      </div>
    `}renderPillars(e){return`
      <div class="pillars-row">
        <div class="pillar">
          <span class="pillar-label">å¹´æŸ±</span>
          <span class="pillar-ganzhi">${e.year.ganzhi}</span>
        </div>
        <div class="pillar">
          <span class="pillar-label">æœˆæŸ±</span>
          <span class="pillar-ganzhi">${e.month.ganzhi}</span>
        </div>
        <div class="pillar">
          <span class="pillar-label">æ—¥æŸ±</span>
          <span class="pillar-ganzhi">${e.day.ganzhi}</span>
        </div>
      </div>
    `}renderElements(e){return`
      <div class="elements-bar">
        ${Object.entries(e.distribution).map(([A,t])=>`
          <div class="element-item">
            <span class="element-emoji">${ze[A].emoji}</span>
            <span class="element-name">${A}</span>
            <span class="element-count">${t}</span>
          </div>
        `).join("")}
      </div>
    `}renderHexagramDetails(){if(this.testData.allCards&&this.testData.reading)return this.renderTarotDetails();const{hexagram:e}=this.testData;return e?`
      <div class="hexagram-display">
        <div class="hexagram-main">
          <div class="hexagram-symbol text-center">
            <span class="hexagram-icon">${e.upper?.symbol||"â˜°"}${e.lower?.symbol||"â˜·"}</span>
            <h4 class="hexagram-name">${e.name}ç¬¦å·</h4>
            <p class="hexagram-meaning">${e.meaning}</p>
          </div>
        </div>
      </div>
    `:""}renderTarotDetails(){const{allCards:e,reading:A}=this.testData;return`
      <div class="tarot-display">
        <!-- èƒ½é‡ç±»å‹ -->
        <div class="energy-type text-center mb-4">
          <span class="energy-symbol">${A.energy.symbol}</span>
          <h4 class="energy-name">${A.energy.name}</h4>
          <p class="energy-desc small-text">${A.energy.description}</p>
        </div>
        
        <!-- æŠ½å–çš„ç‰Œ -->
        <div class="tarot-cards-detail mt-4">
          <p class="small-text mb-3" style="color: var(--color-primary);">æŠ½å–çš„å¡ç‰Œï¼š</p>
          <div class="tarot-cards-grid">
            ${e.map((t,r)=>`
              <div class="tarot-card-item">
                <div class="card-header">
                  <span class="card-num">${r+1}</span>
                  <span class="card-symbol">${t.symbol}</span>
                </div>
                <div class="card-body">
                  <p class="card-name">${t.name}</p>
                  <p class="card-position ${t.isUpright?"upright":"reversed"}">${t.position}</p>
                </div>
                <p class="card-meaning small-text">${t.meaning}</p>
              </div>
            `).join("")}
          </div>
        </div>
      </div>
    `}getConclusionType(e){return e>=80?{class:"conclusion--excellent",icon:"ğŸŒŸ",title:"Aå’ŒBäº’åˆ©"}:e>=60?{class:"conclusion--good",icon:"ğŸ‘",title:e>70?"Aåˆ©Bï¼ŒBä¸åˆ©A":"Aä¸åˆ©Bï¼ŒBåˆ©A"}:e>=40?{class:"conclusion--neutral",icon:"âš–ï¸",title:"Aå’ŒBç›¸äº’ä¸åˆ©"}:{class:"conclusion--caution",icon:"âš ï¸",title:"Aå’ŒBç›¸äº’ä¸åˆ©"}}renderBottomBar(){return this.isAnalyzing?"":`
      <div class="bottom-action-bar safe-area-bottom">
        <div class="action-bar__buttons">
          <div class="btn-group-left">
            <button class="btn btn--secondary btn--sm" data-action="share">
              <span>ğŸ“¤</span> åˆ†äº«
            </button>
            <button class="btn btn--secondary btn--sm" data-action="export-png">
              <span>ğŸ–¼ï¸</span> å¯¼å‡ºç»“æœ
            </button>
          </div>
          <button class="btn btn--primary btn--sm" data-action="new-test">
            å†æµ‹ä¸€æ¬¡
          </button>
        </div>
      </div>
    `}attachEvents(){const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{window.router.navigate("/")});const A=document.querySelector('[data-action="share"]');A&&A.addEventListener("click",()=>{this.handleShare()});const t=document.querySelector('[data-action="export-png"]');t&&t.addEventListener("click",()=>{this.handleExportPng()});const r=document.querySelector('[data-action="new-test"]');r&&r.addEventListener("click",()=>{window.router.navigate("/")})}async init(){if(this.testData){if(this.isInitialized){console.log("é¡µé¢å·²åˆå§‹åŒ–ï¼Œè·³è¿‡é‡å¤åˆå§‹åŒ–");return}if(this.isInitialized=!0,this.method==="birthday"&&this.useAiAnalysis){await this.analyzeWithAi();return}await this.simulateAnalysis(),this.method==="birthday"?this.analyzeBirthday():this.analyzeHexagram(),this.isAnalyzing=!1,this.rerender(),setTimeout(()=>{const e=document.getElementById("suggestion-text");e&&this.result?.suggestion&&PB(e,this.result.suggestion,30)},500)}}async simulateAnalysis(){const e=["1","2","3","4"],A=["æ­£åœ¨æ”¶é›†ä¿¡æ¯...","æ­£åœ¨è¿›è¡Œç‰¹è´¨è®¡ç®—...","æ­£åœ¨åˆ†æä¸­...","æ­£åœ¨ç”ŸæˆæŠ¥å‘Š..."];for(let t=0;t<e.length;t++){await this.delay(800);const r=document.getElementById("analyzing-text");r&&(r.textContent=A[t]);const a=document.querySelector(`[data-step="${e[t]}"]`);a&&a.classList.add("active")}await this.delay(500)}analyzeBirthday(){const{personA:e,personB:A}=this.testData,t=ja(e.birthDate),r=ja(A.birthDate),a=KB(t,r);this.result={personA:e,personB:A,pillarsA:t,pillarsB:r,score:a.score,conclusion:a.conclusion,details:a.details,suggestion:this.generateSuggestion(a)}}analyzeHexagram(){if(this.testData.reading){const{reading:t,allCards:r}=this.testData;this.result={allCards:r,reading:t,score:t.score,conclusion:t.reading,details:this.getTarotDetails(r),suggestion:t.reading+`

`+t.disclaimer};return}const{hexagram:e}=this.testData;if(!e){this.result={score:50,conclusion:"æ•°æ®è§£æå¼‚å¸¸ï¼Œè¯·é‡æ–°æµ‹è¯•ã€‚",details:[],suggestion:"å»ºè®®é‡æ–°è¿›è¡Œæµ‹è¯•ã€‚"};return}const A=this.calculateHexagramScore(e);this.result={hexagram:e,score:A,conclusion:this.getHexagramConclusion(e,A),details:this.getHexagramDetails(e),suggestion:this.generateHexagramSuggestion(e)}}getTarotDetails(e){const A=[],t=e.filter(a=>a.isUpright),r=e.filter(a=>!a.isUpright);return t.length>0&&A.push({type:"positive",title:`æ­£ä½ç‰Œ (${t.length}å¼ )`,description:t.map(a=>`${a.name}ï¼š${a.upright}`).join("ï¼›")}),r.length>0&&A.push({type:r.length<=3?"positive":"negative",title:`é€†ä½ç‰Œ (${r.length}å¼ )`,description:r.map(a=>`${a.name}ï¼š${a.reversed}`).join("ï¼›")}),A}calculateHexagramScore(e){const A=["ä¹¾","å¤","æ³°","åŒäºº","å¤§æœ‰","è°¦","å’¸","æ’","ç›Š","èƒ"],t=["å¦","è®¼","å‰¥","å›°","è¹‡","ç½","æ˜å¤·"];let r=60;return A.includes(e.name)?r+=20:t.includes(e.name)&&(r-=15),e.hasChanging&&(r+=e.changingPositions.length<=2?5:-5),Math.max(20,Math.min(95,r))}getHexagramConclusion(e,A){return A>=75?`${e.name}ç¬¦å·æ˜¾ç¤ºåŒæ–¹å…³ç³»ç§¯æå‘å¥½ï¼Œæœ‰äº’åˆ©å…±èµ¢çš„è¶‹åŠ¿ã€‚`:A>=55?`${e.name}ç¬¦å·æç¤ºéœ€è¦åŒæ–¹å…±åŒåŠªåŠ›ï¼Œå…³ç³»å¯ä»¥æ”¹å–„ã€‚`:`${e.name}ç¬¦å·æš—ç¤ºå½“å‰æ—¶æœºä¸å¤ªé€‚åˆï¼Œå»ºè®®è°¨æ…è¡Œäº‹ã€‚`}getHexagramDetails(e){const A=[];return A.push({type:"positive",title:`${e.name}ç¬¦å·`,description:e.meaning}),e.upper&&e.lower&&A.push({type:"positive",title:"ä¸Šä¸‹ç¬¦å·åˆ†æ",description:`ä¸Šç¬¦å·${e.upper.name}ï¼ˆ${e.upper.nature}ï¼‰ï¼Œä¸‹ç¬¦å·${e.lower.name}ï¼ˆ${e.lower.nature}ï¼‰`}),e.hasChanging&&A.push({type:e.changingPositions.length<=2?"positive":"negative",title:"å˜åŒ–åˆ†æ",description:`ç¬¬${e.changingPositions.join("ã€")}è½®ä¸ºå˜åŒ–è½®ï¼Œè¡¨ç¤ºäº‹æƒ…ä¼šæœ‰å˜åŒ–`}),A}generateSuggestion(e){const{score:A,details:t}=e;t.filter(s=>s.type==="positive");const r=t.filter(s=>s.type==="negative");let a="";return A>=80?a="è¿™æ˜¯éå¸¸å¥½çš„å¥‘åˆåº¦ï¼åŒæ–¹åœ¨æ€§æ ¼ç‰¹è´¨ä¸Šé«˜åº¦äº’è¡¥ï¼Œå»ºè®®çæƒœè¿™ä»½å…³ç³»ï¼Œå…±åŒç»´æŠ¤ã€‚æ³¨æ„ä¿æŒæ²Ÿé€šï¼Œäº’ç›¸ç†è§£å’ŒåŒ…å®¹ã€‚":A>=60?(a="æ•´ä½“å…³ç³»æ˜¯ç§¯æçš„ï¼Œä½†ä¹Ÿå­˜åœ¨ä¸€äº›éœ€è¦æ³¨æ„çš„åœ°æ–¹ã€‚",r.length>0&&(a+=`ç‰¹åˆ«æ˜¯${r[0].title}æ–¹é¢ï¼Œéœ€è¦åŒæ–¹å¤šä¸€äº›è€å¿ƒå’Œç†è§£ã€‚`),a+="åªè¦ç”¨å¿ƒç»è¥ï¼Œè¿™æ®µå…³ç³»ä¼šè¶Šæ¥è¶Šå¥½ã€‚"):A>=40?a="åŒæ–¹å­˜åœ¨ä¸€å®šçš„å·®å¼‚ï¼Œä½†å¹¶éä¸å¯è°ƒå’Œã€‚å»ºè®®ï¼š1) å¢åŠ æ²Ÿé€šé¢‘ç‡ï¼›2) å°Šé‡å¯¹æ–¹çš„å·®å¼‚ï¼›3) å¯»æ‰¾å…±åŒå…´è¶£ã€‚å¦‚æœåŒæ–¹éƒ½æ„¿æ„ä»˜å‡ºåŠªåŠ›ï¼Œå…³ç³»æ˜¯å¯ä»¥æ”¹å–„çš„ã€‚":a="ä»æ€§æ ¼åˆ†æè§’åº¦çœ‹ï¼ŒåŒæ–¹ç¡®å®å­˜åœ¨è¾ƒå¤§çš„å·®å¼‚ã€‚å»ºè®®åœ¨åšé‡è¦å†³å®šå‰ï¼Œå¤šè§‚å¯Ÿã€å¤šäº†è§£å¯¹æ–¹ã€‚å¦‚æœæ˜¯åˆä½œå…³ç³»ï¼Œå»ºè®®å¯»æ‰¾å…¶ä»–æœºä¼šï¼›å¦‚æœæ˜¯æ„Ÿæƒ…å…³ç³»ï¼Œè¯·è°¨æ…è€ƒè™‘ã€‚",a}generateHexagramSuggestion(e){return`${e.name}ç¬¦å·çš„æ ¸å¿ƒå«ä¹‰æ˜¯"${e.meaning}"ã€‚æ ¹æ®åˆ†æç»“æœæç¤ºï¼Œå½“å‰æœ€é‡è¦çš„æ˜¯ä¿æŒå¹³å’Œçš„å¿ƒæ€ï¼Œä¸è¦æ€¥äºæ±‚æˆã€‚é‡äº‹å¤šæ€è€ƒï¼Œå¬ä»å†…å¿ƒçš„æŒ‡å¼•ã€‚å¦‚æœæœ‰å˜åŒ–ï¼Œè¯´æ˜äº‹æƒ…ä¼šæœ‰è½¬æœºï¼Œä¿æŒè€å¿ƒç­‰å¾…åˆé€‚çš„æ—¶æœºã€‚`}delay(e){return new Promise(A=>setTimeout(A,e))}async analyzeWithAi(){const{personA:e,personB:A}=this.testData;this.abortController=new AbortController;const t=["1","2","3"],r=["æ­£åœ¨æ”¶é›†ä¿¡æ¯...","æ­£åœ¨è¿›è¡Œç‰¹è´¨è®¡ç®—...","æ­£åœ¨è¯·æ±‚è¿›è¡ŒåŒ¹é…åˆ†æ..."];for(let a=0;a<t.length;a++){await this.delay(600);const s=document.getElementById("analyzing-text");s&&(s.textContent=r[a]);const i=document.querySelector(`[data-step="${t[a]}"]`);i&&i.classList.add("active")}try{await Ji.birthMatchStream({partyA:e,partyB:A},{onChunk:(a,s)=>{if(this.streamContent=s,this.isAnalyzing){this.isAnalyzing=!1;const i=document.querySelector('[data-step="4"]');i&&i.classList.add("active"),this.updateToResultView()}else this.updateStreamContent()},onDone:a=>{this.streamContent=a,this.isAnalyzing=!1,this.isStreamComplete=!0,this.updateMatchRecordStatus(1,{content:a}),this.consumeRedeemCode();const s=document.getElementById("ai-stream-content");s&&(s.innerHTML=this.formatMarkdown(this.streamContent)+this.renderCompleteIndicator(),this.scrollToBottom(),setTimeout(()=>{const i=document.getElementById("stream-complete-indicator");i&&(i.style.opacity="0",setTimeout(()=>i.remove(),300))},1e3)),this.rerender()},onError:a=>{if(a.name==="AbortError"){console.log("è¯·æ±‚å·²å–æ¶ˆ");return}console.error("AI åˆ†æå¤±è´¥:",a),this.streamContent="åˆ†æå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•ï¼",this.isAnalyzing=!1,this.isStreamComplete=!0,this.updateMatchRecordStatus(2,{error:a.message||"åˆ†æå¤±è´¥"});const s=document.getElementById("stream-loading-indicator");s&&s.remove(),this.rerender()},signal:this.abortController.signal})}catch(a){if(a.name==="AbortError"){console.log("è¯·æ±‚å·²å–æ¶ˆ");return}console.error("AI åˆ†æå¤±è´¥:",a),this.streamContent="åˆ†æå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•ã€‚",this.isAnalyzing=!1,this.isStreamComplete=!0,this.updateMatchRecordStatus(2,{error:a.message||"åˆ†æå¤±è´¥"}),this.rerender()}}updateToResultView(){const e=document.getElementById("analysis-container");e&&(e.innerHTML=this.renderResult())}renderAiResult(){const{personA:e,personB:A}=this.testData;return`
      <div class="result-content animate-fade-in-up">
        <!-- åŒæ–¹ä¿¡æ¯ -->
        <div class="glass-card persons-card mb-4">
          <div class="persons-row">
            <div class="person-info">
              <span class="person-avatar">${e.gender==="ç”·"?"ğŸ‘¨":"ğŸ‘©"}</span>
              <span class="person-name">${e.name||"ä½ "}</span>
              <span class="person-birth small-text">${e.birthDate}</span>
            </div>
            <div class="vs-badge">VS</div>
            <div class="person-info">
              <span class="person-avatar">${A.gender==="ç”·"?"ğŸ‘¨":"ğŸ‘©"}</span>
              <span class="person-name">${A.name||"å¯¹æ–¹"}</span>
              <span class="person-birth small-text">${A.birthDate}</span>
            </div>
          </div>
        </div>

        <!-- AI åˆ†æç»“æœ -->
        <div class="glass-card ai-result-card mb-4">
          <h4 class="heading-3 mb-4">ğŸ¤– åˆ†ææŠ¥å‘Š</h4>
          <p class="ai-intro-text">æˆ‘å°†æ ¹æ®æ‚¨æä¾›çš„ä¿¡æ¯ï¼Œå¯¹åŒ¹é…æƒ…å†µè¿›è¡Œè¯¦ç»†åˆ†æï¼Œè¯·ç¨ç­‰...</p>
          <div class="ai-content" id="ai-stream-content">
            ${this.formatMarkdown(this.streamContent)}${this.isStreamComplete?"":this.renderLoadingIndicator()}
          </div>
        </div>

        <!-- æ¸©é¦¨æç¤º -->
        <div class="glass-card glass-card--light disclaimer-card mb-4">
          <p class="small-text text-center" style="color: var(--color-text-tertiary);">
            âš ï¸ ä»¥ä¸Šåˆ†æä»…ä¾›å¨±ä¹å‚è€ƒï¼Œä¸æ„æˆä»»ä½•å†³ç­–å»ºè®®
          </p>
        </div>
      </div>
    `}renderLoadingIndicator(){return`
      <div class="stream-loading-indicator" id="stream-loading-indicator">
        <span class="loading-dot"></span>
        <span class="loading-text">åˆ†æä¸­...</span>
      </div>
    `}updateStreamContent(){const e=document.getElementById("ai-stream-content");if(!e)return;const A=this.formatMarkdown(this.streamContent),t=this.renderLoadingIndicator(),r=document.createElement("div");r.innerHTML=A;const a=Array.from(r.children),s=Array.from(e.children).filter(i=>!i.classList.contains("stream-loading-indicator"));if(a.length>s.length){for(let o=s.length;o<a.length;o++){const c=a[o].cloneNode(!0);c.classList.add("stream-fade-in");const l=e.querySelector(".stream-loading-indicator");l?e.insertBefore(c,l):e.appendChild(c)}e.querySelector(".stream-loading-indicator")||e.insertAdjacentHTML("beforeend",t)}else if(s.length>0){const i=s[s.length-1],o=a[a.length-1];o&&i.innerHTML!==o.innerHTML&&(i.innerHTML=o.innerHTML)}else e.innerHTML=A+t;this.scrollToBottom()}renderCompleteIndicator(){return`
      <div class="stream-complete-indicator" id="stream-complete-indicator">
        <span class="complete-icon">âœ…</span>
        <span class="complete-text">å·²å®Œæˆ</span>
      </div>
    `}scrollToBottom(){const e=document.getElementById("ai-stream-content");e&&(e.scrollTop=e.scrollHeight),window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}formatMarkdown(e){return e?this.splitIntoSections(e).map((t,r)=>{const a=this.formatSectionContent(t);return a.replace(/<[^>]*>/g,"").replace(/\s+/g,"").trim()?`
        <div class="analysis-block animate-fade-in-up" style="animation-delay: ${r*.1}s;">
          ${a}
        </div>
      `:""}).filter(Boolean).join(""):""}splitIntoSections(e){const A=[];let t="";const r=e.split(`
`);for(const a of r){if(/^æ€»ç»“[ï¼š:.]?\s*$/.test(a.trim())||/^\*?\*?æ€»ç»“\*?\*?[ï¼š:.]?\s*$/.test(a.trim())||/ä»¥ä¸Šåˆ†æç”±.*ç”Ÿæˆ/.test(a.trim())||/å†…å®¹ä»…ä¾›å‚è€ƒ.*åˆ‡å‹¿å…¨ä¿¡/.test(a.trim())||/äººç”Ÿçš„ä¸»åŠ¨æƒ.*å§‹ç»ˆåœ¨/.test(a.trim()))continue;/^ã€[^ã€‘]+ã€‘/.test(a)?(t.trim()&&A.push(t.trim()),t=a):t+=`
`+a}return t.trim()&&A.push(t.trim()),A.length<=1&&e.includes(`

`)?e.split(/\n\n+/).filter(a=>a.trim()):A.length>0?A:[e]}formatSectionContent(e){const A=r=>r.includes("ç¬¬ä¸€æ­¥")||r.includes("åæ ‡")||r.includes("ç¡®ç«‹")?"ğŸ“":r.includes("ç¬¬äºŒæ­¥")||r.includes("è¾“å‡º")||r.includes("åˆ¤å®š")?"ğŸ”":r.includes("ç¬¬ä¸‰æ­¥")||r.includes("æ‰“åˆ†")||r.includes("é‡åŒ–")?"â­":r.includes("ç¬¬å››æ­¥")||r.includes("åˆ¤è¯")||r.includes("ç»“è®º")||r.includes("ç»¼åˆ")?"ğŸ¯":r.includes("éœ€æ±‚")||r.includes("ç”¨ç¥")||r.includes("æ¸…å•")?"ğŸ“‹":r.includes("èµ„äº§")||r.includes("æ ¸å®š")?"ğŸ’":r.includes("è¯„åˆ†")||r.includes("ç»†åˆ™")?"â­":r.includes("å»ºè®®")||r.includes("æç¤º")?"ğŸ’¡":r.includes("ç”²æ–¹")||r.includes("ä¹™æ–¹")?"":"ğŸ“Œ";let t=e.replace(/^[\*\-]?\s*\*?\*?ç¬¬([ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹å]+)æ­¥[ï¼š:]\s*(.+)$/gm,(r,a,s)=>`<div class="block-header"><span class="block-icon">${A(`ç¬¬${a}æ­¥`)}</span><span class="block-title">ç¬¬${a}æ­¥ï¼š${s}</span></div>`).replace(/^[\*\-]?\s*\*?\*?([ç”²ä¹™])æ–¹\*?\*?$/gm,(r,a)=>`<div class="person-header"><span class="person-emoji">${a==="ç”²"?"ğŸ‘¨":"ğŸ‘©"}</span><span class="person-label">${a}æ–¹</span></div>`).replace(/^\[([^\]]+)\](?![\(\[])/gm,(r,a)=>`<div class="block-subheader"><span class="block-icon">${A(a)}</span><span class="block-subtitle">${a}</span></div>`).replace(/^ã€([^ã€‘]+)ã€‘/gm,(r,a)=>`<div class="block-header"><span class="block-icon">${A(a)}</span><span class="block-title">${a}</span></div>`).replace(/^###\s+(.+)$/gm,'<div class="block-header"><span class="block-icon">ğŸ“Œ</span><span class="block-title">$1</span></div>').replace(/^##\s+(.+)$/gm,'<div class="block-header"><span class="block-icon">ğŸ“‹</span><span class="block-title">$1</span></div>').replace(/^#\s+(.+)$/gm,'<div class="block-header main-header"><span class="block-icon">ğŸ“Š</span><span class="block-title">$1</span></div>').replace(/^([ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹å]+)[ã€.]\s*(.+)$/gm,'<div class="block-subheader"><span class="block-num">$1</span><span class="block-subtitle">$2</span></div>').replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/^\*\s{3}(.+)$/gm,'<li class="sub-item">$1</li>').replace(/^[-*â€¢]\s*([^\s].*)$/gm,"<li>$1</li>").replace(/^(\d+)[.)ã€]\s*(.+)$/gm,'<li class="numbered"><span class="list-num">$1.</span> $2</li>').replace(/([^<>\n]+?)ï¼š([^<>\n]+)/g,'<span class="label-text">$1ï¼š</span><span class="value-text">$2</span>').replace(/\n/g,"<br>");return t=t.replace(/(<li[^>]*>.*?<\/li>)(<br>)?/g,"$1"),t=t.replace(/(<li[^>]*>.*?<\/li>)+/g,r=>'<ul class="block-list">'+r+"</ul>"),t=t.replace(/(<br>){2,}/g,"<br>"),t=t.replace(/^(<br>|\s)+/,""),t=t.replace(/(<br>|\s)+$/,""),t=t.replace(/<li[^>]*>\s*<\/li>/g,""),t=t.replace(/<li[^>]*>\s*[-â€“â€”]+\s*<\/li>/g,""),t=t.replace(/<ul class="block-list">\s*<\/ul>/g,""),t=t.replace(/<br>\s*[-â€“â€”]+\s*<br>/g,"<br>"),t=t.replace(/<br>\s*[â€¢â—â—‹]\s*[-â€“â€”]*\s*<br>/g,"<br>"),t=t.replace(/(<\/div>)(<br>)+/g,"$1"),t=t.replace(/(<br>)+(<div)/g,"$2"),`<div class="block-content">${t}</div>`}async updateMatchRecordStatus(e,A=null){const t=this.testData?.sessionId;if(!t){console.log("æ—  sessionIdï¼Œè·³è¿‡åŒ¹é…è®°å½•çŠ¶æ€æ›´æ–°");return}let r=null;try{const a=localStorage.getItem("user");if(a){const s=JSON.parse(a);r=s.id||s.userId||null}}catch{}try{await dt.updateStatus(t,r,e,A),console.log(`âœ… åŒ¹é…è®°å½•çŠ¶æ€å·²æ›´æ–°ä¸º ${e===1?"æˆåŠŸ":"å¤±è´¥"}`)}catch(a){console.error("æ›´æ–°åŒ¹é…è®°å½•çŠ¶æ€å¤±è´¥:",a)}}async consumeRedeemCode(){const e=window.appState.get("redeemCode");if(!e){console.log("æ— å…‘æ¢ç ï¼Œè·³è¿‡æ¶ˆè€—");return}try{const A=lt(),r=await(await fetch(`${A}/redeem/use`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e})})).json();r.success?(console.log("âœ… å…‘æ¢ç å·²æ¶ˆè€—:",e),window.appState.set("redeemCode",null)):console.warn("å…‘æ¢ç æ¶ˆè€—å¤±è´¥:",r.message)}catch(A){console.error("æ¶ˆè€—å…‘æ¢ç å¤±è´¥:",A)}}rerender(){const e=document.getElementById("app");e.innerHTML=this.render(),this.attachEvents()}handleShare(){const e=`æˆ‘åˆšåˆšåœ¨åŒ¹é…æ¸¸æˆè¿›è¡Œäº†${this.matchType?.title}æµ‹è¯•ï¼ŒåŒ¹é…åº¦${this.result?.score}%ï¼å¿«æ¥è¯•è¯•å§~`;navigator.share?navigator.share({title:"åŒ¹é…æ¸¸æˆ - è¶£å‘³æ€§æ ¼æµ‹è¯•",text:e,url:window.location.origin}):navigator.clipboard.writeText(e).then(()=>{window.showToast("é“¾æ¥å·²å¤åˆ¶ï¼Œå¿«å»åˆ†äº«å§ï¼")})}async handleExportPng(){const e=this.testData?.personA?.name||"ç”²æ–¹",A=this.testData?.personB?.name||"ä¹™æ–¹",t=this.matchType?.title||"åŒ¹é…",r=`${e}_${A}_${t}ç»“æœ.png`;window.showToast("æ­£åœ¨ç”Ÿæˆå›¾ç‰‡ï¼Œè¯·ç¨å€™...");try{const a=document.querySelector(".page-content");if(!a){window.showToast("å¯¼å‡ºå¤±è´¥ï¼šæ‰¾ä¸åˆ°å†…å®¹åŒºåŸŸ");return}const s=document.querySelector(".bottom-action-bar");s&&(s.style.display="none"),a.classList.add("export-mode");const o=(await SB(()=>import("https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.esm.js"),[])).default,c=await o(a,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:null,logging:!1});a.classList.remove("export-mode"),s&&(s.style.display="");const l=c.toDataURL("image/png"),g=document.createElement("a");g.download=r,g.href=l,g.click(),window.showToast("å›¾ç‰‡å¯¼å‡ºæˆåŠŸï¼")}catch(a){console.error("å¯¼å‡ºå›¾ç‰‡å¤±è´¥:",a);const s=document.querySelector(".page-content");s&&s.classList.remove("export-mode");const i=document.querySelector(".bottom-action-bar");i&&(i.style.display=""),window.showToast("å¯¼å‡ºå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•")}}}class $B{constructor(e){this.testType=e.type,this.matchType=FA(this.testType),this.orderId=null,this.paymentMethod="alipay",this.qrCodeData=null,this.redeemCode=null,this.status="selecting",this.pollingTimer=null,this.pollingCount=0,this.maxPollingCount=20}render(){return`
      <div class="page payment-page">
        ${j({title:"æ”¯ä»˜",showBack:!0,showHistory:!1,showProfile:!1})}
        
        <main class="page-content">
          <div class="app-container">
            ${this.renderContent()}
          </div>
        </main>
      </div>
    `}renderContent(){switch(this.status){case"selecting":return this.renderPaymentSelect();case"paying":return this.renderPaymentQR();case"success":return this.renderSuccess();default:return""}}renderPaymentSelect(){const e=this.matchType||{title:"æµ‹è¯•æœåŠ¡"},A=19.9;return`
      <section class="payment-info mt-4 mb-6 animate-fade-in-up">
        <div class="glass-card">
          <div class="payment-product">
            <span class="product-icon">${e.icon||"ğŸ”®"}</span>
            <div class="product-info">
              <h3 class="product-name">${e.title}</h3>
              <p class="product-desc">${e.description||""}</p>
            </div>
            <div class="product-price">
              <span class="price-symbol">Â¥</span>
              <span class="price-value">${A}</span>
            </div>
          </div>
        </div>
      </section>

      <section class="payment-method-section mb-6 animate-fade-in-up animate-delay-100">
        <h4 class="section-title mb-4">é€‰æ‹©æ”¯ä»˜æ–¹å¼</h4>
        
        <div class="payment-methods">
          <div class="payment-method-card active" data-method="alipay" style="display:flex;flex-direction:row;align-items:center;gap:12px;padding:14px 16px;">
            <div class="method-icon alipay-icon" style="margin:0;">
              <svg viewBox="0 0 24 24" width="32" height="32" fill="#1677FF">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
                <text x="12" y="16" text-anchor="middle" font-size="10" font-weight="bold">æ”¯</text>
              </svg>
            </div>
            <div class="method-name" style="flex:1;text-align:left;">æ”¯ä»˜å®</div>
            <div class="method-check">âœ“</div>
          </div>
        </div>
      </section>

      <div class="bottom-action-bar safe-area-bottom">
        <div class="action-bar__buttons">
          <button class="btn btn--primary btn--full" data-action="create-order">
            ç«‹å³æ”¯ä»˜ Â¥${A}
          </button>
        </div>
      </div>
    `}renderPaymentQR(){return`
      <section class="qr-section mt-4 animate-fade-in-up">
        <div class="glass-card text-center">
          <h3 class="heading-3 mb-4">
            ${this.paymentMethod==="alipay"?"æ”¯ä»˜å®":"å¾®ä¿¡"}æ‰«ç æ”¯ä»˜
          </h3>
          
          <div class="qr-container">
            <div class="qr-code">
              <img src="${this.qrCodeData}" alt="æ”¯ä»˜äºŒç»´ç " />
            </div>
            <p class="qr-tip small-text mt-3">
              è¯·ä½¿ç”¨${this.paymentMethod==="alipay"?"æ”¯ä»˜å®":"å¾®ä¿¡"}æ‰«æäºŒç»´ç å®Œæˆæ”¯ä»˜
            </p>
          </div>
          
          <div class="payment-amount mt-4">
            <span class="amount-label">æ”¯ä»˜é‡‘é¢</span>
            <span class="amount-value">Â¥ 19.9</span>
          </div>
          
          <div class="order-info mt-4">
            <p class="small-text">è®¢å•å·: ${this.orderId}</p>
          </div>
        </div>
      </section>

      <section class="payment-status mt-4 animate-fade-in-up animate-delay-100">
        <div class="glass-card glass-card--light">
          <div class="status-indicator">
            <div class="loading-dots">
              <span class="loading-dots__dot"></span>
              <span class="loading-dots__dot"></span>
              <span class="loading-dots__dot"></span>
            </div>
            <p class="status-text">ç­‰å¾…æ”¯ä»˜ä¸­...</p>
          </div>
        </div>
      </section>

      <!-- å¼€å‘ç¯å¢ƒï¼šæ¨¡æ‹Ÿæ”¯ä»˜æŒ‰é’® -->
      ${this.renderDevPayButton()}
      
      <div class="bottom-action-bar safe-area-bottom">
        <div class="action-bar__buttons">
          <button class="btn btn--secondary" data-action="cancel-order">
            å–æ¶ˆæ”¯ä»˜
          </button>
          <button class="btn btn--primary" data-action="check-status">
            æˆ‘å·²æ”¯ä»˜
          </button>
        </div>
      </div>
    `}renderDevPayButton(){return`
      <section class="dev-section mt-4">
        <div class="glass-card text-center" style="border: 2px dashed var(--color-warning);">
          <p class="small-text mb-3" style="color: var(--color-warning);">ğŸ› ï¸ å¼€å‘æ¨¡å¼</p>
          <button class="btn btn--primary btn--sm" data-action="simulate-pay">
            æ¨¡æ‹Ÿæ”¯ä»˜æˆåŠŸ
          </button>
        </div>
      </section>
    `}renderSuccess(){return`
      <section class="success-section mt-6 animate-fade-in-up">
        <div class="glass-card text-center">
          <div class="success-icon animate-bounce-in">âœ…</div>
          <h2 class="heading-2 mb-2">æ”¯ä»˜æˆåŠŸ</h2>
          <p class="body-text-secondary mb-4">æ­£åœ¨ä¸ºæ‚¨å‡†å¤‡è§£è¯»æŠ¥å‘Š...</p>
          
          <div class="status-indicator" style="margin-top:20px;">
            <div class="loading-dots">
              <span class="loading-dots__dot"></span>
              <span class="loading-dots__dot"></span>
              <span class="loading-dots__dot"></span>
            </div>
            <p class="small-text" style="margin-top:12px;color:var(--color-text-tertiary);">å³å°†è·³è½¬åˆ°è§£è¯»é¡µé¢</p>
          </div>
        </div>
      </section>
    `}attachEvents(){const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{this.cleanup(),window.router.back()}),document.querySelectorAll(".payment-method-card").forEach(s=>{s.addEventListener("click",()=>{this.selectPaymentMethod(s.dataset.method)})});const A=document.querySelector('[data-action="create-order"]');A&&A.addEventListener("click",()=>this.createOrder());const t=document.querySelector('[data-action="cancel-order"]');t&&t.addEventListener("click",()=>this.cancelOrder());const r=document.querySelector('[data-action="check-status"]');r&&r.addEventListener("click",()=>this.checkPaymentStatus());const a=document.querySelector('[data-action="simulate-pay"]');a&&a.addEventListener("click",()=>this.simulatePay())}selectPaymentMethod(e){this.paymentMethod="alipay"}async createOrder(){try{window.showToast("æ­£åœ¨åˆ›å»ºè®¢å•...");const e=await En.createOrder({productId:"test-standard",paymentMethod:this.paymentMethod,testType:this.testType});e.success&&(this.orderId=e.data.orderId,this.qrCodeData=e.data.qrCode,this.status="paying",this.rerender(),this.startPolling())}catch(e){window.showToast(e.message||"åˆ›å»ºè®¢å•å¤±è´¥","error")}}cancelOrder(){this.cleanup(),this.status="selecting",this.orderId=null,this.qrCodeData=null,this.rerender()}startPolling(){this.pollingCount=0,this.pollingTimer=setInterval(()=>{if(this.pollingCount++,this.pollingCount>=this.maxPollingCount){this.stopPolling();const e=document.querySelector(".status-text");e&&(e.textContent='æŸ¥è¯¢è¶…æ—¶ï¼Œè¯·ç‚¹å‡»"æˆ‘å·²æ”¯ä»˜"æ‰‹åŠ¨æŸ¥è¯¢');const A=document.querySelector(".loading-dots");A&&(A.style.display="none");return}this.checkPaymentStatus(!0)},3e3)}stopPolling(){this.pollingTimer&&(clearInterval(this.pollingTimer),this.pollingTimer=null)}async checkPaymentStatus(e=!1){try{const A=await En.getOrderStatus(this.orderId);A.success&&A.data.status==="paid"?(this.stopPolling(),this.redeemCode=A.data.redeemCode,this.status="success",this.rerender(),e||window.showToast("æ”¯ä»˜æˆåŠŸï¼","success"),this.navigateToInterpret()):A.success&&A.data.status==="expired"?(this.stopPolling(),window.showToast("è®¢å•å·²è¿‡æœŸï¼Œè¯·é‡æ–°ä¸‹å•","error"),setTimeout(()=>{this.cancelOrder()},1500)):e||window.showToast("æš‚æœªæ”¶åˆ°æ”¯ä»˜ï¼Œè¯·ç¨å€™é‡è¯•")}catch{e||window.showToast("æŸ¥è¯¢å¤±è´¥ï¼Œè¯·ç¨å€™é‡è¯•","error")}}async simulatePay(){try{const e=await En.simulatePay(this.orderId);e.success&&(this.stopPolling(),this.redeemCode=e.data.redeemCode,this.status="success",this.rerender(),window.showToast("æ¨¡æ‹Ÿæ”¯ä»˜æˆåŠŸï¼","success"),this.navigateToInterpret())}catch(e){window.showToast(e.message||"æ¨¡æ‹Ÿæ”¯ä»˜å¤±è´¥","error")}}navigateToInterpret(){const e=window.appState?.get?.("currentTest"),A=e?.method,t=this.testType;this.redeemCode&&window.appState.set("redeemCode",this.redeemCode),setTimeout(()=>{if(A==="birthday")window.router.navigate("/result/birthday");else{const r=window.appState?.get?.("tarotQuestion")||window.appState?.get?.("selectedQuestion")||e?.question||"ç»¼åˆåˆ†æ";window.router.navigate(`/test/${t}/tarot/result-loading?question=${encodeURIComponent(r)}`)}},1500)}copyRedeemCode(){this.redeemCode&&navigator.clipboard.writeText(this.redeemCode).then(()=>{window.showToast("æ ¸é”€ç å·²å¤åˆ¶ï¼","success")}).catch(()=>{window.showToast("å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶")})}cleanup(){this.stopPolling()}rerender(){const e=document.getElementById("app");e.innerHTML=this.render(),this.attachEvents()}}class VB{constructor(e){if(this.testType=e.type,this.matchType=FA(this.testType),!this.matchType){window.router.navigate("/");return}this.soldCount=Math.floor(Math.random()*500)+200,this.discountPrice=19.9,this.originalPrice=this.matchType.price||29.9}render(){if(!this.matchType)return"";const e=this.matchType;return`
      <div class="page product-page">
        ${j({title:"æœåŠ¡è¯¦æƒ…",showBack:!0,showHistory:!1,showProfile:!1})}

        <main class="page-content">
          <!-- å•†å“å¤´å›¾ -->
          <div class="product-hero">
            <div class="product-hero__bg">
              <div class="product-hero__icon">${e.icon}</div>
              <div class="product-hero__badge">é™æ—¶ä¼˜æƒ </div>
            </div>
            <div class="product-hero__overlay">
              <h1 class="product-hero__title">${e.title}</h1>
              <p class="product-hero__subtitle">${e.description}</p>
            </div>
          </div>

          <div class="app-container">
            <!-- ä»·æ ¼åŒºåŸŸ -->
            <section class="product-price-section animate-fade-in-up">
              <div class="product-price-card">
                <div class="product-price-row">
                  <div class="product-price-current">
                    <span class="product-price-symbol">Â¥</span>
                    <span class="product-price-amount">${this.discountPrice}</span>
                  </div>
                  <div class="product-price-original">
                    <span class="product-price-original-label">åŸä»·</span>
                    <span class="product-price-original-amount">Â¥${this.originalPrice}</span>
                  </div>
                  <div class="product-price-tag">é™æ—¶æŠ˜æ‰£</div>
                </div>
                <div class="product-price-info">
                  <span class="product-info-item">âœ… è™šæ‹Ÿå•†å“æœªä½¿ç”¨å¯é€€æ¬¾</span>
                  <span class="product-info-item">ğŸ‘¤ å·²å”® ${this.soldCount}</span>
                </div>
              </div>
            </section>

            <!-- æ¸©é¦¨æç¤º -->
            <section class="confirm-notice-section animate-fade-in-up animate-delay-100">
              <div class="product-price-card" style="background:rgba(139,127,216,0.06);">
                <div class="confirm-notice-header">
                  <span>ğŸ’¡</span>
                  <span>æ¸©é¦¨æç¤º</span>
                </div>
                <ul class="confirm-notice-list">
                  <li>æ”¯ä»˜æˆåŠŸåå°†ç«‹å³ä¸ºæ‚¨ç”Ÿæˆåˆ†ææŠ¥å‘Š</li>
                  <li>åˆ†ææŠ¥å‘Šå¯åœ¨å†å²è®°å½•ä¸­æ°¸ä¹…æŸ¥çœ‹</li>
                  <li>å¦‚æœ‰é—®é¢˜è¯·è”ç³»åœ¨çº¿å®¢æœ</li>
                </ul>
              </div>
            </section>

          </div>
        </main>

        <!-- åº•éƒ¨æ”¯ä»˜æ  -->
        <div class="product-bottom-bar safe-area-bottom">
          <div class="product-bottom-price">
            <span class="product-bottom-symbol">Â¥</span>
            <span class="product-bottom-amount">${this.discountPrice}</span>
            <span class="product-bottom-original">Â¥${this.originalPrice}</span>
          </div>
          <button class="product-buy-btn" data-action="buy">
            ç«‹å³è´­ä¹°
          </button>
        </div>
      </div>
    `}attachEvents(){const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{window.router.back()});const A=document.querySelector('[data-action="buy"]');A&&A.addEventListener("click",()=>{window.router.navigate(`/pay/${this.testType}`)})}}let T={question:"",lunarDate:"",benGuaInfo:null,bianGuaInfo:null,hasMovingYao:!1,movingPositions:[],yaos:[],aiResponse:"",professionalVersion:"",simpleVersion:"",aiPrompt:"",isLoading:!1,remainingTime:60,progressPercent:0,loadingTip:"æ­£åœ¨è¿æ¥æœåŠ¡å™¨..."};const As=["æ­£åœ¨åˆ†æå¦è±¡...","æ¨æ¼”å…­äº²å…³ç³»...","è®¡ç®—ä¸–åº”ä½ç½®...","è§£è¯»å…­ç¥å«ä¹‰...","ç»¼åˆåŠ¨çˆ»å˜åŒ–...","ç”Ÿæˆä¸“ä¸šè§£è¯»...","æ•´ç†é€šä¿—ç‰ˆæœ¬...","å³å°†å®Œæˆ..."];function Ze(n,e={}){YB(e);const A=new Date,t=`${A.getFullYear()}å¹´${A.getMonth()+1}æœˆ${A.getDate()}æ—¥`;n.innerHTML=`
        <div class="divination-result-page">
            <!-- é¡¶éƒ¨å¯¼èˆª -->
            <div class="result-navbar">
                <button class="result-navbar__back" id="btn-back">â†</button>
                <span class="result-navbar__title">è§£è¯»ç»“æœ</span>
            </div>

            <!-- é—®é¢˜å¡ç‰‡ -->
            <div class="question-card">
                <span class="question-label">åŒ¹é…äº‹é¡¹</span>
                <span class="question-text">${T.question||"æœªçŸ¥é—®é¢˜"}</span>
                <span class="date-text">${t}</span>
            </div>

            <!-- åŠ è½½çŠ¶æ€ -->
            ${JB()}

            <!-- è§£è¯»åŒºåŸŸ -->
            ${XB()}

            <!-- å…è´£å£°æ˜ -->
            <div class="disclaimer">
                ä»…ä¾›å¨±ä¹å‚è€ƒï¼Œä¸ä½œä¸ºä»»ä½•å†³ç­–ä¾æ®
            </div>

            <!-- åº•éƒ¨æŒ‰é’® -->
            <div class="bottom-buttons">
                <button class="btn-restart" id="btn-restart">ğŸ”„ é‡æ–°å¼€å§‹</button>
                <button class="btn-share" id="btn-share">ğŸ“¤ åˆ†äº«ç»“æœ</button>
            </div>
        </div>
    `,ZB(n)}function YB(n){if(n.data){const A=n.data;T.question=A.question||"",T.aiResponse=A.result||"",T.professionalVersion=A.professionalVersion||"",T.simpleVersion=A.simpleVersion||"",T.aiPrompt=A.aiPrompt||""}const e=localStorage.getItem("divinationResult");if(e&&!n.data)try{const A=JSON.parse(e);A.success&&A.data&&(T.aiResponse=A.data.result||"",T.professionalVersion=A.data.professionalVersion||"",T.simpleVersion=A.data.simpleVersion||"",T.aiPrompt=A.data.aiPrompt||"")}catch(A){console.error("è§£æç¼“å­˜æ•°æ®å¤±è´¥:",A)}if(!T.question&&window.appState&&(T.question=window.appState.get?.("tarotQuestion")||window.appState.get?.("selectedQuestion")||""),T.aiResponse){const A=qB(T.aiResponse);A&&A!==T.aiResponse?T.simpleVersion=A:T.simpleVersion||(T.simpleVersion=T.aiResponse)}console.log("[ç»“æœé¡µ] simpleVersioné•¿åº¦:",T.simpleVersion?.length,"| aiResponseé•¿åº¦:",T.aiResponse?.length,"| professionalVersioné•¿åº¦:",T.professionalVersion?.length)}function qB(n){if(!n)return"";const e=[/#{1,4}\s*äºŒ[ã€ï¼.]\s*é€šä¿—ç‰ˆè§£è¯»\s*([\s\S]*?)$/i,/äºŒ[ã€ï¼.]\s*é€šä¿—ç‰ˆè§£è¯»\s*([\s\S]*?)$/i,/ã€é€šä¿—ç‰ˆ[^ã€‘]*ã€‘\s*([\s\S]*?)$/i,/é€šä¿—ç‰ˆè§£è¯»\s*([\s\S]*?)$/i,/é€šä¿—ç‰ˆ\s*([\s\S]*?)$/i];for(const t of e){const r=n.match(t);if(r&&r[1]&&r[1].trim().length>50)return r[1].trim()}const A=[/[\s\S]*?(?=#{0,4}\s*äºŒ[ã€ï¼.]\s*é€šä¿—ç‰ˆ)/i,/#{0,4}\s*ä¸€[ã€ï¼.]\s*ä¸“ä¸šç‰ˆè§£è¯»[\s\S]*?(?=#{0,4}\s*äºŒ[ã€ï¼.]\s*é€šä¿—ç‰ˆè§£è¯»)/i];for(const t of A){const r=n.replace(t,"").trim();if(r.length>50&&r.length<n.length)return r.replace(/^#{1,4}\s*äºŒ[ã€ï¼.]\s*é€šä¿—ç‰ˆè§£è¯»\s*/m,"").replace(/^é€šä¿—ç‰ˆè§£è¯»\s*/m,"").trim()}if(n.includes("ä¸“ä¸šç‰ˆè§£è¯»")&&n.includes("é€šä¿—ç‰ˆè§£è¯»")){const t=n.indexOf("é€šä¿—ç‰ˆè§£è¯»");if(t>0){let r=n.substring(t+5).trim();if(r.length>50)return r}}return""}function JB(){return T.isLoading?`
        <div class="loading-overlay">
            <div class="loading-content">
                <div class="loading-spinner"></div>
                <span class="loading-title">å¸ˆå‚…æ­£åœ¨æ¨ç®—ä¸­...</span>
                <span class="loading-hint">é¢„è®¡éœ€è¦ ${T.remainingTime} ç§’</span>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: ${T.progressPercent}%"></div>
                </div>
                <span class="loading-tip">${T.loadingTip}</span>
            </div>
        </div>
    `:""}function XB(){const n=T.simpleVersion;return n?`
        <div class="ai-response">
            <div class="version-section simple">
                <div class="response-title">ğŸ’¡ è§£è¯»</div>
                <div class="response-content">${WB(n)}</div>
            </div>

            <!-- å’¨è¯¢å…¥å£ -->
            <div class="consult-section">
                <div class="consult-title">ğŸ’¬ æœ‰ç–‘æƒ‘ï¼Ÿæ¬¢è¿å’¨è¯¢</div>
                <p class="consult-tip">å¦‚éœ€è¿›ä¸€æ­¥è§£è¯»ï¼Œè¯·è”ç³»ä¸“ä¸šé¡¾é—®</p>
            </div>
        </div>
    `:`
            <div class="no-response">
                <p>æš‚æ— è§£è¯»ç»“æœ</p>
                <button class="btn-ai" id="btn-ask-ai">ğŸ”® å¼€å§‹è§£è¯»</button>
            </div>
        `}function WB(n){if(!n)return"";let e=zB(n);return e=e.replace(/^[#\s]*[ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹å]*[ã€ï¼.]\s*é€šä¿—ç‰ˆè§£è¯»\s*/gm,""),e=e.replace(/^[#\s]*é€šä¿—ç‰ˆè§£è¯»\s*/gm,""),e=e.replace(/^[#\s]*[ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹å]*[ã€ï¼.]\s*ä¸“ä¸šç‰ˆè§£è¯»\s*/gm,""),e=e.replace(/^[#\s]*ä¸“ä¸šç‰ˆè§£è¯»\s*/gm,""),e=e.replace(/### (.+)/g,"<h4>$1</h4>"),e=e.replace(/## (.+)/g,"<h3>$1</h3>"),e=e.replace(/# (.+)/g,"<h2>$1</h2>"),e=e.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),e=e.replace(/^\* (.+)/gm,"<li>$1</li>"),e=e.replace(/^- (.+)/gm,"<li>$1</li>"),e=e.replace(/^\d+\.\s+(.+)/gm,"<li>$1</li>"),e=e.replace(/^---$/gm,"<hr>"),e=e.replace(/\n\n/g,"</p><p>"),e=e.replace(/\n/g,"<br>"),`<p>${e}</p>`}function zB(n){if(!n)return"";const e=document.createElement("div");return e.textContent=n,e.innerHTML}function ZB(n){const e=n.querySelector("#btn-back");e&&e.addEventListener("click",()=>{window.history.back()});const A=n.querySelector("#btn-restart");A&&A.addEventListener("click",()=>{confirm("ç¡®å®šè¦é‡æ–°å¼€å§‹å—ï¼Ÿ")&&(localStorage.removeItem("divinationResult"),Zi("home"))});const t=n.querySelector("#btn-share");t&&t.addEventListener("click",()=>{jB()});const r=n.querySelector("#btn-ask-ai");r&&r.addEventListener("click",()=>{Af(n)})}function jB(){const n=T.simpleVersion||T.aiResponse,e=`ğŸ”® è§£è¯»ç»“æœ

é—®ï¼š${T.question}

${n}`;navigator.share?navigator.share({title:"è§£è¯»ç»“æœ",text:e}).catch(A=>{console.log("åˆ†äº«å–æ¶ˆ:",A),es(e)}):es(e)}function es(n){navigator.clipboard.writeText(n).then(()=>{alert("ç»“æœå·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œå¯ä»¥ç²˜è´´åˆ†äº«")}).catch(e=>{console.error("å¤åˆ¶å¤±è´¥:",e)})}async function Af(n){T.isLoading=!0,T.progressPercent=0,T.remainingTime=60;const e=()=>{T.isLoading&&(T.remainingTime=Math.max(0,T.remainingTime-1),T.progressPercent=Math.min(95,T.progressPercent+1.5),T.loadingTip=As[Math.floor(T.progressPercent/12)]||As[0],Ze(n,{data:T}),T.isLoading&&setTimeout(e,1e3))};Ze(n,{data:T}),setTimeout(e,1e3);try{T.isLoading=!1,T.progressPercent=100,Ze(n,{data:T})}catch(A){console.error("è§£å¦å¤±è´¥:",A),T.isLoading=!1,alert("è§£å¦å¤±è´¥ï¼Œè¯·é‡è¯•"),Ze(n,{data:T})}}function ef(n,e={}){return Ze(n,e)}class tf{constructor(){this.records=[],this.total=0,this.page=1,this.pageSize=20,this.isLoading=!0,this.hasMore=!1}render(){return`
      <div class="page history-page">
        ${j({title:"å†å²è®°å½•",showBack:!0,showHistory:!1,showProfile:!1})}
        
        <main class="page-content">
          <div class="app-container">
            <div id="history-content">
              ${cs("åŠ è½½å†å²è®°å½•...")}
            </div>
          </div>
        </main>
      </div>
    `}attachEvents(){const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{window.router.back()}),this.loadRecords()}getLocalIdentity(){let e=null,A=null;const t=localStorage.getItem("user");if(t)try{const r=JSON.parse(t);e=r.id||r.userId||null}catch{}return A=localStorage.getItem("sessionId")||null,console.log(`[å†å²è®°å½•] æœ¬åœ°æ ‡è¯† - userId: ${e}, sessionId: ${A?A.slice(0,8)+"...":"null"}`),{userId:e,sessionId:A}}async loadRecords(){try{this.isLoading=!0;const e=document.getElementById("history-content");if(!e)return;const{userId:A,sessionId:t}=this.getLocalIdentity();if(!A&&!t){this.isLoading=!1,e.innerHTML=this.renderError("æœªæ‰¾åˆ°ç”¨æˆ·æ ‡è¯†ï¼Œè¯·å…ˆå®Œæˆä¸€æ¬¡æµ‹è¯•"),this.attachContentEvents();return}const r={page:this.page,pageSize:this.pageSize};A?r.userId=A:r.sessionId=t;const a=await tr.getRecords(r);a.success&&a.data&&(this.records=a.data.records||[],this.total=a.data.total||0,this.hasMore=this.records.length<this.total),this.isLoading=!1,e.innerHTML=this.renderContent(),this.attachContentEvents()}catch(e){console.error("åŠ è½½å†å²è®°å½•å¤±è´¥:",e),this.isLoading=!1;const A=document.getElementById("history-content");A&&(A.innerHTML=this.renderError(e.message),this.attachContentEvents())}}renderContent(){return this.records.length===0?`
        <div class="history-empty animate-fade-in-up">
          ${zi({icon:"ğŸ“­",title:"æš‚æ— å†å²è®°å½•",description:"å®Œæˆä¸€æ¬¡åŒ¹é…æµ‹è¯•åï¼Œè®°å½•å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ",actionText:"è¿”å›é¦–é¡µ"})}
        </div>
      `:`
      <div class="history-list animate-fade-in-up">
        <div class="history-table">
          <!-- è¡¨å¤´ -->
          <div class="history-table__header">
            <div class="history-table__cell history-table__cell--no">åºå·</div>
            <div class="history-table__cell history-table__cell--question">é—®é¢˜</div>
            <div class="history-table__cell history-table__cell--action">æµ‹ç®—ç»“æœ</div>
          </div>
          
          <!-- è¡¨ä½“ -->
          ${this.records.map(e=>`
            <div class="history-table__row" data-record-id="${e.id}">
              <div class="history-table__cell history-table__cell--no">${e.serialNumber}</div>
              <div class="history-table__cell history-table__cell--question">
                <span class="history-question-text" title="${this.escapeHtml(e.question)}">
                  ${this.truncateText(e.question,50)}
                </span>
              </div>
              <div class="history-table__cell history-table__cell--action">
                <span class="history-status history-status--success">${e.status}</span>
                <button class="btn btn--primary btn--xs history-detail-btn" 
                        data-record-id="${e.id}"
                        data-session-id="${e.sessionId||""}">
                  æŸ¥çœ‹è¯¦æƒ…
                </button>
              </div>
            </div>
          `).join("")}
        </div>

        <!-- åˆ†é¡µä¿¡æ¯ -->
        <div class="history-pagination">
          <span class="history-pagination__info">å…± ${this.total} æ¡è®°å½•</span>
          ${this.hasMore?`
            <button class="btn btn--outline btn--sm history-load-more">
              åŠ è½½æ›´å¤š
            </button>
          `:""}
        </div>
      </div>
    `}renderError(e){return`
      <div class="history-error text-center mt-8 animate-fade-in-up">
        <div class="history-error__icon">ğŸ˜¥</div>
        <p class="body-text-secondary mb-4">åŠ è½½å¤±è´¥ï¼š${e||"ç½‘ç»œé”™è¯¯"}</p>
        <button class="btn btn--primary btn--sm" id="history-retry-btn">
          é‡è¯•
        </button>
      </div>
    `}attachContentEvents(){document.querySelectorAll(".history-detail-btn").forEach(r=>{r.addEventListener("click",a=>{const s=r.dataset.recordId;r.dataset.sessionId,window.router.navigate(`/history/detail/${s}`)})});const e=document.querySelector('[data-action="empty-action"]');e&&e.addEventListener("click",()=>{window.router.navigate("/")});const A=document.getElementById("history-retry-btn");A&&A.addEventListener("click",()=>{this.loadRecords()});const t=document.querySelector(".history-load-more");t&&t.addEventListener("click",()=>{this.page++,this.loadMoreRecords()})}async loadMoreRecords(){try{const{userId:e,sessionId:A}=this.getLocalIdentity(),t={page:this.page,pageSize:this.pageSize};e?t.userId=e:t.sessionId=A;const r=await tr.getRecords(t);r.success&&r.data&&(this.records=[...this.records,...r.data.records||[]],this.total=r.data.total||0,this.hasMore=this.records.length<this.total);const a=document.getElementById("history-content");a&&(a.innerHTML=this.renderContent(),this.attachContentEvents())}catch(e){console.error("åŠ è½½æ›´å¤šè®°å½•å¤±è´¥:",e),window.showToast("åŠ è½½å¤±è´¥ï¼Œè¯·é‡è¯•","error")}}truncateText(e,A){return e?e.length>A?e.substring(0,A)+"...":e:""}escapeHtml(e){if(!e)return"";const A=document.createElement("div");return A.textContent=e,A.innerHTML}}class nf{constructor(e){this.recordId=e.id,this.record=null,this.isLoading=!0,this.error=null}render(){return`
      <div class="page history-detail-page">
        ${j({title:"è®°å½•è¯¦æƒ…",showBack:!0,showHistory:!1,showProfile:!1})}
        
        <main class="page-content">
          <div class="app-container">
            <div id="detail-content">
              ${cs("åŠ è½½è®°å½•è¯¦æƒ…...")}
            </div>
          </div>
        </main>
      </div>
    `}attachEvents(){const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{window.router.back()}),this.loadDetail()}getLocalIdentity(){let e=null,A=null;const t=localStorage.getItem("user");if(t)try{const r=JSON.parse(t);e=r.id||r.userId||null}catch{}return A=localStorage.getItem("sessionId")||null,{userId:e,sessionId:A}}async loadDetail(){try{this.isLoading=!0;const e=document.getElementById("detail-content");if(!e)return;const{userId:A,sessionId:t}=this.getLocalIdentity();console.log(`[å†å²è¯¦æƒ…] åŠ è½½è®°å½• ${this.recordId}, userId: ${A}, sessionId: ${t?t.slice(0,8)+"...":"null"}`);const r=await tr.getRecordDetail(this.recordId,{sessionId:t,userId:A});r.success&&r.data?this.record=r.data:this.error=r.message||"åŠ è½½å¤±è´¥",this.isLoading=!1,e.innerHTML=this.renderContent(),this.attachContentEvents()}catch(e){console.error("åŠ è½½è®°å½•è¯¦æƒ…å¤±è´¥:",e),this.error=e.message||"ç½‘ç»œé”™è¯¯",this.isLoading=!1;const A=document.getElementById("detail-content");A&&(A.innerHTML=this.renderError(),this.attachContentEvents())}}renderContent(){if(this.error)return this.renderError();if(!this.record)return this.renderError();const{question:e,result:A,reqData:t,createTime:r,status:a}=this.record;let s=null,i=null;t&&(t.personA?s=t.personA:t.person1_name&&(s={name:t.person1_name,birthDate:t.person1_birthday},i={name:t.person2_name,birthDate:t.person2_birthday}),t.personB&&(i=t.personB));let o="";A&&(typeof A=="string"?o=this.formatMarkdown(A):A.content?o=this.formatMarkdown(A.content):A.text?o=this.formatMarkdown(A.text):A.result?o=this.formatMarkdown(typeof A.result=="string"?A.result:JSON.stringify(A.result)):o=this.formatMarkdown(JSON.stringify(A,null,2)));const c=r?new Date(r).toLocaleString("zh-CN"):"";return`
      <div class="result-content animate-fade-in-up">
        <!-- è®°å½•ä¿¡æ¯å¤´ -->
        <div class="glass-card mb-4">
          <div class="history-detail-header">
            <div class="history-detail-meta">
              <span class="history-status history-status--success">${a}</span>
              <span class="history-detail-time">${c}</span>
            </div>
            <h3 class="heading-3 mt-2">${this.escapeHtml(e)}</h3>
          </div>
        </div>

        ${s&&i?`
        <!-- åŒæ–¹ä¿¡æ¯ -->
        <div class="glass-card persons-card mb-4">
          <div class="persons-row">
            <div class="person-info">
              <span class="person-avatar">${s.gender==="ç”·"?"ğŸ‘¨":"ğŸ‘©"}</span>
              <span class="person-name">${s.name||"ä½ "}</span>
              ${s.birthDate?`<span class="person-birth small-text">${s.birthDate}</span>`:""}
            </div>
            <div class="vs-badge">VS</div>
            <div class="person-info">
              <span class="person-avatar">${i.gender==="ç”·"?"ğŸ‘¨":"ğŸ‘©"}</span>
              <span class="person-name">${i.name||"å¯¹æ–¹"}</span>
              ${i.birthDate?`<span class="person-birth small-text">${i.birthDate}</span>`:""}
            </div>
          </div>
        </div>
        `:""}

        <!-- åˆ†æç»“æœ -->
        <div class="glass-card ai-result-card mb-4">
          <h4 class="heading-3 mb-4">ğŸ¤– åˆ†ææŠ¥å‘Š</h4>
          <div class="ai-content">
            ${o||'<p class="body-text-secondary">æš‚æ— åˆ†æç»“æœ</p>'}
          </div>
        </div>

        <!-- æ¸©é¦¨æç¤º -->
        <div class="glass-card glass-card--light disclaimer-card mb-4">
          <p class="small-text text-center" style="color: var(--color-text-tertiary);">
            âš ï¸ ä»¥ä¸Šåˆ†æä»…ä¾›å¨±ä¹å‚è€ƒï¼Œä¸æ„æˆä»»ä½•å†³ç­–å»ºè®®
          </p>
        </div>

        <!-- åº•éƒ¨æ“ä½œ -->
        <div class="history-detail-actions mb-8">
          <button class="btn btn--outline btn--md" id="back-to-history-btn">
            â† è¿”å›å†å²è®°å½•
          </button>
          <button class="btn btn--primary btn--md" id="back-to-home-btn">
            å†æ¥ä¸€æ¬¡
          </button>
        </div>
      </div>
    `}renderError(){return`
      <div class="history-error text-center mt-8 animate-fade-in-up">
        <div class="history-error__icon">ğŸ˜¥</div>
        <p class="body-text-secondary mb-4">${this.error||"è®°å½•ä¸å­˜åœ¨"}</p>
        <button class="btn btn--outline btn--sm" id="back-to-history-btn">
          è¿”å›å†å²è®°å½•
        </button>
      </div>
    `}attachContentEvents(){const e=document.getElementById("back-to-history-btn");e&&e.addEventListener("click",()=>{window.router.navigate("/history")});const A=document.getElementById("back-to-home-btn");A&&A.addEventListener("click",()=>{window.router.navigate("/")})}formatMarkdown(e){if(!e)return"";let A=e.split(`
`).filter(t=>{const r=t.trim();return!/ä»¥ä¸Šåˆ†æç”±.*ç”Ÿæˆ/.test(r)&&!/å†…å®¹ä»…ä¾›å‚è€ƒ.*åˆ‡å‹¿å…¨ä¿¡/.test(r)&&!/äººç”Ÿçš„ä¸»åŠ¨æƒ.*å§‹ç»ˆåœ¨/.test(r)}).join(`
`);return A=A.replace(/^### (.+)$/gm,'<h4 class="heading-4 mt-4 mb-2">$1</h4>'),A=A.replace(/^## (.+)$/gm,'<h3 class="heading-3 mt-4 mb-2">$1</h3>'),A=A.replace(/^# (.+)$/gm,'<h2 class="heading-2 mt-4 mb-2">$1</h2>'),A=A.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>"),A=A.replace(/\*(.+?)\*/g,"<em>$1</em>"),A=A.replace(/^[-*] (.+)$/gm,"<li>$1</li>"),A=A.replace(/((?:<li>.*<\/li>\n?)+)/g,'<ul class="ai-list">$1</ul>'),A=A.replace(/^\d+\. (.+)$/gm,"<li>$1</li>"),A=A.replace(/^---$/gm,'<hr class="divider">'),A=A.replace(/^(?!<[a-z])((?!\s*$).+)$/gm,'<p class="body-text mb-2">$1</p>'),A=A.replace(/\n{3,}/g,`

`),A}escapeHtml(e){if(!e)return"";const A=document.createElement("div");return A.textContent=e,A.innerHTML}}class rf{constructor(){this.user=Qe.getLocalUser(),this.gender=localStorage.getItem("user_gender")||"æœªçŸ¥",this.isEditing=!1}render(){const e=this.user?.phone||"",A=e?e.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2"):"æœªç»‘å®š",t=this.user?.nickname||"æœªè®¾ç½®";return`
      <div class="page profile-page">
        ${j({title:"æˆ‘çš„",showBack:!0,showHistory:!1,showProfile:!1})}
        
        <main class="page-content">
          <div class="app-container">
            
            <!-- å¤´åƒåŒºåŸŸ -->
            <section class="profile-header animate-fade-in-up">
              <div class="glass-card text-center" style="padding: 2rem 1.5rem;">
                <div class="profile-avatar">ğŸ‘¤</div>
                <h2 class="profile-nickname">${t}</h2>
              </div>
            </section>

            <!-- ä¿¡æ¯åˆ—è¡¨ -->
            <section class="profile-info-section animate-fade-in-up animate-delay-100">
              <div class="glass-card" style="padding: 0;">
                
                <!-- ç§°å‘¼ -->
                <div class="profile-info-item">
                  <div class="profile-info-label">ç§°å‘¼</div>
                  <div class="profile-info-value">
                    ${this.isEditing?`
                      <input type="text" id="edit-nickname" class="profile-edit-input" 
                             value="${t}" maxlength="20" placeholder="è¯·è¾“å…¥ç§°å‘¼">
                    `:`
                      <span id="display-nickname">${t}</span>
                      <button class="profile-edit-btn" data-action="edit-nickname">âœï¸</button>
                    `}
                  </div>
                </div>

                <!-- æ‰‹æœºå· -->
                <div class="profile-info-item">
                  <div class="profile-info-label">æ‰‹æœºå·</div>
                  <div class="profile-info-value">
                    <span>${A}</span>
                  </div>
                </div>

                <!-- æ€§åˆ« -->
                <div class="profile-info-item" style="border-bottom: none;">
                  <div class="profile-info-label">æ€§åˆ«</div>
                  <div class="profile-info-value">
                    <div class="profile-gender-selector">
                      <button class="gender-option ${this.gender==="ç”·"?"active":""}" data-gender="ç”·">â™‚ ç”·</button>
                      <button class="gender-option ${this.gender==="å¥³"?"active":""}" data-gender="å¥³">â™€ å¥³</button>
                      <button class="gender-option ${this.gender==="æœªçŸ¥"?"active":""}" data-gender="æœªçŸ¥">æœªçŸ¥</button>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <!-- ä¿å­˜æŒ‰é’®ï¼ˆç¼–è¾‘æ—¶æ˜¾ç¤ºï¼‰ -->
            ${this.isEditing?`
              <section class="animate-fade-in-up animate-delay-200" style="margin-top: 1.5rem;">
                <button class="btn btn--primary btn--full" data-action="save-nickname">ä¿å­˜</button>
              </section>
            `:""}

            <!-- é€€å‡ºç™»å½• -->
            <section class="animate-fade-in-up animate-delay-200" style="margin-top: 2rem;">
              <button class="btn btn--ghost btn--full profile-logout-btn" data-action="logout">
                é€€å‡ºç™»å½•
              </button>
            </section>

            <div class="mt-8 safe-area-bottom"></div>
          </div>
        </main>
      </div>
    `}attachEvents(){const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{window.router.back()});const A=document.querySelector('[data-action="edit-nickname"]');A&&A.addEventListener("click",()=>{this.isEditing=!0,this.rerender()});const t=document.querySelector('[data-action="save-nickname"]');t&&t.addEventListener("click",()=>this.saveNickname());const r=document.getElementById("edit-nickname");r&&(r.focus(),r.addEventListener("keydown",s=>{s.key==="Enter"&&this.saveNickname()})),document.querySelectorAll(".gender-option").forEach(s=>{s.addEventListener("click",()=>{const i=s.dataset.gender;this.gender=i,localStorage.setItem("user_gender",i),document.querySelectorAll(".gender-option").forEach(o=>o.classList.remove("active")),s.classList.add("active"),window.showToast("å·²æ›´æ–°","success")})});const a=document.querySelector('[data-action="logout"]');a&&a.addEventListener("click",()=>{Qe.logout(),localStorage.removeItem("userId"),localStorage.removeItem("user_gender"),window.showToast("å·²é€€å‡ºç™»å½•","success"),setTimeout(()=>{window.router.navigate("/")},500)})}saveNickname(){const e=document.getElementById("edit-nickname");if(!e)return;const A=e.value.trim();if(!A){window.showToast("ç§°å‘¼ä¸èƒ½ä¸ºç©º","error");return}this.user&&(this.user.nickname=A,localStorage.setItem("user",JSON.stringify(this.user))),this.isEditing=!1,window.showToast("å·²ä¿å­˜","success"),this.rerender()}rerender(){const e=document.getElementById("app");e&&(e.innerHTML=this.render(),this.attachEvents())}}function ct(){const n=new Date,e=n.getFullYear(),A=String(n.getMonth()+1).padStart(2,"0"),t=String(n.getDate()).padStart(2,"0"),r=String(n.getHours()).padStart(2,"0"),a=String(n.getMinutes()).padStart(2,"0"),s=String(n.getSeconds()).padStart(2,"0");return`${e}-${A}-${t} ${r}:${a}:${s}`}function ts(){console.log(`[${ct()}] âœ¨ åŒ¹é…æ¸¸æˆå¯åŠ¨ä¸­...`),af(),sf(),cf(),of(),cn.start(),console.log(`[${ct()}] âœ¨ åŒ¹é…æ¸¸æˆå¯åŠ¨å®Œæˆï¼`)}function af(){let n=localStorage.getItem("sessionId");n||(n=crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const A=Math.random()*16|0;return(e==="x"?A:A&3|8).toString(16)}),localStorage.setItem("sessionId",n)),window.appSession={id:n,createdAt:new Date().toISOString()},console.log(`[${ct()}] ğŸ“‹ SessionId: ${n.slice(0,8)}...`)}function sf(){cn.register("/",eo).register("/topics",to).register("/xhs",ro).register("/xhs/test",oo).register("/auth",co).register("/test/:type",uo).register("/test/:type/birthday",Io).register("/test/:type/tarot",Do).register("/test/:type/tarot/taboo",To).register("/test/:type/tarot/principle",Ko).register("/test/:type/tarot/shuffle",Ro).register("/test/:type/tarot/pick",jo).register("/test/:type/tarot/card-selection",ec).register("/test/:type/tarot/result-loading",tc).register("/test/:type/tarot/result",IB).register("/pay/:type",$B).register("/product/:type",VB).register("/result/:id",GB).register("/divination/result",ef).register("/history",tf).register("/history/detail/:id",nf).register("/profile",rf)}async function of(){try{const n=await Xi.getServerState();n.success&&n.data&&(Ie.set("serverState",n.data.serverState),console.log(`[${ct()}] ğŸ”§ æœåŠ¡ç«¯çŠ¶æ€: ${n.data.serverState}`))}catch(n){console.warn(`[${ct()}] âš ï¸ è·å–æœåŠ¡ç«¯çŠ¶æ€å¤±è´¥:`,n.message),Ie.set("serverState","production")}}function cf(){window.showToast=lf,window.appState=Ie,window.router=cn,document.body.addEventListener("touchmove",function(n){n.target.closest(".page-content")||n.preventDefault()},{passive:!1})}function lf(n,e="default",A=2500){const t=document.querySelector(".toast");t&&t.remove();const r=document.createElement("div");r.className=`toast ${e!=="default"?`toast--${e}`:""}`,r.textContent=n,document.body.appendChild(r),requestAnimationFrame(()=>{r.classList.add("toast--visible")}),setTimeout(()=>{r.classList.remove("toast--visible"),setTimeout(()=>r.remove(),300)},A)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",ts):ts();
