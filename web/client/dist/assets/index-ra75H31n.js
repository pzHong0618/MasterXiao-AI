(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function A(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=A(r);fetch(r.href,a)}})();class Ni{constructor(){this.routes=new Map,this.currentPage=null,this.currentParams={},this.history=[],window.addEventListener("popstate",e=>{this.handleRoute(window.location.pathname,!1)})}register(e,A){return this.routes.set(e,A),this}navigate(e,A={}){this.history.push({path:window.location.pathname,state:this.currentParams}),window.history.pushState(A,"",e),this.handleRoute(e,!0)}back(){this.history.length>0?window.history.back():this.navigate("/")}handleRoute(e,A=!0){const[n,r]=e.split("?"),{handler:a,params:s}=this.matchRoute(n);if(!a){console.warn(`è·¯ç”±æœªæ‰¾åˆ°: ${n}`),n!=="/"&&this.navigate("/");return}if(r){const c=new URLSearchParams(r);for(const[l,B]of c)s[l]=B}this.currentParams=s;const i=document.getElementById("app");if(!i){console.error("æ‰¾ä¸åˆ° #app å®¹å™¨");return}const o=i.querySelector(".page");o&&o.classList.add(A?"page-exit":"page-exit-back"),setTimeout(()=>{let c;if(typeof a=="function")try{c=new a(s)}catch{c=a(s)}if(c&&typeof c.render=="function"){i.innerHTML=c.render();const l=i.querySelector(".page");l&&l.classList.add(A?"page-enter":"page-enter-back"),typeof c.attachEvents=="function"&&c.attachEvents(),typeof c.init=="function"&&c.init(),this.currentPage=c}else typeof c=="string"&&(i.innerHTML=c);window.scrollTo(0,0)},o?250:0)}matchRoute(e){if(this.routes.has(e))return{handler:this.routes.get(e),params:{}};for(const[A,n]of this.routes){const r=this.extractParams(A,e);if(r!==null)return{handler:n,params:r}}return{handler:null,params:{}}}extractParams(e,A){const n=e.split("/").filter(Boolean),r=A.split("/").filter(Boolean);if(n.length!==r.length)return null;const a={};for(let s=0;s<n.length;s++)if(n[s].startsWith(":")){const i=n[s].slice(1);a[i]=decodeURIComponent(r[s])}else if(n[s]!==r[s])return null;return a}getParams(){return this.currentParams}start(){this.handleRoute(window.location.pathname,!1)}}const nn=new Ni;window.router=nn;class Pi{constructor(){this.state={},this.listeners=new Map,this.storageKey="matching_game_state",this.loadFromStorage()}get(e,A=null){return e in this.state?this.state[e]:A}set(e,A,n=!1){const r=this.state[e];this.state[e]=A,this.listeners.has(e)&&this.listeners.get(e).forEach(a=>{a(A,r)}),n&&this.saveToStorage()}update(e,A,n=!1){const r=this.get(e,{});this.set(e,{...r,...A},n)}delete(e){delete this.state[e],this.saveToStorage()}subscribe(e,A){return this.listeners.has(e)||this.listeners.set(e,new Set),this.listeners.get(e).add(A),()=>{this.listeners.get(e).delete(A)}}saveToStorage(){try{const e={user:this.state.user,testHistory:this.state.testHistory,settings:this.state.settings};localStorage.setItem(this.storageKey,JSON.stringify(e))}catch(e){console.warn("ä¿å­˜çŠ¶æ€å¤±è´¥:",e)}}loadFromStorage(){try{const e=localStorage.getItem(this.storageKey);if(e){const A=JSON.parse(e);this.state={...this.state,...A}}}catch(e){console.warn("åŠ è½½çŠ¶æ€å¤±è´¥:",e)}}clear(){this.state={},localStorage.removeItem(this.storageKey)}}const He=new Pi;He.set("currentTest",null);He.set("testProgress",{step:0,total:0});function ns(){return typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function Gi(){if(localStorage.getItem("sessionId"))console.log("âœ… å·²æœ‰ä¼šè¯, sessionId:",localStorage.getItem("sessionId"));else{const t=ns();localStorage.setItem("sessionId",t),console.log("âœ… æ–°ä¼šè¯å·²åˆ›å»º, sessionId:",t)}}function Fr(){let t=localStorage.getItem("sessionId");return t||(t=ns(),localStorage.setItem("sessionId",t)),t}Gi();window.appState=He;const rn=()=>"/api",rs=rn();async function V(t,e={}){const A=`${rs}${t}`,n={"Content-Type":"application/json"},r=localStorage.getItem("auth_token");r&&(n.Authorization=`Bearer ${r}`);const a={...e,headers:{...n,...e.headers}};try{const s=await fetch(A,a),i=await s.json();if(!s.ok)throw new ye(i.error?.message||"è¯·æ±‚å¤±è´¥",i.error?.code,s.status);return i}catch(s){throw s instanceof ye?s:new ye("ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œ","NETWORK_ERROR",0)}}class ye extends Error{constructor(e,A,n){super(e),this.code=A,this.status=n}}const ce={async sendSms(t,e="login"){return V("/auth/send-sms",{method:"POST",body:JSON.stringify({phone:t,type:e})})},async sendCode(t){return V("/auth/send-code",{method:"POST",body:JSON.stringify({phone:t})})},async register(t){const e=await V("/auth/register",{method:"POST",body:JSON.stringify(t)});return e.success&&e.data?.token&&(localStorage.setItem("auth_token",e.data.token),localStorage.setItem("user",JSON.stringify(e.data.user)),e.data.user?.id&&localStorage.setItem("userId",e.data.user.id)),e},async quickLogin(t,e){const A={phone:t,sessionId:localStorage.getItem("sessionId")||""};e&&(A.smsCode=e);const n=await V("/auth/quick-login",{method:"POST",body:JSON.stringify(A)});return n.success&&n.data?.token&&(localStorage.setItem("auth_token",n.data.token),localStorage.setItem("user",JSON.stringify(n.data.user)),n.data.user?.id&&localStorage.setItem("userId",n.data.user.id)),n},async login(t,e){const A=await V("/auth/login",{method:"POST",body:JSON.stringify({phone:t,code:e})});return A.success&&A.data?.token&&(localStorage.setItem("auth_token",A.data.token),localStorage.setItem("user",JSON.stringify(A.data.user)),A.data.user?.id&&localStorage.setItem("userId",A.data.user.id)),A},async loginWithPassword(t,e,A=!1){const n=await V("/auth/login",{method:"POST",body:JSON.stringify({phone:t,password:e,rememberMe:A})});return n.success&&n.data?.token&&(localStorage.setItem("auth_token",n.data.token),localStorage.setItem("user",JSON.stringify(n.data.user)),n.data.user?.id&&localStorage.setItem("userId",n.data.user.id)),n},async resetPassword(t){return V("/auth/reset-password",{method:"POST",body:JSON.stringify(t)})},async getMe(){return V("/auth/me")},logout(){localStorage.removeItem("auth_token"),localStorage.removeItem("user"),localStorage.removeItem("userId")},isLoggedIn(){return!!localStorage.getItem("auth_token")},getLocalUser(){const t=localStorage.getItem("user");return t?JSON.parse(t):null}},Vi={async birthday(t){return V("/analysis/birthday",{method:"POST",body:JSON.stringify(t)})},async birthMatchStream(t,{onChunk:e,onDone:A,onError:n,signal:r}){try{const a=await fetch(`${rs}/analysis/birthMatch`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t),signal:r});if(!a.ok){const c=await a.json();throw new ye(c.error?.message||"è¯·æ±‚å¤±è´¥",c.error?.code,a.status)}const s=a.body.getReader(),i=new TextDecoder;let o="";for(;;){const{done:c,value:l}=await s.read();if(c)break;const g=i.decode(l,{stream:!0}).split(`

`).filter(w=>w.trim());for(const w of g)if(w.startsWith("data: ")){const m=w.slice(6);if(m==="[DONE]"){A?.(o);return}try{const h=JSON.parse(m);if(h.content&&(o+=h.content,e?.(h.content,o)),h.error)throw new ye(h.error,"STREAM_ERROR",500)}catch(h){if(h instanceof ye)throw h}}}A?.(o)}catch(a){throw n?.(a),a}},async hexagram(t){return V("/analysis/hexagram",{method:"POST",body:JSON.stringify(t)})},async getResult(t){return V(`/analysis/result/${t}`)}},$i={async checkPermission(t,e){return V("/user/check-permission",{method:"POST",body:JSON.stringify({testTypeId:t,sessionId:e})})},async updateProfile(t){return V("/user/profile",{method:"PUT",body:JSON.stringify(t)})},async getInviteInfo(){return V("/user/invite")},async applyInviteCode(t){return V("/user/invite/apply",{method:"POST",body:JSON.stringify({inviteCode:t})})},async getCredits(){return V("/user/credits")}},Fn={async createOrder(t){return V("/payment/create-order",{method:"POST",body:JSON.stringify(t)})},async getOrderStatus(t){return V(`/payment/order/${t}`)},async simulatePay(t){return V("/payment/simulate-pay",{method:"POST",body:JSON.stringify({orderId:t})})},async redeem(t){return V("/payment/redeem",{method:"POST",body:JSON.stringify({redeemCode:t})})},async getOrders(){return V("/payment/orders")}},an={async create(t,e,A=null){const n=e?.method||null,r=e?.type||null;return V("/match/record/create",{method:"POST",body:JSON.stringify({sessionId:t,reqData:e,userId:A,method:n,type:r})})},async updateStatus(t,e,A,n=null){return V("/match/record/update-status",{method:"PUT",body:JSON.stringify({sessionId:t,userId:e,status:A,resultData:n})})},async getStatus(t){return V(`/match/record/status?sessionId=${encodeURIComponent(t)}`)},async getDetail(t){return V(`/match/record/detail?sessionId=${encodeURIComponent(t)}`)}},zn={async getRecords(t={}){const e=new URLSearchParams;return t.sessionId&&e.append("sessionId",t.sessionId),t.userId&&e.append("userId",t.userId),t.page&&e.append("page",t.page),t.pageSize&&e.append("pageSize",t.pageSize),V(`/history/records?${e.toString()}`)},async getRecordDetail(t,e={}){const A=new URLSearchParams;return e.sessionId&&A.append("sessionId",e.sessionId),e.userId&&A.append("userId",e.userId),V(`/history/record/${t}?${A.toString()}`)}},Yi={async getServerState(){return V("/config/server-state")}},as=[{id:"love",icon:"ğŸ’‘",title:"æ„Ÿæƒ…åŒ¹é…",description:"æµ‹è¯•ä½ ä»¬çš„å¥‘åˆæŒ‡æ•°",longDescription:"é€šè¿‡ç”Ÿæ—¥ç‰¹è´¨æˆ–ç›´è§‰å¡”ç½—åˆ†æï¼Œæ·±å…¥äº†è§£ä½ ä¸TAä¹‹é—´çš„æ€§æ ¼å¥‘åˆåº¦ï¼Œæ¢ç´¢ä¸¤äººæ€§æ ¼çš„äº’è¡¥ä¸æ‘©æ“¦ç‚¹ã€‚",price:29.9,category:"relationship",popular:!0,features:["æ€§æ ¼ç‰¹è´¨åˆ†æ","æ€§æ ¼äº’è¡¥æ€§è¯„ä¼°","ç›¸å¤„å»ºè®®"]},{id:"career",icon:"ğŸ’¼",title:"èŒåœºå…³ç³»",description:"è§£æèŒåœºäººé™…å…³ç³»",longDescription:"åˆ†æä½ ä¸åŒäº‹ã€é¢†å¯¼ä¹‹é—´çš„ç›¸å¤„ä¹‹é“ï¼Œäº†è§£èŒåœºä¸­çš„æ½œåœ¨åŠ©åŠ›ä¸é˜»åŠ›ã€‚",price:29.9,category:"career",popular:!0,features:["é¢†å¯¼å…³ç³»åˆ†æ","åŒäº‹ç›¸å¤„å»ºè®®","èŒåœºé£é™©æç¤º"]},{id:"cooperation",icon:"ğŸ¤",title:"åˆä½œå…³ç³»",description:"çœ‹æ¸…åˆä½œå¯¹è±¡ï¼Œæ—©åšå†³å®š",longDescription:"è¯„ä¼°ä½ ä¸æ½œåœ¨åˆä½œä¼™ä¼´çš„å¥‘åˆåº¦ï¼Œåˆ†æåˆä½œä¸­å¯èƒ½é‡åˆ°çš„æŒ‘æˆ˜ä¸æœºé‡ã€‚",price:29.9,category:"career",popular:!1,features:["åˆä½œå¥‘åˆåº¦è¯„åˆ†","é£é™©é¢„è­¦","åˆä½œç­–ç•¥å»ºè®®"]},{id:"thoughts",icon:"ğŸ’­",title:"TAçš„æƒ³æ³•å’Œæ€åº¦",description:"æ­å¼€TAçš„çœŸå®æƒ³æ³•",longDescription:"é€šè¿‡ç›´è§‰å¡”ç½—æµ‹è¯•ï¼Œæ¢ç´¢å¯¹æ–¹å†…å¿ƒçš„çœŸå®æƒ³æ³•å’Œå¯¹ä½ çš„æ€åº¦ã€‚",price:29.9,category:"relationship",popular:!0,features:["å¯¹æ–¹å¿ƒç†åˆ†æ","çœŸå®æ€åº¦è§£è¯»","æ²Ÿé€šå»ºè®®"]},{id:"job",icon:"ğŸ“ˆ",title:"èŒä¸šå‘å±•",description:"æ‰¾åˆ°æœ€é€‚åˆä½ çš„èŒä¸šæ–¹å‘",longDescription:"åŸºäºä½ çš„æ€§æ ¼ç‰¹å¾åˆ†æï¼Œä¸ºä½ æ¨èæœ€é€‚åˆçš„èŒä¸šå‘å±•æ–¹å‘ã€‚",price:29.9,category:"career",popular:!1,features:["æ€§æ ¼èŒä¸šåŒ¹é…","è¡Œä¸šæ¨è","å‘å±•è·¯å¾„è§„åˆ’"]},{id:"city",icon:"ğŸ—ºï¸",title:"åŸå¸‚æ–¹å‘",description:"å“ªåº§åŸå¸‚æœ€é€‚åˆä½ å‘å±•",longDescription:"æ ¹æ®ä½ çš„å‡ºç”Ÿåœ°å’Œæ€§æ ¼ç‰¹å¾ï¼Œåˆ†ææœ€é€‚åˆä½ å‘å±•çš„åŸå¸‚æ–¹å‘ã€‚",price:29.9,category:"direction",popular:!1,features:["æ–¹ä½é€‚é…åˆ†æ","åŸå¸‚æ¨è","å‘å±•å»ºè®®"]},{id:"peach",icon:"ğŸŒ¸",title:"ç¤¾äº¤é­…åŠ›",description:"æµ‹è¯•ä½ çš„ç¤¾äº¤é­…åŠ›å€¼",longDescription:"åˆ†æä½ è¿‘æœŸçš„ç¤¾äº¤çŠ¶æ€ï¼Œäº†è§£æå‡äººé™…å¸å¼•åŠ›çš„æ–¹å¼ã€‚",price:29.9,category:"relationship",popular:!0,features:["ç¤¾äº¤é­…åŠ›åˆ†æ","æå‡å»ºè®®","äººé™…å…³ç³»æŒ‡å¯¼"]},{id:"benefactor",icon:"â­",title:"äººè„‰åˆ†æ",description:"å‘ç°ä½ èº«è¾¹çš„åŠ©åŠ›è€…",longDescription:"åˆ†æé€‚åˆä½ çš„äººè„‰ç‰¹å¾ï¼Œå¸®åŠ©ä½ è¯†åˆ«å’Œæ‹“å±•æœ‰ä»·å€¼çš„äººé™…å…³ç³»ã€‚",price:29.9,category:"direction",popular:!1,features:["äººè„‰ç‰¹å¾åˆ†æ","è¯†åˆ«æ–¹æ³•","ç¤¾äº¤å»ºè®®"]},{id:"yesno",icon:"â“",title:"Yes or No",description:"çŠ¹è±«æ—¶ï¼Œå¿«é€Ÿå¸®ä½ åˆ¤æ–­",longDescription:"é¢å¯¹é€‰æ‹©çŠ¹è±«ä¸å†³ï¼Ÿè®©ç›´è§‰å¡”ç½—ç»™ä½ ä¸€ä¸ªå‚è€ƒç­”æ¡ˆã€‚",price:19.9,category:"decision",popular:!0,features:["å¿«é€Ÿæµ‹è¯•","æ˜ç¡®ç­”æ¡ˆ","è¡ŒåŠ¨å»ºè®®"]},{id:"choice",icon:"âš–ï¸",title:"äºŒé€‰ä¸€",description:"å·¦å³ä¸ºéš¾ï¼Ÿå¸®ä½ ç¨³å¦¥é€‰å¯¹",longDescription:"ä¸¤ä¸ªé€‰æ‹©å·¦å³ä¸ºéš¾ï¼Ÿç›´è§‰å¡”ç½—å¸®ä½ åˆ†ææ¯ä¸ªé€‰æ‹©çš„åˆ©å¼Šã€‚",price:19.9,category:"decision",popular:!1,features:["åŒé€‰å¯¹æ¯”åˆ†æ","åˆ©å¼Šæƒè¡¡","æœ€ä¼˜å»ºè®®"]}];function UA(t){return as.find(e=>e.id===t)}function aA(t={}){const{title:e="åŒ¹é…æ¸¸æˆ",showBack:A=!1,showHistory:n=!1,showProfile:r=!0,onBack:a=null}=t;return`
    <nav class="navbar">
      <div class="navbar__left">
        ${A?'<button class="navbar__back-btn" data-action="back">â†</button>':""}
        <div class="navbar__logo">${e}</div>
      </div>
      <div class="navbar__actions">
        ${n?'<button class="navbar__icon-btn" data-action="history" title="å†å²è®°å½•">ğŸ•</button>':""}
        ${r?'<button class="navbar__icon-btn navbar__profile-btn" data-action="profile" title="ä¸ªäººä¸­å¿ƒ">ğŸ‘¤</button>':""}
      </div>
    </nav>
  `}function ss(t={}){const{icon:e="âœ¨",title:A="å‘ç°ä½ çš„æ€§æ ¼å¥‘åˆåº¦",subtitle:n="æ¢ç´¢äººé™…å…³ç³»çš„å¥¥ç§˜",buttonText:r="å¼€å§‹æµ‹è¯•",onButtonClick:a=null}=t;return`
    <section class="hero-banner">
      <div class="glass-card text-center animate-fade-in-up">
        <div class="hero-banner__icon animate-float">${e}</div>
        <h1 class="heading-1 mb-2">${A}</h1>
        <p class="body-text-secondary mb-4">${n}</p>
        <button class="btn btn--primary btn--lg" data-action="hero-start">
          <span>âœ¨</span>
          <span>${r}</span>
        </button>
      </div>
    </section>
  `}function ct(t,e,A={}){const{showText:n=!0,showSteps:r=!1,stepLabel:a=""}=A,s=Math.min(t/e*100,100),i=a?`<div class="progress-bar__label">${a}</div>`:"",o=n?`<div class="progress-bar__text">${t} / ${e}</div>`:"";return`
    <div class="progress-bar">
      <div class="progress-bar__track-wrapper">
        <div class="progress-bar__track">
          <div class="progress-bar__fill" style="width: ${s}%"></div>
        </div>
      </div>
      ${i}
      ${o}
    </div>
  `}function is(t="åŠ è½½ä¸­..."){return`
    <div class="loading-indicator">
      <div class="loading-dots">
        <span class="loading-dots__dot"></span>
        <span class="loading-dots__dot"></span>
        <span class="loading-dots__dot"></span>
      </div>
      <p class="small-text mt-2">${t}</p>
    </div>
  `}function Ji(t={}){const{icon:e="ğŸ“­",title:A="æš‚æ— å†…å®¹",description:n="",actionText:r=null,onAction:a=null}=t,s=r?`<button class="btn btn--primary btn--sm mt-4" data-action="empty-action">${r}</button>`:"";return`
    <div class="empty-state">
      <div class="empty-state__icon">${e}</div>
      <h3 class="empty-state__title">${A}</h3>
      ${n?`<p class="empty-state__description">${n}</p>`:""}
      ${s}
    </div>
  `}function Xi(t,e={}){window.router&&typeof window.router.navigate=="function"?window.router.navigate(t,e):(console.warn("è·¯ç”±å™¨ä¸å¯ç”¨ï¼Œä½¿ç”¨ location å¯¼èˆª"),window.location.href=t)}function os(t,e={}){const{showPrice:A=!1,showBadge:n=!0,onClick:r=null}=e,a=n&&t.popular?'<span class="feature-card__badge">çƒ­é—¨</span>':"",s=A?`<span class="feature-card__price">Â¥${t.price}</span>`:"";return`
    <div class="glass-card glass-card--interactive feature-card" data-type="${t.id}">
      ${a}
      <div class="feature-card__icon">${t.icon}</div>
      <div class="feature-card__content">
        <h3 class="feature-card__title">${t.title}</h3>
        <p class="feature-card__description">${t.description}</p>
      </div>
      ${s}
      <span class="feature-card__arrow">â†’</span>
    </div>
  `}function qi(t){return`
    <div class="glass-card feature-card-detail">
      <div class="feature-card-detail__header">
        <span class="feature-card-detail__icon">${t.icon}</span>
        <div>
          <h2 class="heading-2">${t.title}</h2>
          <p class="small-text">${t.description}</p>
        </div>
      </div>
      
      <div class="divider"></div>
      
      <p class="body-text-secondary mb-4">${t.longDescription}</p>
      
      <div class="feature-card-detail__features">
        <h4 class="small-text mb-2" style="color: var(--color-primary);">åŒ…å«å†…å®¹ï¼š</h4>
        <ul class="feature-list">
          ${t.features.map(e=>`
            <li class="feature-list__item">
              <span class="feature-list__icon">âœ“</span>
              <span>${e}</span>
            </li>
          `).join("")}
        </ul>
      </div>
      
    </div>
  `}class Wi{constructor(){this.matchTypes=as}render(){return`
      <div class="page home-page">
        ${aA({title:"åŒ¹é…æ¸¸æˆ",showBack:!1,showHistory:!0,showProfile:!0})}
        
        <main class="page-content">
          <div class="app-container">
            
            <!-- æ¬¢è¿æ¨ªå¹… -->
            ${ss({icon:"âœ¨",title:"å‘ç°ä½ çš„æ€§æ ¼å¥‘åˆåº¦",subtitle:"æ¢ç´¢äººé™…å…³ç³»çš„å¥¥ç§˜",buttonText:"å¼€å§‹åŒ¹é…..."})}

            <!-- åœºæ™¯æµ‹è¯•æ ‡é¢˜ -->
            <section class="section-header mt-6 mb-4">
              <h2 class="heading-2 text-center" style="color: var(--color-text-secondary);">
                è¶£å‘³æµ‹è¯•
              </h2>
            </section>

            <!-- åŠŸèƒ½å¡ç‰‡åˆ—è¡¨ -->
            <section class="feature-list">
              ${this.matchTypes.map((e,A)=>`
                <div class="animate-fade-in-up animate-delay-${Math.min((A+1)*100,500)} animate-hidden">
                  ${os(e,{showBadge:!0})}
                </div>
              `).join("")}
            </section>

            <!-- åº•éƒ¨é—´è· -->
            <div class="mt-8 safe-area-bottom"></div>
          </div>
        </main>
      </div>
    `}attachEvents(){this.initAnimations(),document.querySelectorAll(".feature-card").forEach(A=>{A.addEventListener("click",n=>{const r=A.dataset.type;this.handleFeatureClick(r)})});const e=document.querySelector('[data-action="hero-start"]');e&&e.addEventListener("click",()=>{document.querySelector(".feature-list")?.scrollIntoView({behavior:"smooth"})}),document.querySelectorAll(".navbar__icon-btn").forEach(A=>{A.addEventListener("click",()=>{const n=A.dataset.action;this.handleNavAction(n)})})}initAnimations(){const e=document.querySelectorAll(".animate-hidden"),A=new IntersectionObserver(n=>{n.forEach(r=>{r.isIntersecting&&(r.target.classList.remove("animate-hidden"),A.unobserve(r.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});e.forEach(n=>A.observe(n))}handleFeatureClick(e){const A=new Date,n=`${A.getFullYear()}-${String(A.getMonth()+1).padStart(2,"0")}-${String(A.getDate()).padStart(2,"0")} ${String(A.getHours()).padStart(2,"0")}:${String(A.getMinutes()).padStart(2,"0")}:${String(A.getSeconds()).padStart(2,"0")}`;console.log(`[${n}] é€‰æ‹©äº†åŒ¹é…ç±»å‹: ${e}`),window.router.navigate(`/test/${e}`)}handleNavAction(e){switch(e){case"history":this.goToHistory();break;case"profile":this.goToProfile();break}}goToProfile(){localStorage.getItem("auth_token")?window.router.navigate("/profile"):window.router.navigate("/auth?action=login")}goToHistory(){const e=localStorage.getItem("user");let A=null;if(e)try{const r=JSON.parse(e);A=r.id||r.userId||null}catch{}const n=localStorage.getItem("sessionId");if(console.log(`[å†å²è®°å½•] userId: ${A}, sessionId: ${n?n.slice(0,8)+"...":"null"}`),!A&&!n){window.showToast("è¯·å…ˆå®Œæˆä¸€æ¬¡æµ‹è¯•","error");return}window.router.navigate("/history")}}const Rr=["love","cooperation","city","job"];class zi{constructor(){this.matchTypes=Rr.map(A=>UA(A)).filter(A=>A!==void 0);const e=new URLSearchParams(window.location.search);this.targetType=e.get("t"),this.redeemCode=e.get("s"),this.targetType&&!Rr.includes(this.targetType)&&(this.targetType=null)}render(){const e=this.targetType?"å¼€å§‹æµ‹è¯•":"é€‰æ‹©æµ‹è¯•";return`
      <div class="page home-page xhs-landing-page">
        ${aA({title:"è¶£å‘³æ€§æ ¼æµ‹è¯•å¹³å°",showBack:!1,showHistory:!1,showProfile:!1})}
        
        <main class="page-content">
          <div class="app-container">
            
            <!-- æ¬¢è¿æ¨ªå¹… -->
            ${ss({icon:"âœ¨",title:"å‘ç°ä½ çš„æ€§æ ¼å¥‘åˆåº¦",subtitle:"æ¢ç´¢äººé™…å…³ç³»çš„å¥¥ç§˜",buttonText:e})}

            <!-- åœºæ™¯æµ‹è¯•æ ‡é¢˜ -->
            <section class="section-header mt-6 mb-4">
              <h2 class="heading-2 text-center" style="color: var(--color-text-secondary);">
                çƒ­é—¨æµ‹è¯•
              </h2>
            </section>

            <!-- åŠŸèƒ½å¡ç‰‡åˆ—è¡¨ -->
            <section class="feature-list">
              ${this.matchTypes.map((A,n)=>`
                <div class="animate-fade-in-up animate-delay-${Math.min((n+1)*100,500)} animate-hidden">
                  ${os(A,{showBadge:!0})}
                </div>
              `).join("")}
            </section>

            <!-- åº•éƒ¨é—´è· -->
            <div class="mt-8 safe-area-bottom"></div>
          </div>
        </main>
      </div>
    `}attachEvents(){this.initAnimations(),document.querySelectorAll(".feature-card").forEach(A=>{A.addEventListener("click",n=>{const r=A.dataset.type;this.handleFeatureClick(r)})});const e=document.querySelector('[data-action="hero-start"]');e&&e.addEventListener("click",()=>{this.targetType?this.navigateToTest(this.targetType):document.querySelector(".feature-list")?.scrollIntoView({behavior:"smooth"})})}initAnimations(){const e=document.querySelectorAll(".animate-hidden"),A=new IntersectionObserver(n=>{n.forEach(r=>{r.isIntersecting&&(r.target.classList.remove("animate-hidden"),A.unobserve(r.target))})},{threshold:.1,rootMargin:"0px 0px -50px 0px"});e.forEach(n=>A.observe(n))}navigateToTest(e){let A=`/test/${e}`;this.redeemCode&&(A+=`?s=${encodeURIComponent(this.redeemCode)}`),window.router.navigate(A)}handleFeatureClick(e){this.navigateToTest(e)}}class Zi{constructor(e){this.mode=e.action||"login",this.form={phone:"",smsCode:"",password:"",confirmPassword:"",inviteCode:""},this.countdown=0,this.countdownTimer=null,this.isSubmitting=!1,this.sessionId=localStorage.getItem("sessionId")||"",this.devCode=""}render(){return`
      <div class="page auth-page">
        ${aA({title:this.getPageTitle(),showBack:!0,showHistory:!1,showProfile:!1})}
        
        <main class="page-content">
          <div class="app-container">
            
            <!-- Logo åŒºåŸŸ -->
            <section class="auth-logo-section animate-fade-in-up">
              <div class="auth-logo">âœ¨</div>
              <h2 class="auth-title">${this.getPageTitle()}</h2>
              <p class="auth-subtitle">${this.getSubtitle()}</p>
            </section>

            <!-- è¡¨å•åŒºåŸŸ -->
            <section class="auth-form-section animate-fade-in-up animate-delay-100">
              <div class="glass-card">
                ${this.renderForm()}
              </div>
            </section>

            <!-- åº•éƒ¨åˆ‡æ¢é“¾æ¥ -->
            <section class="auth-footer animate-fade-in-up animate-delay-200">
              ${this.renderFooter()}
            </section>

            <div class="mt-8 safe-area-bottom"></div>
          </div>
        </main>
      </div>
    `}getPageTitle(){switch(this.mode){case"login":return"ç™»å½•";case"register":return"æ³¨å†Œ";case"forgot":return"é‡ç½®å¯†ç ";default:return"ç™»å½•"}}getSubtitle(){switch(this.mode){case"login":return"ä½¿ç”¨æ‰‹æœºå·éªŒè¯ç å¿«é€Ÿç™»å½•";case"register":return"åˆ›å»ºè´¦å·ï¼Œå¼€å§‹ä½ çš„åŒ¹é…ä¹‹æ—…";case"forgot":return"é€šè¿‡çŸ­ä¿¡éªŒè¯ç é‡ç½®å¯†ç ";default:return""}}renderForm(){switch(this.mode){case"login":return this.renderLoginForm();case"register":return this.renderRegisterForm();case"forgot":return this.renderForgotForm();default:return this.renderLoginForm()}}renderLoginForm(){return`
      <form id="auth-form" class="form" autocomplete="off">
        <!-- æ‰‹æœºå· -->
        <div class="input-group mb-4">
          <label class="input-label">æ‰‹æœºå·</label>
          <input type="tel" id="phone" class="input" placeholder="è¯·è¾“å…¥æ‰‹æœºå·" 
                 maxlength="11" autocomplete="off" inputmode="numeric">
        </div>

        <!-- éªŒè¯ç ï¼ˆå¯é€‰ï¼‰ -->
        <div class="input-group mb-4">
          <label class="input-label">éªŒè¯ç </label>
          <div class="sms-code-row">
            <input type="text" id="smsCode" class="input sms-code-input" 
                   placeholder="è¯·è¾“å…¥éªŒè¯ç " maxlength="6" inputmode="numeric" autocomplete="one-time-code">
            <button type="button" id="sendCodeBtn" class="btn btn--primary sms-code-btn" data-action="send-code">
              è·å–éªŒè¯ç 
            </button>
          </div>
        </div>

        <!-- å¼€å‘ç¯å¢ƒéªŒè¯ç æç¤º -->
        <div id="devCodeHint" class="dev-code-hint" style="display:none;"></div>

        <!-- ç™»å½•æŒ‰é’® -->
        <button type="submit" id="submitBtn" class="btn btn--primary btn--full mt-4" disabled>
          ç™»å½•
        </button>
      </form>
    `}renderRegisterForm(){return`
      <form id="auth-form" class="form" autocomplete="off">
        <!-- æ‰‹æœºå· -->
        <div class="input-group mb-4">
          <label class="input-label">æ‰‹æœºå·</label>
          <input type="tel" id="phone" class="input" placeholder="è¯·è¾“å…¥æ‰‹æœºå·" 
                 maxlength="11" autocomplete="off" inputmode="numeric">
        </div>

        <!-- éªŒè¯ç  -->
        <div class="input-group mb-4">
          <label class="input-label">éªŒè¯ç </label>
          <div class="sms-code-row">
            <input type="text" id="smsCode" class="input sms-code-input" 
                   placeholder="è¯·è¾“å…¥éªŒè¯ç " maxlength="6" inputmode="numeric" autocomplete="one-time-code">
            <button type="button" id="sendCodeBtn" class="btn btn--primary sms-code-btn" data-action="send-code">
              è·å–éªŒè¯ç 
            </button>
          </div>
        </div>

        <!-- å¼€å‘ç¯å¢ƒéªŒè¯ç æç¤º -->
        <div id="devCodeHint" class="dev-code-hint" style="display:none;"></div>

        <!-- å¯†ç ï¼ˆå¯é€‰ï¼‰ -->
        <div class="input-group mb-4">
          <label class="input-label">è®¾ç½®å¯†ç  <span class="input-helper-inline">ï¼ˆå¯é€‰ï¼‰</span></label>
          <input type="password" id="password" class="input" placeholder="6ä½ä»¥ä¸Šå¯†ç ï¼ˆå¯é€‰ï¼‰" 
                 maxlength="20" autocomplete="new-password">
        </div>

        <!-- é‚€è¯·ç ï¼ˆå¯é€‰ï¼‰ -->
        <div class="input-group mb-4">
          <label class="input-label">é‚€è¯·ç  <span class="input-helper-inline">ï¼ˆå¯é€‰ï¼‰</span></label>
          <input type="text" id="inviteCode" class="input" placeholder="æœ‰é‚€è¯·ç å¯å¡«å†™" 
                 maxlength="10" autocomplete="off">
        </div>

        <!-- æ³¨å†ŒæŒ‰é’® -->
        <button type="submit" id="submitBtn" class="btn btn--primary btn--full mt-4" disabled>
          æ³¨å†Œ
        </button>
      </form>
    `}renderForgotForm(){return`
      <form id="auth-form" class="form" autocomplete="off">
        <!-- æ‰‹æœºå· -->
        <div class="input-group mb-4">
          <label class="input-label">æ‰‹æœºå·</label>
          <input type="tel" id="phone" class="input" placeholder="è¯·è¾“å…¥æ‰‹æœºå·" 
                 maxlength="11" autocomplete="off" inputmode="numeric">
        </div>

        <!-- éªŒè¯ç  -->
        <div class="input-group mb-4">
          <label class="input-label">éªŒè¯ç </label>
          <div class="sms-code-row">
            <input type="text" id="smsCode" class="input sms-code-input" 
                   placeholder="è¯·è¾“å…¥éªŒè¯ç " maxlength="6" inputmode="numeric" autocomplete="one-time-code">
            <button type="button" id="sendCodeBtn" class="btn btn--primary sms-code-btn" data-action="send-code">
              è·å–éªŒè¯ç 
            </button>
          </div>
        </div>

        <!-- å¼€å‘ç¯å¢ƒéªŒè¯ç æç¤º -->
        <div id="devCodeHint" class="dev-code-hint" style="display:none;"></div>

        <!-- æ–°å¯†ç  -->
        <div class="input-group mb-4">
          <label class="input-label">æ–°å¯†ç </label>
          <input type="password" id="password" class="input" placeholder="è¯·è¾“å…¥æ–°å¯†ç ï¼ˆ6ä½ä»¥ä¸Šï¼‰" 
                 maxlength="20" autocomplete="new-password">
        </div>

        <!-- ç¡®è®¤å¯†ç  -->
        <div class="input-group mb-4">
          <label class="input-label">ç¡®è®¤å¯†ç </label>
          <input type="password" id="confirmPassword" class="input" placeholder="è¯·å†æ¬¡è¾“å…¥æ–°å¯†ç " 
                 maxlength="20" autocomplete="new-password">
        </div>

        <!-- æäº¤æŒ‰é’® -->
        <button type="submit" id="submitBtn" class="btn btn--primary btn--full mt-4" disabled>
          é‡ç½®å¯†ç 
        </button>
      </form>
    `}renderFooter(){return this.mode==="login"?`
        <div class="auth-links">
          <a class="auth-link" data-action="switch-register">æ³¨å†Œæ–°è´¦å·</a>
          <span class="auth-link-divider">|</span>
          <a class="auth-link" data-action="switch-forgot">å¿˜è®°å¯†ç ï¼Ÿ</a>
        </div>
      `:this.mode==="register"?`
        <div class="auth-links">
          <a class="auth-link" data-action="switch-login">å·²æœ‰è´¦å·ï¼Ÿç«‹å³ç™»å½•</a>
        </div>
      `:`
        <div class="auth-links">
          <a class="auth-link" data-action="switch-login">è¿”å›ç™»å½•</a>
        </div>
      `}attachEvents(){const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{this.cleanup(),window.router.back()});const A=document.getElementById("sendCodeBtn");A&&A.addEventListener("click",()=>this.handleSendCode());const n=document.getElementById("auth-form");n&&n.addEventListener("submit",r=>{r.preventDefault(),this.handleSubmit()}),this.bindInputListeners(),document.querySelectorAll("[data-action]").forEach(r=>{r.addEventListener("click",()=>{const a=r.dataset.action;this.handleAction(a)})})}bindInputListeners(){const e=document.getElementById("phone"),A=document.getElementById("smsCode"),n=document.getElementById("password"),r=document.getElementById("confirmPassword"),a=()=>this.validateForm();e?.addEventListener("input",i=>{i.target.value=i.target.value.replace(/\D/g,""),this.form.phone=i.target.value,a()}),A?.addEventListener("input",i=>{i.target.value=i.target.value.replace(/\D/g,""),this.form.smsCode=i.target.value,a()}),n?.addEventListener("input",i=>{this.form.password=i.target.value,a()}),r?.addEventListener("input",i=>{this.form.confirmPassword=i.target.value,a()}),document.getElementById("inviteCode")?.addEventListener("input",i=>{this.form.inviteCode=i.target.value})}validateForm(){const e=document.getElementById("submitBtn");if(!e)return!1;const A=/^1[3-9]\d{9}$/.test(this.form.phone),n=/^\d{6}$/.test(this.form.smsCode);let r=!1;switch(this.mode){case"login":r=A;break;case"register":r=A&&n,this.form.password&&this.form.password.length<6&&(r=!1);break;case"forgot":r=A&&n&&this.form.password.length>=6&&this.form.password===this.form.confirmPassword;break}return e.disabled=!r,r}async handleSendCode(){if(this.countdown>0)return;const e=this.form.phone;if(!/^1[3-9]\d{9}$/.test(e)){window.showToast("è¯·è¾“å…¥æœ‰æ•ˆçš„11ä½æ‰‹æœºå·","error");return}const A=document.getElementById("sendCodeBtn");A&&(A.disabled=!0);try{const n=this.mode==="forgot"?"reset":this.mode,r=await ce.sendSms(e,n);if(r.code){this.devCode=r.code;const a=document.getElementById("devCodeHint");a&&(a.style.display="block",a.textContent=`ğŸ“± å¼€å‘æ¨¡å¼éªŒè¯ç : ${r.code}`)}window.showToast("éªŒè¯ç å·²å‘é€","success"),this.countdown=60,this.updateCountdown(),this.countdownTimer=setInterval(()=>{this.countdown--,this.updateCountdown(),this.countdown<=0&&(clearInterval(this.countdownTimer),this.countdownTimer=null)},1e3)}catch(n){window.showToast(n.message||"å‘é€å¤±è´¥","error"),A&&(A.disabled=!1)}}updateCountdown(){const e=document.getElementById("sendCodeBtn");e&&(this.countdown>0?(e.disabled=!0,e.textContent=`${this.countdown}ç§’åé‡è¯•`):(e.disabled=!1,e.textContent="è·å–éªŒè¯ç "))}async handleSubmit(){if(this.isSubmitting||!this.validateForm())return;this.isSubmitting=!0;const e=document.getElementById("submitBtn");e&&(e.disabled=!0,e.textContent="å¤„ç†ä¸­...");try{switch(this.mode){case"login":await this.handleLogin();break;case"register":await this.handleRegister();break;case"forgot":await this.handleResetPassword();break}}catch(A){window.showToast(A.message||"æ“ä½œå¤±è´¥","error")}finally{this.isSubmitting=!1,e&&(e.disabled=!1,e.textContent=this.getSubmitText())}}getSubmitText(){switch(this.mode){case"login":return"ç™»å½•";case"register":return"æ³¨å†Œ";case"forgot":return"é‡ç½®å¯†ç ";default:return"æäº¤"}}async handleLogin(){const e=this.form.smsCode||void 0,A=await ce.quickLogin(this.form.phone,e);if(A.success){const n=A.data?.isNewUser?"æ³¨å†Œå¹¶ç™»å½•æˆåŠŸ":"ç™»å½•æˆåŠŸ";window.showToast(n,"success"),this.cleanup(),this.redirectToOriginalPage()}}async handleRegister(){const e={phone:this.form.phone,smsCode:this.form.smsCode,sessionId:this.sessionId};this.form.password&&(e.password=this.form.password),this.form.inviteCode&&(e.inviteCode=this.form.inviteCode),(await ce.register(e)).success&&(window.showToast("æ³¨å†ŒæˆåŠŸ","success"),this.cleanup(),this.redirectToOriginalPage())}async handleResetPassword(){(await ce.resetPassword({phone:this.form.phone,smsCode:this.form.smsCode,newPassword:this.form.password,confirmPassword:this.form.confirmPassword})).success&&(window.showToast("å¯†ç é‡ç½®æˆåŠŸï¼Œè¯·é‡æ–°ç™»å½•","success"),this.switchMode("login"))}redirectToOriginalPage(){const e=sessionStorage.getItem("redirect_after_login");if(e)try{const A=JSON.parse(e);if(sessionStorage.removeItem("redirect_after_login"),A.path){window.router.navigate(A.path);return}if(A.page==="detail"){window.router.navigate(`/test/${A.testTypeId}`);return}}catch{}window.router.navigate("/")}handleAction(e){switch(e){case"switch-login":this.switchMode("login");break;case"switch-register":this.switchMode("register");break;case"switch-forgot":this.switchMode("forgot");break;case"send-code":this.handleSendCode();break}}switchMode(e){this.cleanup(),this.mode=e,this.form={phone:this.form.phone,smsCode:"",password:"",confirmPassword:"",inviteCode:""},this.countdown=0,this.isSubmitting=!1,this.devCode="";const A=document.getElementById("app");if(A){A.innerHTML=this.render(),this.attachEvents();const n=document.getElementById("phone");n&&this.form.phone&&(n.value=this.form.phone)}}cleanup(){this.countdownTimer&&(clearInterval(this.countdownTimer),this.countdownTimer=null)}}const Nr=rn();class ji{constructor(e){if(this.matchType=UA(e.type),!this.matchType){window.router.navigate("/");return}const A=new URLSearchParams(window.location.search);this.redeemCode=A.get("s"),this.isVerifying=!1,this.codeVerified=!1}render(){return this.matchType?`
      <div class="page test-select-page">
        ${aA({title:this.matchType.title,showBack:!0,showHistory:!1,showProfile:!1})}
        
        <main class="page-content">
          <div class="app-container">
            
            <!-- åŒ¹é…ç±»å‹è¯¦æƒ… -->
            <section class="mt-4 mb-6 animate-fade-in-up">
              ${qi(this.matchType)}
            </section>

            <!-- æµ‹è¯•æ–¹å¼é€‰æ‹© -->
            <section class="test-method-section animate-fade-in-up animate-delay-200">
              <h3 class="heading-3 mb-4 text-center">é€‰æ‹©æµ‹è¯•æ–¹å¼</h3>
              
              <!-- ä»·æ ¼ä¿¡æ¯ï¼ˆä»…åœ¨æ— å…‘æ¢ç æ—¶æ˜¾ç¤ºï¼‰-->
              ${this.redeemCode?"":`
                <div class="price-info mb-4">
                  <div class="price-info__original">åŸä»· <span class="price-info__original-value">Â¥29.8</span></div>
                  <div class="price-info__discount">
                    <span class="price-info__tag">é™æ—¶ä¼˜æƒ </span>
                    <span class="price-info__discount-value">Â¥19.8</span>
                  </div>
                </div>
              `}
              
              <div class="method-cards">
                <!-- ç”Ÿæ—¥åŒ¹é… -->
                <div class="glass-card glass-card--interactive method-card" data-method="birthday">
                  <div class="method-card__icon">ğŸ‚</div>
                  <div class="method-card__content">
                    <h4 class="method-card__title">ç”Ÿæ—¥åŒ¹é…</h4>
                    <p class="method-card__description">è¾“å…¥åŒæ–¹ç”Ÿæ—¥ï¼Œé€šè¿‡ç”Ÿæ—¥ç‰¹è´¨åˆ†ææ€§æ ¼å…³ç³»</p>
                    <div class="method-card__tag">
                      <span class="badge badge--primary">éœ€è¦åŒæ–¹ç”Ÿæ—¥</span>
                    </div>
                  </div>
                  <span class="method-card__arrow">â†’</span>
                </div>

                <!-- ç›´è§‰å¡”ç½—æµ‹è¯• -->
                <div class="glass-card glass-card--interactive method-card" data-method="tarot">
                  <div class="method-card__icon">ğŸƒ</div>
                  <div class="method-card__content">
                    <h4 class="method-card__title">ç›´è§‰å¡”ç½—</h4>
                    <p class="method-card__description">å‡­ç›´è§‰ç¿»ç‰Œï¼Œé€šè¿‡å¡ç‰Œç¬¦å·è§£æå…³ç³»</p>
                    <div class="method-card__tag">
                      <span class="badge badge--secondary">æ— éœ€ç”Ÿæ—¥</span>
                    </div>
                  </div>
                  <span class="method-card__arrow">â†’</span>
                </div>
              </div>
            </section>

            <!-- è¯´æ˜æç¤º -->
            <section class="tips-section mt-6 animate-fade-in-up animate-delay-300">
              <div class="glass-card glass-card--light">
                <div class="tips-header">
                  <span>ğŸ’¡</span>
                  <span class="small-text">é€‰æ‹©æç¤º</span>
                </div>
                <ul class="tips-list">
                  <li>å¦‚æœçŸ¥é“åŒæ–¹å‡†ç¡®çš„å‡ºç”Ÿæ—¥æœŸï¼Œæ¨èä½¿ç”¨<strong>ç”Ÿæ—¥åŒ¹é…</strong>ï¼Œç»“æœæ›´ç²¾å‡†</li>
                  <li>å¦‚æœä¸æ¸…æ¥šå¯¹æ–¹ç”Ÿæ—¥ï¼Œå¯ä»¥ä½¿ç”¨<strong>ç›´è§‰å¡”ç½—</strong>ï¼Œå‡­ç›´è§‰æ„Ÿåº”</li>
                  <li>ä¸¤ç§æ–¹å¼éƒ½æ˜¯è¶£å‘³æ€§æ ¼æµ‹è¯•ï¼Œä»…ä¾›å¨±ä¹å‚è€ƒ</li>
                </ul>
              </div>
            </section>

            <div class="mt-8 safe-area-bottom"></div>
          </div>
        </main>
      </div>
    `:""}attachEvents(){const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{window.router.back()}),document.querySelectorAll(".method-card").forEach(A=>{A.addEventListener("click",()=>{const n=A.dataset.method;this.handleMethodSelect(n)})})}async verifyRedeemCode(){if(!this.redeemCode)return{valid:!0};try{return await(await fetch(`${Nr}/redeem/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:this.redeemCode})})).json()}catch(e){return console.error("éªŒè¯å…‘æ¢ç å¤±è´¥:",e),{valid:!1,message:"ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•"}}}async useRedeemCode(){if(!this.redeemCode)return!0;try{return(await(await fetch(`${Nr}/redeem/use`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:this.redeemCode})})).json()).success}catch(e){return console.error("ä½¿ç”¨å…‘æ¢ç å¤±è´¥:",e),!1}}showToast(e,A="error"){const n=document.querySelector(".redeem-toast");n&&n.remove();const r=document.createElement("div");if(r.className=`redeem-toast redeem-toast--${A}`,r.innerHTML=`
            <span class="redeem-toast__icon">${A==="error"?"âŒ":"âœ…"}</span>
            <span class="redeem-toast__message">${e}</span>
        `,r.style.cssText=`
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: ${A==="error"?"rgba(220, 38, 38, 0.95)":"rgba(34, 197, 94, 0.95)"};
            color: white;
            padding: 16px 24px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 16px;
            font-weight: 500;
            z-index: 10000;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            animation: toastIn 0.3s ease;
        `,!document.querySelector("#redeem-toast-style")){const a=document.createElement("style");a.id="redeem-toast-style",a.textContent=`
                @keyframes toastIn {
                    from { opacity: 0; transform: translate(-50%, -50%) scale(0.9); }
                    to { opacity: 1; transform: translate(-50%, -50%) scale(1); }
                }
                @keyframes toastOut {
                    from { opacity: 1; transform: translate(-50%, -50%) scale(1); }
                    to { opacity: 0; transform: translate(-50%, -50%) scale(0.9); }
                }
            `,document.head.appendChild(a)}document.body.appendChild(r),setTimeout(()=>{r.style.animation="toastOut 0.3s ease forwards",setTimeout(()=>r.remove(),300)},2500)}async handleMethodSelect(e){if(this.isVerifying)return;const A=this.matchType.id;if(window.appState?.get("serverState")!=="test"){if(!ce.isLoggedIn()){sessionStorage.setItem("redirect_after_login",JSON.stringify({path:`/test/${A}`,page:"detail",testTypeId:A,timestamp:Date.now()})),window.showToast("è¯·å…ˆç™»å½•","default"),window.router.navigate("/auth?action=login");return}try{const r=localStorage.getItem("sessionId")||"",a=await $i.checkPermission(A,r);if(a.data&&!a.data.hasAccess){if(a.data.needsLogin){sessionStorage.setItem("redirect_after_login",JSON.stringify({path:`/test/${A}`,page:"detail",testTypeId:A,timestamp:Date.now()})),window.router.navigate("/auth?action=login");return}if(a.data.needsPurchase){window.router.navigate(`/pay/${A}`);return}}}catch(r){console.warn("æƒé™æ£€æŸ¥å¤±è´¥ï¼Œç»§ç»­æµç¨‹:",r.message)}}else console.log("[æµ‹è¯•æ¨¡å¼] è·³è¿‡ç™»å½•å’Œè´­ä¹°æ ¡éªŒ");if(this.redeemCode&&!this.codeVerified){this.isVerifying=!0;const r=document.querySelector(`.method-card[data-method="${e}"]`);r&&(r.style.opacity="0.7",r.style.pointerEvents="none");const a=await this.verifyRedeemCode();if(r&&(r.style.opacity="",r.style.pointerEvents=""),this.isVerifying=!1,!a.valid&&!a.success){this.showToast(a.message||"å…‘æ¢ç æ— æ•ˆ","error");return}window.appState.set("redeemCode",this.redeemCode),this.codeVerified=!0}e==="birthday"?window.router.navigate(`/test/${A}/birthday`):e==="tarot"&&window.router.navigate(`/test/${A}/tarot`)}}const sn=[19416,19168,42352,21717,53856,55632,91476,22176,39632,21970,19168,42422,42192,53840,119381,46400,54944,44450,38320,84343,18800,42160,46261,27216,27968,109396,11104,38256,21234,18800,25958,54432,59984,28309,23248,11104,100067,37600,116951,51536,54432,120998,46416,22176,107956,9680,37584,53938,43344,46423,27808,46416,86869,19872,42416,83315,21168,43432,59728,27296,44710,43856,19296,43748,42352,21088,62051,55632,23383,22176,38608,19925,19152,42192,54484,53840,54616,46400,46752,103846,38320,18864,43380,42160,45690,27216,27968,44870,43872,38256,19189,18800,25776,29859,59984,27480,23232,43872,38613,37600,51552,55636,54432,55888,30034,22176,43959,9680,37584,51893,43344,46240,47780,44368,21977,19360,42416,86390,21168,43312,31060,27296,44368,23378,19296,42726,42208,53856,60005,54576,23200,30371,38608,19195,19152,42192,118966,53840,54560,56645,46496,22224,21938,18864,42359,42160,43600,111189,27936,44448,84835,37744,18936,18800,25776,92326,59984,27424,108228,43744,41696,53987,51552,54615,54432,55888,23893,22176,42704,21972,21200,43448,43344,46240,46758,44368,21920,43940,42416,21168,45683,26928,29495,27296,44368,84821,19296,42352,21732,53600,59752,54560,55968,92838,22224,19168,43476,41680,53584,62034,54560],Pr=["æ­£","äºŒ","ä¸‰","å››","äº”","å…­","ä¸ƒ","å…«","ä¹","å","å†¬","è…Š"],Gr=["åˆä¸€","åˆäºŒ","åˆä¸‰","åˆå››","åˆäº”","åˆå…­","åˆä¸ƒ","åˆå…«","åˆä¹","åˆå","åä¸€","åäºŒ","åä¸‰","åå››","åäº”","åå…­","åä¸ƒ","åå…«","åä¹","äºŒå","å»¿ä¸€","å»¿äºŒ","å»¿ä¸‰","å»¿å››","å»¿äº”","å»¿å…­","å»¿ä¸ƒ","å»¿å…«","å»¿ä¹","ä¸‰å"],Ao=["ç”²","ä¹™","ä¸™","ä¸","æˆŠ","å·±","åºš","è¾›","å£¬","ç™¸"],eo=["å­","ä¸‘","å¯…","å¯","è¾°","å·³","åˆ","æœª","ç”³","é…‰","æˆŒ","äº¥"],to=["é¼ ","ç‰›","è™","å…”","é¾™","è›‡","é©¬","ç¾Š","çŒ´","é¸¡","ç‹—","çŒª"];function no(t){let e=348;for(let A=32768;A>8;A>>=1)e+=sn[t-1900]&A?1:0;return e+cs(t)}function cs(t){return ls(t)?sn[t-1900]&65536?30:29:0}function ls(t){return sn[t-1900]&15}function ro(t,e){return sn[t-1900]&65536>>e?30:29}function ao(t,e,A){if(t<1900||t>2100)return null;const n=new Date(1900,0,31),r=new Date(t,e-1,A);let a=Math.floor((r-n)/864e5),s=1900,i=0;for(s=1900;s<2101&&a>0;s++)i=no(s),a-=i;a<0&&(a+=i,s--);const o=ls(s);let c=!1,l=1;for(l=1;l<13&&a>0;l++)o>0&&l===o+1&&!c?(--l,c=!0,i=cs(s)):i=ro(s,l),c&&l===o+1&&(c=!1),a-=i;a===0&&o>0&&l===o+1&&(c?c=!1:(c=!0,--l)),a<0&&(a+=i,--l);const B=a+1,g=Ao[(s-4)%10]+eo[(s-4)%12],w=to[(s-4)%12];return{lunarYear:s,lunarMonth:l,lunarDay:B,isLeap:c,ganzhiYear:g,animal:w,yearStr:`${s}å¹´`,monthStr:`${c?"é—°":""}${Pr[l-1]}æœˆ`,dayStr:Gr[B-1],fullStr:`å†œå†${s}å¹´ ${g}å¹´ï¼ˆ${w}å¹´ï¼‰ ${c?"é—°":""}${Pr[l-1]}æœˆ${Gr[B-1]}`}}function Me(t){if(!t)return"";const[e,A,n]=t.split("-").map(Number),r=ao(e,A,n);return r?r.fullStr:"æ—¥æœŸè¶…å‡ºèŒƒå›´"}var Un=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],be={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(t){return typeof console<"u"&&console.warn(t)},getWeek:function(t){var e=new Date(t.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var A=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-A.getTime())/864e5-3+(A.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},rt={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(t){var e=t%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},pA=function(t,e){return e===void 0&&(e=2),("000"+t).slice(e*-1)},yA=function(t){return t===!0?1:0};function Vr(t,e){var A;return function(){var n=this,r=arguments;clearTimeout(A),A=setTimeout(function(){return t.apply(n,r)},e)}}var yn=function(t){return t instanceof Array?t:[t]};function fA(t,e,A){if(A===!0)return t.classList.add(e);t.classList.remove(e)}function P(t,e,A){var n=window.document.createElement(t);return e=e||"",A=A||"",n.className=e,A!==void 0&&(n.textContent=A),n}function pt(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function ds(t,e){if(e(t))return t;if(t.parentNode)return ds(t.parentNode,e)}function wt(t,e){var A=P("div","numInputWrapper"),n=P("input","numInput "+t),r=P("span","arrowUp"),a=P("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?n.type="number":(n.type="text",n.pattern="\\d*"),e!==void 0)for(var s in e)n.setAttribute(s,e[s]);return A.appendChild(n),A.appendChild(r),A.appendChild(a),A}function vA(t){try{if(typeof t.composedPath=="function"){var e=t.composedPath();return e[0]}return t.target}catch{return t.target}}var bn=function(){},Yt=function(t,e,A){return A.months[e?"shorthand":"longhand"][t]},so={D:bn,F:function(t,e,A){t.setMonth(A.months.longhand.indexOf(e))},G:function(t,e){t.setHours((t.getHours()>=12?12:0)+parseFloat(e))},H:function(t,e){t.setHours(parseFloat(e))},J:function(t,e){t.setDate(parseFloat(e))},K:function(t,e,A){t.setHours(t.getHours()%12+12*yA(new RegExp(A.amPM[1],"i").test(e)))},M:function(t,e,A){t.setMonth(A.months.shorthand.indexOf(e))},S:function(t,e){t.setSeconds(parseFloat(e))},U:function(t,e){return new Date(parseFloat(e)*1e3)},W:function(t,e,A){var n=parseInt(e),r=new Date(t.getFullYear(),0,2+(n-1)*7,0,0,0,0);return r.setDate(r.getDate()-r.getDay()+A.firstDayOfWeek),r},Y:function(t,e){t.setFullYear(parseFloat(e))},Z:function(t,e){return new Date(e)},d:function(t,e){t.setDate(parseFloat(e))},h:function(t,e){t.setHours((t.getHours()>=12?12:0)+parseFloat(e))},i:function(t,e){t.setMinutes(parseFloat(e))},j:function(t,e){t.setDate(parseFloat(e))},l:bn,m:function(t,e){t.setMonth(parseFloat(e)-1)},n:function(t,e){t.setMonth(parseFloat(e)-1)},s:function(t,e){t.setSeconds(parseFloat(e))},u:function(t,e){return new Date(parseFloat(e))},w:bn,y:function(t,e){t.setFullYear(2e3+parseFloat(e))}},ie={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},Ze={Z:function(t){return t.toISOString()},D:function(t,e,A){return e.weekdays.shorthand[Ze.w(t,e,A)]},F:function(t,e,A){return Yt(Ze.n(t,e,A)-1,!1,e)},G:function(t,e,A){return pA(Ze.h(t,e,A))},H:function(t){return pA(t.getHours())},J:function(t,e){return e.ordinal!==void 0?t.getDate()+e.ordinal(t.getDate()):t.getDate()},K:function(t,e){return e.amPM[yA(t.getHours()>11)]},M:function(t,e){return Yt(t.getMonth(),!0,e)},S:function(t){return pA(t.getSeconds())},U:function(t){return t.getTime()/1e3},W:function(t,e,A){return A.getWeek(t)},Y:function(t){return pA(t.getFullYear(),4)},d:function(t){return pA(t.getDate())},h:function(t){return t.getHours()%12?t.getHours()%12:12},i:function(t){return pA(t.getMinutes())},j:function(t){return t.getDate()},l:function(t,e){return e.weekdays.longhand[t.getDay()]},m:function(t){return pA(t.getMonth()+1)},n:function(t){return t.getMonth()+1},s:function(t){return t.getSeconds()},u:function(t){return t.getTime()},w:function(t){return t.getDay()},y:function(t){return String(t.getFullYear()).substring(2)}},us=function(t){var e=t.config,A=e===void 0?be:e,n=t.l10n,r=n===void 0?rt:n,a=t.isMobile,s=a===void 0?!1:a;return function(i,o,c){var l=c||r;return A.formatDate!==void 0&&!s?A.formatDate(i,o,l):o.split("").map(function(B,g,w){return Ze[B]&&w[g-1]!=="\\"?Ze[B](i,l,A):B!=="\\"?B:""}).join("")}},Zn=function(t){var e=t.config,A=e===void 0?be:e,n=t.l10n,r=n===void 0?rt:n;return function(a,s,i,o){if(!(a!==0&&!a)){var c=o||r,l,B=a;if(a instanceof Date)l=new Date(a.getTime());else if(typeof a!="string"&&a.toFixed!==void 0)l=new Date(a);else if(typeof a=="string"){var g=s||(A||be).dateFormat,w=String(a).trim();if(w==="today")l=new Date,i=!0;else if(A&&A.parseDate)l=A.parseDate(a,g);else if(/Z$/.test(w)||/GMT$/.test(w))l=new Date(a);else{for(var m=void 0,h=[],H=0,U=0,F="";H<g.length;H++){var T=g[H],D=T==="\\",S=g[H-1]==="\\"||D;if(ie[T]&&!S){F+=ie[T];var v=new RegExp(F).exec(a);v&&(m=!0)&&h[T!=="Y"?"push":"unshift"]({fn:so[T],val:v[++U]})}else D||(F+=".")}l=!A||!A.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),h.forEach(function(K){var k=K.fn,L=K.val;return l=k(l,L,c)||l}),l=m?l:void 0}}if(!(l instanceof Date&&!isNaN(l.getTime()))){A.errorHandler(new Error("Invalid date provided: "+B));return}return i===!0&&l.setHours(0,0,0,0),l}}};function QA(t,e,A){return A===void 0&&(A=!0),A!==!1?new Date(t.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):t.getTime()-e.getTime()}var io=function(t,e,A){return t>Math.min(e,A)&&t<Math.max(e,A)},En=function(t,e,A){return t*3600+e*60+A},oo=function(t){var e=Math.floor(t/3600),A=(t-e*3600)/60;return[e,A,t-e*3600-A*60]},co={DAY:864e5};function In(t){var e=t.defaultHour,A=t.defaultMinute,n=t.defaultSeconds;if(t.minDate!==void 0){var r=t.minDate.getHours(),a=t.minDate.getMinutes(),s=t.minDate.getSeconds();e<r&&(e=r),e===r&&A<a&&(A=a),e===r&&A===a&&n<s&&(n=t.minDate.getSeconds())}if(t.maxDate!==void 0){var i=t.maxDate.getHours(),o=t.maxDate.getMinutes();e=Math.min(e,i),e===i&&(A=Math.min(o,A)),e===i&&A===o&&(n=t.maxDate.getSeconds())}return{hours:e,minutes:A,seconds:n}}typeof Object.assign!="function"&&(Object.assign=function(t){for(var e=[],A=1;A<arguments.length;A++)e[A-1]=arguments[A];if(!t)throw TypeError("Cannot convert undefined or null to object");for(var n=function(i){i&&Object.keys(i).forEach(function(o){return t[o]=i[o]})},r=0,a=e;r<a.length;r++){var s=a[r];n(s)}return t});var uA=function(){return uA=Object.assign||function(t){for(var e,A=1,n=arguments.length;A<n;A++){e=arguments[A];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},uA.apply(this,arguments)},$r=function(){for(var t=0,e=0,A=arguments.length;e<A;e++)t+=arguments[e].length;for(var n=Array(t),r=0,e=0;e<A;e++)for(var a=arguments[e],s=0,i=a.length;s<i;s++,r++)n[r]=a[s];return n},lo=300;function uo(t,e){var A={config:uA(uA({},be),j.defaultConfig),l10n:rt};A.parseDate=Zn({config:A.config,l10n:A.l10n}),A._handlers=[],A.pluginElements=[],A.loadedPlugins=[],A._bind=h,A._setHoursFromDate=g,A._positionCalendar=gt,A.changeMonth=SA,A.changeYear=OA,A.clear=GA,A.close=DA,A.onMouseOver=Bt,A._createElement=P,A.createDay=v,A.destroy=VA,A.isEnabled=ae,A.jumpToDate=F,A.updateValue=$A,A.open=mi,A.redraw=Mr,A.set=Fi,A.setDate=Ui,A.toggle=Ii;function n(){A.utils={getDaysInMonth:function(d,u){return d===void 0&&(d=A.currentMonth),u===void 0&&(u=A.currentYear),d===1&&(u%4===0&&u%100!==0||u%400===0)?29:A.l10n.daysInMonth[d]}}}function r(){A.element=A.input=t,A.isOpen=!1,Ci(),Tr(),bi(),yi(),n(),A.isMobile||S(),U(),(A.selectedDates.length||A.config.noCalendar)&&(A.config.enableTime&&g(A.config.noCalendar?A.latestSelectedDateObj:void 0),$A(!1)),i();var d=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!A.isMobile&&d&&gt(),W("onReady")}function a(){var d;return((d=A.calendarContainer)===null||d===void 0?void 0:d.getRootNode()).activeElement||document.activeElement}function s(d){return d.bind(A)}function i(){var d=A.config;d.weekNumbers===!1&&d.showMonths===1||d.noCalendar!==!0&&window.requestAnimationFrame(function(){if(A.calendarContainer!==void 0&&(A.calendarContainer.style.visibility="hidden",A.calendarContainer.style.display="block"),A.daysContainer!==void 0){var u=(A.days.offsetWidth+1)*d.showMonths;A.daysContainer.style.width=u+"px",A.calendarContainer.style.width=u+(A.weekWrapper!==void 0?A.weekWrapper.offsetWidth:0)+"px",A.calendarContainer.style.removeProperty("visibility"),A.calendarContainer.style.removeProperty("display")}})}function o(d){if(A.selectedDates.length===0){var u=A.config.minDate===void 0||QA(new Date,A.config.minDate)>=0?new Date:new Date(A.config.minDate.getTime()),f=In(A.config);u.setHours(f.hours,f.minutes,f.seconds,u.getMilliseconds()),A.selectedDates=[u],A.latestSelectedDateObj=u}d!==void 0&&d.type!=="blur"&&Si(d);var p=A._input.value;B(),$A(),A._input.value!==p&&A._debouncedChange()}function c(d,u){return d%12+12*yA(u===A.l10n.amPM[1])}function l(d){switch(d%24){case 0:case 12:return 12;default:return d%12}}function B(){if(!(A.hourElement===void 0||A.minuteElement===void 0)){var d=(parseInt(A.hourElement.value.slice(-2),10)||0)%24,u=(parseInt(A.minuteElement.value,10)||0)%60,f=A.secondElement!==void 0?(parseInt(A.secondElement.value,10)||0)%60:0;A.amPM!==void 0&&(d=c(d,A.amPM.textContent));var p=A.config.minTime!==void 0||A.config.minDate&&A.minDateHasTime&&A.latestSelectedDateObj&&QA(A.latestSelectedDateObj,A.config.minDate,!0)===0,Q=A.config.maxTime!==void 0||A.config.maxDate&&A.maxDateHasTime&&A.latestSelectedDateObj&&QA(A.latestSelectedDateObj,A.config.maxDate,!0)===0;if(A.config.maxTime!==void 0&&A.config.minTime!==void 0&&A.config.minTime>A.config.maxTime){var b=En(A.config.minTime.getHours(),A.config.minTime.getMinutes(),A.config.minTime.getSeconds()),O=En(A.config.maxTime.getHours(),A.config.maxTime.getMinutes(),A.config.maxTime.getSeconds()),x=En(d,u,f);if(x>O&&x<b){var _=oo(b);d=_[0],u=_[1],f=_[2]}}else{if(Q){var I=A.config.maxTime!==void 0?A.config.maxTime:A.config.maxDate;d=Math.min(d,I.getHours()),d===I.getHours()&&(u=Math.min(u,I.getMinutes())),u===I.getMinutes()&&(f=Math.min(f,I.getSeconds()))}if(p){var M=A.config.minTime!==void 0?A.config.minTime:A.config.minDate;d=Math.max(d,M.getHours()),d===M.getHours()&&u<M.getMinutes()&&(u=M.getMinutes()),u===M.getMinutes()&&(f=Math.max(f,M.getSeconds()))}}w(d,u,f)}}function g(d){var u=d||A.latestSelectedDateObj;u&&u instanceof Date&&w(u.getHours(),u.getMinutes(),u.getSeconds())}function w(d,u,f){A.latestSelectedDateObj!==void 0&&A.latestSelectedDateObj.setHours(d%24,u,f||0,0),!(!A.hourElement||!A.minuteElement||A.isMobile)&&(A.hourElement.value=pA(A.config.time_24hr?d:(12+d)%12+12*yA(d%12===0)),A.minuteElement.value=pA(u),A.amPM!==void 0&&(A.amPM.textContent=A.l10n.amPM[yA(d>=12)]),A.secondElement!==void 0&&(A.secondElement.value=pA(f)))}function m(d){var u=vA(d),f=parseInt(u.value)+(d.delta||0);(f/1e3>1||d.key==="Enter"&&!/[^\d]/.test(f.toString()))&&OA(f)}function h(d,u,f,p){if(u instanceof Array)return u.forEach(function(Q){return h(d,Q,f,p)});if(d instanceof Array)return d.forEach(function(Q){return h(Q,u,f,p)});d.addEventListener(u,f,p),A._handlers.push({remove:function(){return d.removeEventListener(u,f,p)}})}function H(){W("onChange")}function U(){if(A.config.wrap&&["open","close","toggle","clear"].forEach(function(f){Array.prototype.forEach.call(A.element.querySelectorAll("[data-"+f+"]"),function(p){return h(p,"click",A[f])})}),A.isMobile){Ei();return}var d=Vr(wi,50);if(A._debouncedChange=Vr(H,lo),A.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&h(A.daysContainer,"mouseover",function(f){A.config.mode==="range"&&Bt(vA(f))}),h(A._input,"keydown",Sr),A.calendarContainer!==void 0&&h(A.calendarContainer,"keydown",Sr),!A.config.inline&&!A.config.static&&h(window,"resize",d),window.ontouchstart!==void 0?h(window.document,"touchstart",kA):h(window.document,"mousedown",kA),h(window.document,"focus",kA,{capture:!0}),A.config.clickOpens===!0&&(h(A._input,"focus",A.open),h(A._input,"click",A.open)),A.daysContainer!==void 0&&(h(A.monthNav,"click",xi),h(A.monthNav,["keyup","increment"],m),h(A.daysContainer,"click",Kr)),A.timeContainer!==void 0&&A.minuteElement!==void 0&&A.hourElement!==void 0){var u=function(f){return vA(f).select()};h(A.timeContainer,["increment"],o),h(A.timeContainer,"blur",o,{capture:!0}),h(A.timeContainer,"click",T),h([A.hourElement,A.minuteElement],["focus","click"],u),A.secondElement!==void 0&&h(A.secondElement,"focus",function(){return A.secondElement&&A.secondElement.select()}),A.amPM!==void 0&&h(A.amPM,"click",function(f){o(f)})}A.config.allowInput&&h(A._input,"blur",pi)}function F(d,u){var f=d!==void 0?A.parseDate(d):A.latestSelectedDateObj||(A.config.minDate&&A.config.minDate>A.now?A.config.minDate:A.config.maxDate&&A.config.maxDate<A.now?A.config.maxDate:A.now),p=A.currentYear,Q=A.currentMonth;try{f!==void 0&&(A.currentYear=f.getFullYear(),A.currentMonth=f.getMonth())}catch(b){b.message="Invalid date supplied: "+f,A.config.errorHandler(b)}u&&A.currentYear!==p&&(W("onYearChange"),N()),u&&(A.currentYear!==p||A.currentMonth!==Q)&&W("onMonthChange"),A.redraw()}function T(d){var u=vA(d);~u.className.indexOf("arrow")&&D(d,u.classList.contains("arrowUp")?1:-1)}function D(d,u,f){var p=d&&vA(d),Q=f||p&&p.parentNode&&p.parentNode.firstChild,b=mn("increment");b.delta=u,Q&&Q.dispatchEvent(b)}function S(){var d=window.document.createDocumentFragment();if(A.calendarContainer=P("div","flatpickr-calendar"),A.calendarContainer.tabIndex=-1,!A.config.noCalendar){if(d.appendChild(cA()),A.innerContainer=P("div","flatpickr-innerContainer"),A.config.weekNumbers){var u=KA(),f=u.weekWrapper,p=u.weekNumbers;A.innerContainer.appendChild(f),A.weekNumbers=p,A.weekWrapper=f}A.rContainer=P("div","flatpickr-rContainer"),A.rContainer.appendChild(MA()),A.daysContainer||(A.daysContainer=P("div","flatpickr-days"),A.daysContainer.tabIndex=-1),nA(),A.rContainer.appendChild(A.daysContainer),A.innerContainer.appendChild(A.rContainer),d.appendChild(A.innerContainer)}A.config.enableTime&&d.appendChild(lA()),fA(A.calendarContainer,"rangeMode",A.config.mode==="range"),fA(A.calendarContainer,"animate",A.config.animate===!0),fA(A.calendarContainer,"multiMonth",A.config.showMonths>1),A.calendarContainer.appendChild(d);var Q=A.config.appendTo!==void 0&&A.config.appendTo.nodeType!==void 0;if((A.config.inline||A.config.static)&&(A.calendarContainer.classList.add(A.config.inline?"inline":"static"),A.config.inline&&(!Q&&A.element.parentNode?A.element.parentNode.insertBefore(A.calendarContainer,A._input.nextSibling):A.config.appendTo!==void 0&&A.config.appendTo.appendChild(A.calendarContainer)),A.config.static)){var b=P("div","flatpickr-wrapper");A.element.parentNode&&A.element.parentNode.insertBefore(b,A.element),b.appendChild(A.element),A.altInput&&b.appendChild(A.altInput),b.appendChild(A.calendarContainer)}!A.config.static&&!A.config.inline&&(A.config.appendTo!==void 0?A.config.appendTo:window.document.body).appendChild(A.calendarContainer)}function v(d,u,f,p){var Q=ae(u,!0),b=P("span",d,u.getDate().toString());return b.dateObj=u,b.$i=p,b.setAttribute("aria-label",A.formatDate(u,A.config.ariaDateFormat)),d.indexOf("hidden")===-1&&QA(u,A.now)===0&&(A.todayDateElem=b,b.classList.add("today"),b.setAttribute("aria-current","date")),Q?(b.tabIndex=-1,Cn(u)&&(b.classList.add("selected"),A.selectedDateElem=b,A.config.mode==="range"&&(fA(b,"startRange",A.selectedDates[0]&&QA(u,A.selectedDates[0],!0)===0),fA(b,"endRange",A.selectedDates[1]&&QA(u,A.selectedDates[1],!0)===0),d==="nextMonthDay"&&b.classList.add("inRange")))):b.classList.add("flatpickr-disabled"),A.config.mode==="range"&&Hi(u)&&!Cn(u)&&b.classList.add("inRange"),A.weekNumbers&&A.config.showMonths===1&&d!=="prevMonthDay"&&p%7===6&&A.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+A.config.getWeek(u)+"</span>"),W("onDayCreate",b),b}function K(d){d.focus(),A.config.mode==="range"&&Bt(d)}function k(d){for(var u=d>0?0:A.config.showMonths-1,f=d>0?A.config.showMonths:-1,p=u;p!=f;p+=d)for(var Q=A.daysContainer.children[p],b=d>0?0:Q.children.length-1,O=d>0?Q.children.length:-1,x=b;x!=O;x+=d){var _=Q.children[x];if(_.className.indexOf("hidden")===-1&&ae(_.dateObj))return _}}function L(d,u){for(var f=d.className.indexOf("Month")===-1?d.dateObj.getMonth():A.currentMonth,p=u>0?A.config.showMonths:-1,Q=u>0?1:-1,b=f-A.currentMonth;b!=p;b+=Q)for(var O=A.daysContainer.children[b],x=f-A.currentMonth===b?d.$i+u:u<0?O.children.length-1:0,_=O.children.length,I=x;I>=0&&I<_&&I!=(u>0?_:-1);I+=Q){var M=O.children[I];if(M.className.indexOf("hidden")===-1&&ae(M.dateObj)&&Math.abs(d.$i-I)>=Math.abs(u))return K(M)}A.changeMonth(Q),J(k(Q),0)}function J(d,u){var f=a(),p=ut(f||document.body),Q=d!==void 0?d:p?f:A.selectedDateElem!==void 0&&ut(A.selectedDateElem)?A.selectedDateElem:A.todayDateElem!==void 0&&ut(A.todayDateElem)?A.todayDateElem:k(u>0?1:-1);Q===void 0?A._input.focus():p?L(Q,u):K(Q)}function oA(d,u){for(var f=(new Date(d,u,1).getDay()-A.l10n.firstDayOfWeek+7)%7,p=A.utils.getDaysInMonth((u-1+12)%12,d),Q=A.utils.getDaysInMonth(u,d),b=window.document.createDocumentFragment(),O=A.config.showMonths>1,x=O?"prevMonthDay hidden":"prevMonthDay",_=O?"nextMonthDay hidden":"nextMonthDay",I=p+1-f,M=0;I<=p;I++,M++)b.appendChild(v("flatpickr-day "+x,new Date(d,u-1,I),I,M));for(I=1;I<=Q;I++,M++)b.appendChild(v("flatpickr-day",new Date(d,u,I),I,M));for(var Y=Q+1;Y<=42-f&&(A.config.showMonths===1||M%7!==0);Y++,M++)b.appendChild(v("flatpickr-day "+_,new Date(d,u+1,Y%Q),Y,M));var _A=P("div","dayContainer");return _A.appendChild(b),_A}function nA(){if(A.daysContainer!==void 0){pt(A.daysContainer),A.weekNumbers&&pt(A.weekNumbers);for(var d=document.createDocumentFragment(),u=0;u<A.config.showMonths;u++){var f=new Date(A.currentYear,A.currentMonth,1);f.setMonth(A.currentMonth+u),d.appendChild(oA(f.getFullYear(),f.getMonth()))}A.daysContainer.appendChild(d),A.days=A.daysContainer.firstChild,A.config.mode==="range"&&A.selectedDates.length===1&&Bt()}}function N(){if(!(A.config.showMonths>1||A.config.monthSelectorType!=="dropdown")){var d=function(p){return A.config.minDate!==void 0&&A.currentYear===A.config.minDate.getFullYear()&&p<A.config.minDate.getMonth()?!1:!(A.config.maxDate!==void 0&&A.currentYear===A.config.maxDate.getFullYear()&&p>A.config.maxDate.getMonth())};A.monthsDropdownContainer.tabIndex=-1,A.monthsDropdownContainer.innerHTML="";for(var u=0;u<12;u++)if(d(u)){var f=P("option","flatpickr-monthDropdown-month");f.value=new Date(A.currentYear,u).getMonth().toString(),f.textContent=Yt(u,A.config.shorthandCurrentMonth,A.l10n),f.tabIndex=-1,A.currentMonth===u&&(f.selected=!0),A.monthsDropdownContainer.appendChild(f)}}}function eA(){var d=P("div","flatpickr-month"),u=window.document.createDocumentFragment(),f;A.config.showMonths>1||A.config.monthSelectorType==="static"?f=P("span","cur-month"):(A.monthsDropdownContainer=P("select","flatpickr-monthDropdown-months"),A.monthsDropdownContainer.setAttribute("aria-label",A.l10n.monthAriaLabel),h(A.monthsDropdownContainer,"change",function(O){var x=vA(O),_=parseInt(x.value,10);A.changeMonth(_-A.currentMonth),W("onMonthChange")}),N(),f=A.monthsDropdownContainer);var p=wt("cur-year",{tabindex:"-1"}),Q=p.getElementsByTagName("input")[0];Q.setAttribute("aria-label",A.l10n.yearAriaLabel),A.config.minDate&&Q.setAttribute("min",A.config.minDate.getFullYear().toString()),A.config.maxDate&&(Q.setAttribute("max",A.config.maxDate.getFullYear().toString()),Q.disabled=!!A.config.minDate&&A.config.minDate.getFullYear()===A.config.maxDate.getFullYear());var b=P("div","flatpickr-current-month");return b.appendChild(f),b.appendChild(p),u.appendChild(b),d.appendChild(u),{container:d,yearElement:Q,monthElement:f}}function xA(){pt(A.monthNav),A.monthNav.appendChild(A.prevMonthNav),A.config.showMonths&&(A.yearElements=[],A.monthElements=[]);for(var d=A.config.showMonths;d--;){var u=eA();A.yearElements.push(u.yearElement),A.monthElements.push(u.monthElement),A.monthNav.appendChild(u.container)}A.monthNav.appendChild(A.nextMonthNav)}function cA(){return A.monthNav=P("div","flatpickr-months"),A.yearElements=[],A.monthElements=[],A.prevMonthNav=P("span","flatpickr-prev-month"),A.prevMonthNav.innerHTML=A.config.prevArrow,A.nextMonthNav=P("span","flatpickr-next-month"),A.nextMonthNav.innerHTML=A.config.nextArrow,xA(),Object.defineProperty(A,"_hidePrevMonthArrow",{get:function(){return A.__hidePrevMonthArrow},set:function(d){A.__hidePrevMonthArrow!==d&&(fA(A.prevMonthNav,"flatpickr-disabled",d),A.__hidePrevMonthArrow=d)}}),Object.defineProperty(A,"_hideNextMonthArrow",{get:function(){return A.__hideNextMonthArrow},set:function(d){A.__hideNextMonthArrow!==d&&(fA(A.nextMonthNav,"flatpickr-disabled",d),A.__hideNextMonthArrow=d)}}),A.currentYearElement=A.yearElements[0],ht(),A.monthNav}function lA(){A.calendarContainer.classList.add("hasTime"),A.config.noCalendar&&A.calendarContainer.classList.add("noCalendar");var d=In(A.config);A.timeContainer=P("div","flatpickr-time"),A.timeContainer.tabIndex=-1;var u=P("span","flatpickr-time-separator",":"),f=wt("flatpickr-hour",{"aria-label":A.l10n.hourAriaLabel});A.hourElement=f.getElementsByTagName("input")[0];var p=wt("flatpickr-minute",{"aria-label":A.l10n.minuteAriaLabel});if(A.minuteElement=p.getElementsByTagName("input")[0],A.hourElement.tabIndex=A.minuteElement.tabIndex=-1,A.hourElement.value=pA(A.latestSelectedDateObj?A.latestSelectedDateObj.getHours():A.config.time_24hr?d.hours:l(d.hours)),A.minuteElement.value=pA(A.latestSelectedDateObj?A.latestSelectedDateObj.getMinutes():d.minutes),A.hourElement.setAttribute("step",A.config.hourIncrement.toString()),A.minuteElement.setAttribute("step",A.config.minuteIncrement.toString()),A.hourElement.setAttribute("min",A.config.time_24hr?"0":"1"),A.hourElement.setAttribute("max",A.config.time_24hr?"23":"12"),A.hourElement.setAttribute("maxlength","2"),A.minuteElement.setAttribute("min","0"),A.minuteElement.setAttribute("max","59"),A.minuteElement.setAttribute("maxlength","2"),A.timeContainer.appendChild(f),A.timeContainer.appendChild(u),A.timeContainer.appendChild(p),A.config.time_24hr&&A.timeContainer.classList.add("time24hr"),A.config.enableSeconds){A.timeContainer.classList.add("hasSeconds");var Q=wt("flatpickr-second");A.secondElement=Q.getElementsByTagName("input")[0],A.secondElement.value=pA(A.latestSelectedDateObj?A.latestSelectedDateObj.getSeconds():d.seconds),A.secondElement.setAttribute("step",A.minuteElement.getAttribute("step")),A.secondElement.setAttribute("min","0"),A.secondElement.setAttribute("max","59"),A.secondElement.setAttribute("maxlength","2"),A.timeContainer.appendChild(P("span","flatpickr-time-separator",":")),A.timeContainer.appendChild(Q)}return A.config.time_24hr||(A.amPM=P("span","flatpickr-am-pm",A.l10n.amPM[yA((A.latestSelectedDateObj?A.hourElement.value:A.config.defaultHour)>11)]),A.amPM.title=A.l10n.toggleTitle,A.amPM.tabIndex=-1,A.timeContainer.appendChild(A.amPM)),A.timeContainer}function MA(){A.weekdayContainer?pt(A.weekdayContainer):A.weekdayContainer=P("div","flatpickr-weekdays");for(var d=A.config.showMonths;d--;){var u=P("div","flatpickr-weekdaycontainer");A.weekdayContainer.appendChild(u)}return mA(),A.weekdayContainer}function mA(){if(A.weekdayContainer){var d=A.l10n.firstDayOfWeek,u=$r(A.l10n.weekdays.shorthand);d>0&&d<u.length&&(u=$r(u.splice(d,u.length),u.splice(0,d)));for(var f=A.config.showMonths;f--;)A.weekdayContainer.children[f].innerHTML=`
      <span class='flatpickr-weekday'>
        `+u.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function KA(){A.calendarContainer.classList.add("hasWeeks");var d=P("div","flatpickr-weekwrapper");d.appendChild(P("span","flatpickr-weekday",A.l10n.weekAbbreviation));var u=P("div","flatpickr-weeks");return d.appendChild(u),{weekWrapper:d,weekNumbers:u}}function SA(d,u){u===void 0&&(u=!0);var f=u?d:d-A.currentMonth;f<0&&A._hidePrevMonthArrow===!0||f>0&&A._hideNextMonthArrow===!0||(A.currentMonth+=f,(A.currentMonth<0||A.currentMonth>11)&&(A.currentYear+=A.currentMonth>11?1:-1,A.currentMonth=(A.currentMonth+12)%12,W("onYearChange"),N()),nA(),W("onMonthChange"),ht())}function GA(d,u){if(d===void 0&&(d=!0),u===void 0&&(u=!0),A.input.value="",A.altInput!==void 0&&(A.altInput.value=""),A.mobileInput!==void 0&&(A.mobileInput.value=""),A.selectedDates=[],A.latestSelectedDateObj=void 0,u===!0&&(A.currentYear=A._initialDate.getFullYear(),A.currentMonth=A._initialDate.getMonth()),A.config.enableTime===!0){var f=In(A.config),p=f.hours,Q=f.minutes,b=f.seconds;w(p,Q,b)}A.redraw(),d&&W("onChange")}function DA(){A.isOpen=!1,A.isMobile||(A.calendarContainer!==void 0&&A.calendarContainer.classList.remove("open"),A._input!==void 0&&A._input.classList.remove("active")),W("onClose")}function VA(){A.config!==void 0&&W("onDestroy");for(var d=A._handlers.length;d--;)A._handlers[d].remove();if(A._handlers=[],A.mobileInput)A.mobileInput.parentNode&&A.mobileInput.parentNode.removeChild(A.mobileInput),A.mobileInput=void 0;else if(A.calendarContainer&&A.calendarContainer.parentNode)if(A.config.static&&A.calendarContainer.parentNode){var u=A.calendarContainer.parentNode;if(u.lastChild&&u.removeChild(u.lastChild),u.parentNode){for(;u.firstChild;)u.parentNode.insertBefore(u.firstChild,u);u.parentNode.removeChild(u)}}else A.calendarContainer.parentNode.removeChild(A.calendarContainer);A.altInput&&(A.input.type="text",A.altInput.parentNode&&A.altInput.parentNode.removeChild(A.altInput),delete A.altInput),A.input&&(A.input.type=A.input._type,A.input.classList.remove("flatpickr-input"),A.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(f){try{delete A[f]}catch{}})}function gA(d){return A.calendarContainer.contains(d)}function kA(d){if(A.isOpen&&!A.config.inline){var u=vA(d),f=gA(u),p=u===A.input||u===A.altInput||A.element.contains(u)||d.path&&d.path.indexOf&&(~d.path.indexOf(A.input)||~d.path.indexOf(A.altInput)),Q=!p&&!f&&!gA(d.relatedTarget),b=!A.config.ignoredFocusElements.some(function(O){return O.contains(u)});Q&&b&&(A.config.allowInput&&A.setDate(A._input.value,!1,A.config.altInput?A.config.altFormat:A.config.dateFormat),A.timeContainer!==void 0&&A.minuteElement!==void 0&&A.hourElement!==void 0&&A.input.value!==""&&A.input.value!==void 0&&o(),A.close(),A.config&&A.config.mode==="range"&&A.selectedDates.length===1&&A.clear(!1))}}function OA(d){if(!(!d||A.config.minDate&&d<A.config.minDate.getFullYear()||A.config.maxDate&&d>A.config.maxDate.getFullYear())){var u=d,f=A.currentYear!==u;A.currentYear=u||A.currentYear,A.config.maxDate&&A.currentYear===A.config.maxDate.getFullYear()?A.currentMonth=Math.min(A.config.maxDate.getMonth(),A.currentMonth):A.config.minDate&&A.currentYear===A.config.minDate.getFullYear()&&(A.currentMonth=Math.max(A.config.minDate.getMonth(),A.currentMonth)),f&&(A.redraw(),W("onYearChange"),N())}}function ae(d,u){var f;u===void 0&&(u=!0);var p=A.parseDate(d,void 0,u);if(A.config.minDate&&p&&QA(p,A.config.minDate,u!==void 0?u:!A.minDateHasTime)<0||A.config.maxDate&&p&&QA(p,A.config.maxDate,u!==void 0?u:!A.maxDateHasTime)>0)return!1;if(!A.config.enable&&A.config.disable.length===0)return!0;if(p===void 0)return!1;for(var Q=!!A.config.enable,b=(f=A.config.enable)!==null&&f!==void 0?f:A.config.disable,O=0,x=void 0;O<b.length;O++){if(x=b[O],typeof x=="function"&&x(p))return Q;if(x instanceof Date&&p!==void 0&&x.getTime()===p.getTime())return Q;if(typeof x=="string"){var _=A.parseDate(x,void 0,!0);return _&&_.getTime()===p.getTime()?Q:!Q}else if(typeof x=="object"&&p!==void 0&&x.from&&x.to&&p.getTime()>=x.from.getTime()&&p.getTime()<=x.to.getTime())return Q}return!Q}function ut(d){return A.daysContainer!==void 0?d.className.indexOf("hidden")===-1&&d.className.indexOf("flatpickr-disabled")===-1&&A.daysContainer.contains(d):!1}function pi(d){var u=d.target===A._input,f=A._input.value.trimEnd()!==vn();u&&f&&!(d.relatedTarget&&gA(d.relatedTarget))&&A.setDate(A._input.value,!0,d.target===A.altInput?A.config.altFormat:A.config.dateFormat)}function Sr(d){var u=vA(d),f=A.config.wrap?t.contains(u):u===A._input,p=A.config.allowInput,Q=A.isOpen&&(!p||!f),b=A.config.inline&&f&&!p;if(d.keyCode===13&&f){if(p)return A.setDate(A._input.value,!0,u===A.altInput?A.config.altFormat:A.config.dateFormat),A.close(),u.blur();A.open()}else if(gA(u)||Q||b){var O=!!A.timeContainer&&A.timeContainer.contains(u);switch(d.keyCode){case 13:O?(d.preventDefault(),o(),wn()):Kr(d);break;case 27:d.preventDefault(),wn();break;case 8:case 46:f&&!A.config.allowInput&&(d.preventDefault(),A.clear());break;case 37:case 39:if(!O&&!f){d.preventDefault();var x=a();if(A.daysContainer!==void 0&&(p===!1||x&&ut(x))){var _=d.keyCode===39?1:-1;d.ctrlKey?(d.stopPropagation(),SA(_),J(k(1),0)):J(void 0,_)}}else A.hourElement&&A.hourElement.focus();break;case 38:case 40:d.preventDefault();var I=d.keyCode===40?1:-1;A.daysContainer&&u.$i!==void 0||u===A.input||u===A.altInput?d.ctrlKey?(d.stopPropagation(),OA(A.currentYear-I),J(k(1),0)):O||J(void 0,I*7):u===A.currentYearElement?OA(A.currentYear-I):A.config.enableTime&&(!O&&A.hourElement&&A.hourElement.focus(),o(d),A._debouncedChange());break;case 9:if(O){var M=[A.hourElement,A.minuteElement,A.secondElement,A.amPM].concat(A.pluginElements).filter(function(CA){return CA}),Y=M.indexOf(u);if(Y!==-1){var _A=M[Y+(d.shiftKey?-1:1)];d.preventDefault(),(_A||A._input).focus()}}else!A.config.noCalendar&&A.daysContainer&&A.daysContainer.contains(u)&&d.shiftKey&&(d.preventDefault(),A._input.focus());break}}if(A.amPM!==void 0&&u===A.amPM)switch(d.key){case A.l10n.amPM[0].charAt(0):case A.l10n.amPM[0].charAt(0).toLowerCase():A.amPM.textContent=A.l10n.amPM[0],B(),$A();break;case A.l10n.amPM[1].charAt(0):case A.l10n.amPM[1].charAt(0).toLowerCase():A.amPM.textContent=A.l10n.amPM[1],B(),$A();break}(f||gA(u))&&W("onKeyDown",d)}function Bt(d,u){if(u===void 0&&(u="flatpickr-day"),!(A.selectedDates.length!==1||d&&(!d.classList.contains(u)||d.classList.contains("flatpickr-disabled")))){for(var f=d?d.dateObj.getTime():A.days.firstElementChild.dateObj.getTime(),p=A.parseDate(A.selectedDates[0],void 0,!0).getTime(),Q=Math.min(f,A.selectedDates[0].getTime()),b=Math.max(f,A.selectedDates[0].getTime()),O=!1,x=0,_=0,I=Q;I<b;I+=co.DAY)ae(new Date(I),!0)||(O=O||I>Q&&I<b,I<p&&(!x||I>x)?x=I:I>p&&(!_||I<_)&&(_=I));var M=Array.from(A.rContainer.querySelectorAll("*:nth-child(-n+"+A.config.showMonths+") > ."+u));M.forEach(function(Y){var _A=Y.dateObj,CA=_A.getTime(),Te=x>0&&CA<x||_>0&&CA>_;if(Te){Y.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(ge){Y.classList.remove(ge)});return}else if(O&&!Te)return;["startRange","inRange","endRange","notAllowed"].forEach(function(ge){Y.classList.remove(ge)}),d!==void 0&&(d.classList.add(f<=A.selectedDates[0].getTime()?"startRange":"endRange"),p<f&&CA===p?Y.classList.add("startRange"):p>f&&CA===p&&Y.classList.add("endRange"),CA>=x&&(_===0||CA<=_)&&io(CA,p,f)&&Y.classList.add("inRange"))})}}function wi(){A.isOpen&&!A.config.static&&!A.config.inline&&gt()}function mi(d,u){if(u===void 0&&(u=A._positionElement),A.isMobile===!0){if(d){d.preventDefault();var f=vA(d);f&&f.blur()}A.mobileInput!==void 0&&(A.mobileInput.focus(),A.mobileInput.click()),W("onOpen");return}else if(A._input.disabled||A.config.inline)return;var p=A.isOpen;A.isOpen=!0,p||(A.calendarContainer.classList.add("open"),A._input.classList.add("active"),W("onOpen"),gt(u)),A.config.enableTime===!0&&A.config.noCalendar===!0&&A.config.allowInput===!1&&(d===void 0||!A.timeContainer.contains(d.relatedTarget))&&setTimeout(function(){return A.hourElement.select()},50)}function Dr(d){return function(u){var f=A.config["_"+d+"Date"]=A.parseDate(u,A.config.dateFormat),p=A.config["_"+(d==="min"?"max":"min")+"Date"];f!==void 0&&(A[d==="min"?"minDateHasTime":"maxDateHasTime"]=f.getHours()>0||f.getMinutes()>0||f.getSeconds()>0),A.selectedDates&&(A.selectedDates=A.selectedDates.filter(function(Q){return ae(Q)}),!A.selectedDates.length&&d==="min"&&g(f),$A()),A.daysContainer&&(Mr(),f!==void 0?A.currentYearElement[d]=f.getFullYear().toString():A.currentYearElement.removeAttribute(d),A.currentYearElement.disabled=!!p&&f!==void 0&&p.getFullYear()===f.getFullYear())}}function Ci(){var d=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],u=uA(uA({},JSON.parse(JSON.stringify(t.dataset||{}))),e),f={};A.config.parseDate=u.parseDate,A.config.formatDate=u.formatDate,Object.defineProperty(A.config,"enable",{get:function(){return A.config._enable},set:function(M){A.config._enable=Or(M)}}),Object.defineProperty(A.config,"disable",{get:function(){return A.config._disable},set:function(M){A.config._disable=Or(M)}});var p=u.mode==="time";if(!u.dateFormat&&(u.enableTime||p)){var Q=j.defaultConfig.dateFormat||be.dateFormat;f.dateFormat=u.noCalendar||p?"H:i"+(u.enableSeconds?":S":""):Q+" H:i"+(u.enableSeconds?":S":"")}if(u.altInput&&(u.enableTime||p)&&!u.altFormat){var b=j.defaultConfig.altFormat||be.altFormat;f.altFormat=u.noCalendar||p?"h:i"+(u.enableSeconds?":S K":" K"):b+(" h:i"+(u.enableSeconds?":S":"")+" K")}Object.defineProperty(A.config,"minDate",{get:function(){return A.config._minDate},set:Dr("min")}),Object.defineProperty(A.config,"maxDate",{get:function(){return A.config._maxDate},set:Dr("max")});var O=function(M){return function(Y){A.config[M==="min"?"_minTime":"_maxTime"]=A.parseDate(Y,"H:i:S")}};Object.defineProperty(A.config,"minTime",{get:function(){return A.config._minTime},set:O("min")}),Object.defineProperty(A.config,"maxTime",{get:function(){return A.config._maxTime},set:O("max")}),u.mode==="time"&&(A.config.noCalendar=!0,A.config.enableTime=!0),Object.assign(A.config,f,u);for(var x=0;x<d.length;x++)A.config[d[x]]=A.config[d[x]]===!0||A.config[d[x]]==="true";Un.filter(function(M){return A.config[M]!==void 0}).forEach(function(M){A.config[M]=yn(A.config[M]||[]).map(s)}),A.isMobile=!A.config.disableMobile&&!A.config.inline&&A.config.mode==="single"&&!A.config.disable.length&&!A.config.enable&&!A.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var x=0;x<A.config.plugins.length;x++){var _=A.config.plugins[x](A)||{};for(var I in _)Un.indexOf(I)>-1?A.config[I]=yn(_[I]).map(s).concat(A.config[I]):typeof u[I]>"u"&&(A.config[I]=_[I])}u.altInputClass||(A.config.altInputClass=Lr().className+" "+A.config.altInputClass),W("onParseConfig")}function Lr(){return A.config.wrap?t.querySelector("[data-input]"):t}function Tr(){typeof A.config.locale!="object"&&typeof j.l10ns[A.config.locale]>"u"&&A.config.errorHandler(new Error("flatpickr: invalid locale "+A.config.locale)),A.l10n=uA(uA({},j.l10ns.default),typeof A.config.locale=="object"?A.config.locale:A.config.locale!=="default"?j.l10ns[A.config.locale]:void 0),ie.D="("+A.l10n.weekdays.shorthand.join("|")+")",ie.l="("+A.l10n.weekdays.longhand.join("|")+")",ie.M="("+A.l10n.months.shorthand.join("|")+")",ie.F="("+A.l10n.months.longhand.join("|")+")",ie.K="("+A.l10n.amPM[0]+"|"+A.l10n.amPM[1]+"|"+A.l10n.amPM[0].toLowerCase()+"|"+A.l10n.amPM[1].toLowerCase()+")";var d=uA(uA({},e),JSON.parse(JSON.stringify(t.dataset||{})));d.time_24hr===void 0&&j.defaultConfig.time_24hr===void 0&&(A.config.time_24hr=A.l10n.time_24hr),A.formatDate=us(A),A.parseDate=Zn({config:A.config,l10n:A.l10n})}function gt(d){if(typeof A.config.position=="function")return void A.config.position(A,d);if(A.calendarContainer!==void 0){W("onPreCalendarPosition");var u=d||A._positionElement,f=Array.prototype.reduce.call(A.calendarContainer.children,(function(_i,Ri){return _i+Ri.offsetHeight}),0),p=A.calendarContainer.offsetWidth,Q=A.config.position.split(" "),b=Q[0],O=Q.length>1?Q[1]:null,x=u.getBoundingClientRect(),_=window.innerHeight-x.bottom,I=b==="above"||b!=="below"&&_<f&&x.top>f,M=window.pageYOffset+x.top+(I?-f-2:u.offsetHeight+2);if(fA(A.calendarContainer,"arrowTop",!I),fA(A.calendarContainer,"arrowBottom",I),!A.config.inline){var Y=window.pageXOffset+x.left,_A=!1,CA=!1;O==="center"?(Y-=(p-x.width)/2,_A=!0):O==="right"&&(Y-=p-x.width,CA=!0),fA(A.calendarContainer,"arrowLeft",!_A&&!CA),fA(A.calendarContainer,"arrowCenter",_A),fA(A.calendarContainer,"arrowRight",CA);var Te=window.document.body.offsetWidth-(window.pageXOffset+x.right),ge=Y+p>window.document.body.offsetWidth,Di=Te+p>window.document.body.offsetWidth;if(fA(A.calendarContainer,"rightMost",ge),!A.config.static)if(A.calendarContainer.style.top=M+"px",!ge)A.calendarContainer.style.left=Y+"px",A.calendarContainer.style.right="auto";else if(!Di)A.calendarContainer.style.left="auto",A.calendarContainer.style.right=Te+"px";else{var Qn=vi();if(Qn===void 0)return;var Li=window.document.body.offsetWidth,Ti=Math.max(0,Li/2-p/2),Mi=".flatpickr-calendar.centerMost:before",Ki=".flatpickr-calendar.centerMost:after",ki=Qn.cssRules.length,Oi="{left:"+x.left+"px;right:auto;}";fA(A.calendarContainer,"rightMost",!1),fA(A.calendarContainer,"centerMost",!0),Qn.insertRule(Mi+","+Ki+Oi,ki),A.calendarContainer.style.left=Ti+"px",A.calendarContainer.style.right="auto"}}}}function vi(){for(var d=null,u=0;u<document.styleSheets.length;u++){var f=document.styleSheets[u];if(f.cssRules){try{f.cssRules}catch{continue}d=f;break}}return d??Qi()}function Qi(){var d=document.createElement("style");return document.head.appendChild(d),d.sheet}function Mr(){A.config.noCalendar||A.isMobile||(N(),ht(),nA())}function wn(){A._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(A.close,0):A.close()}function Kr(d){d.preventDefault(),d.stopPropagation();var u=function(M){return M.classList&&M.classList.contains("flatpickr-day")&&!M.classList.contains("flatpickr-disabled")&&!M.classList.contains("notAllowed")},f=ds(vA(d),u);if(f!==void 0){var p=f,Q=A.latestSelectedDateObj=new Date(p.dateObj.getTime()),b=(Q.getMonth()<A.currentMonth||Q.getMonth()>A.currentMonth+A.config.showMonths-1)&&A.config.mode!=="range";if(A.selectedDateElem=p,A.config.mode==="single")A.selectedDates=[Q];else if(A.config.mode==="multiple"){var O=Cn(Q);O?A.selectedDates.splice(parseInt(O),1):A.selectedDates.push(Q)}else A.config.mode==="range"&&(A.selectedDates.length===2&&A.clear(!1,!1),A.latestSelectedDateObj=Q,A.selectedDates.push(Q),QA(Q,A.selectedDates[0],!0)!==0&&A.selectedDates.sort(function(M,Y){return M.getTime()-Y.getTime()}));if(B(),b){var x=A.currentYear!==Q.getFullYear();A.currentYear=Q.getFullYear(),A.currentMonth=Q.getMonth(),x&&(W("onYearChange"),N()),W("onMonthChange")}if(ht(),nA(),$A(),!b&&A.config.mode!=="range"&&A.config.showMonths===1?K(p):A.selectedDateElem!==void 0&&A.hourElement===void 0&&A.selectedDateElem&&A.selectedDateElem.focus(),A.hourElement!==void 0&&A.hourElement!==void 0&&A.hourElement.focus(),A.config.closeOnSelect){var _=A.config.mode==="single"&&!A.config.enableTime,I=A.config.mode==="range"&&A.selectedDates.length===2&&!A.config.enableTime;(_||I)&&wn()}H()}}var ft={locale:[Tr,mA],showMonths:[xA,i,MA],minDate:[F],maxDate:[F],positionElement:[_r],clickOpens:[function(){A.config.clickOpens===!0?(h(A._input,"focus",A.open),h(A._input,"click",A.open)):(A._input.removeEventListener("focus",A.open),A._input.removeEventListener("click",A.open))}]};function Fi(d,u){if(d!==null&&typeof d=="object"){Object.assign(A.config,d);for(var f in d)ft[f]!==void 0&&ft[f].forEach(function(p){return p()})}else A.config[d]=u,ft[d]!==void 0?ft[d].forEach(function(p){return p()}):Un.indexOf(d)>-1&&(A.config[d]=yn(u));A.redraw(),$A(!0)}function kr(d,u){var f=[];if(d instanceof Array)f=d.map(function(p){return A.parseDate(p,u)});else if(d instanceof Date||typeof d=="number")f=[A.parseDate(d,u)];else if(typeof d=="string")switch(A.config.mode){case"single":case"time":f=[A.parseDate(d,u)];break;case"multiple":f=d.split(A.config.conjunction).map(function(p){return A.parseDate(p,u)});break;case"range":f=d.split(A.l10n.rangeSeparator).map(function(p){return A.parseDate(p,u)});break}else A.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(d)));A.selectedDates=A.config.allowInvalidPreload?f:f.filter(function(p){return p instanceof Date&&ae(p,!1)}),A.config.mode==="range"&&A.selectedDates.sort(function(p,Q){return p.getTime()-Q.getTime()})}function Ui(d,u,f){if(u===void 0&&(u=!1),f===void 0&&(f=A.config.dateFormat),d!==0&&!d||d instanceof Array&&d.length===0)return A.clear(u);kr(d,f),A.latestSelectedDateObj=A.selectedDates[A.selectedDates.length-1],A.redraw(),F(void 0,u),g(),A.selectedDates.length===0&&A.clear(!1),$A(u),u&&W("onChange")}function Or(d){return d.slice().map(function(u){return typeof u=="string"||typeof u=="number"||u instanceof Date?A.parseDate(u,void 0,!0):u&&typeof u=="object"&&u.from&&u.to?{from:A.parseDate(u.from,void 0),to:A.parseDate(u.to,void 0)}:u}).filter(function(u){return u})}function yi(){A.selectedDates=[],A.now=A.parseDate(A.config.now)||new Date;var d=A.config.defaultDate||((A.input.nodeName==="INPUT"||A.input.nodeName==="TEXTAREA")&&A.input.placeholder&&A.input.value===A.input.placeholder?null:A.input.value);d&&kr(d,A.config.dateFormat),A._initialDate=A.selectedDates.length>0?A.selectedDates[0]:A.config.minDate&&A.config.minDate.getTime()>A.now.getTime()?A.config.minDate:A.config.maxDate&&A.config.maxDate.getTime()<A.now.getTime()?A.config.maxDate:A.now,A.currentYear=A._initialDate.getFullYear(),A.currentMonth=A._initialDate.getMonth(),A.selectedDates.length>0&&(A.latestSelectedDateObj=A.selectedDates[0]),A.config.minTime!==void 0&&(A.config.minTime=A.parseDate(A.config.minTime,"H:i")),A.config.maxTime!==void 0&&(A.config.maxTime=A.parseDate(A.config.maxTime,"H:i")),A.minDateHasTime=!!A.config.minDate&&(A.config.minDate.getHours()>0||A.config.minDate.getMinutes()>0||A.config.minDate.getSeconds()>0),A.maxDateHasTime=!!A.config.maxDate&&(A.config.maxDate.getHours()>0||A.config.maxDate.getMinutes()>0||A.config.maxDate.getSeconds()>0)}function bi(){if(A.input=Lr(),!A.input){A.config.errorHandler(new Error("Invalid input element specified"));return}A.input._type=A.input.type,A.input.type="text",A.input.classList.add("flatpickr-input"),A._input=A.input,A.config.altInput&&(A.altInput=P(A.input.nodeName,A.config.altInputClass),A._input=A.altInput,A.altInput.placeholder=A.input.placeholder,A.altInput.disabled=A.input.disabled,A.altInput.required=A.input.required,A.altInput.tabIndex=A.input.tabIndex,A.altInput.type="text",A.input.setAttribute("type","hidden"),!A.config.static&&A.input.parentNode&&A.input.parentNode.insertBefore(A.altInput,A.input.nextSibling)),A.config.allowInput||A._input.setAttribute("readonly","readonly"),_r()}function _r(){A._positionElement=A.config.positionElement||A._input}function Ei(){var d=A.config.enableTime?A.config.noCalendar?"time":"datetime-local":"date";A.mobileInput=P("input",A.input.className+" flatpickr-mobile"),A.mobileInput.tabIndex=1,A.mobileInput.type=d,A.mobileInput.disabled=A.input.disabled,A.mobileInput.required=A.input.required,A.mobileInput.placeholder=A.input.placeholder,A.mobileFormatStr=d==="datetime-local"?"Y-m-d\\TH:i:S":d==="date"?"Y-m-d":"H:i:S",A.selectedDates.length>0&&(A.mobileInput.defaultValue=A.mobileInput.value=A.formatDate(A.selectedDates[0],A.mobileFormatStr)),A.config.minDate&&(A.mobileInput.min=A.formatDate(A.config.minDate,"Y-m-d")),A.config.maxDate&&(A.mobileInput.max=A.formatDate(A.config.maxDate,"Y-m-d")),A.input.getAttribute("step")&&(A.mobileInput.step=String(A.input.getAttribute("step"))),A.input.type="hidden",A.altInput!==void 0&&(A.altInput.type="hidden");try{A.input.parentNode&&A.input.parentNode.insertBefore(A.mobileInput,A.input.nextSibling)}catch{}h(A.mobileInput,"change",function(u){A.setDate(vA(u).value,!1,A.mobileFormatStr),W("onChange"),W("onClose")})}function Ii(d){if(A.isOpen===!0)return A.close();A.open(d)}function W(d,u){if(A.config!==void 0){var f=A.config[d];if(f!==void 0&&f.length>0)for(var p=0;f[p]&&p<f.length;p++)f[p](A.selectedDates,A.input.value,A,u);d==="onChange"&&(A.input.dispatchEvent(mn("change")),A.input.dispatchEvent(mn("input")))}}function mn(d){var u=document.createEvent("Event");return u.initEvent(d,!0,!0),u}function Cn(d){for(var u=0;u<A.selectedDates.length;u++){var f=A.selectedDates[u];if(f instanceof Date&&QA(f,d)===0)return""+u}return!1}function Hi(d){return A.config.mode!=="range"||A.selectedDates.length<2?!1:QA(d,A.selectedDates[0])>=0&&QA(d,A.selectedDates[1])<=0}function ht(){A.config.noCalendar||A.isMobile||!A.monthNav||(A.yearElements.forEach(function(d,u){var f=new Date(A.currentYear,A.currentMonth,1);f.setMonth(A.currentMonth+u),A.config.showMonths>1||A.config.monthSelectorType==="static"?A.monthElements[u].textContent=Yt(f.getMonth(),A.config.shorthandCurrentMonth,A.l10n)+" ":A.monthsDropdownContainer.value=f.getMonth().toString(),d.value=f.getFullYear().toString()}),A._hidePrevMonthArrow=A.config.minDate!==void 0&&(A.currentYear===A.config.minDate.getFullYear()?A.currentMonth<=A.config.minDate.getMonth():A.currentYear<A.config.minDate.getFullYear()),A._hideNextMonthArrow=A.config.maxDate!==void 0&&(A.currentYear===A.config.maxDate.getFullYear()?A.currentMonth+1>A.config.maxDate.getMonth():A.currentYear>A.config.maxDate.getFullYear()))}function vn(d){var u=d||(A.config.altInput?A.config.altFormat:A.config.dateFormat);return A.selectedDates.map(function(f){return A.formatDate(f,u)}).filter(function(f,p,Q){return A.config.mode!=="range"||A.config.enableTime||Q.indexOf(f)===p}).join(A.config.mode!=="range"?A.config.conjunction:A.l10n.rangeSeparator)}function $A(d){d===void 0&&(d=!0),A.mobileInput!==void 0&&A.mobileFormatStr&&(A.mobileInput.value=A.latestSelectedDateObj!==void 0?A.formatDate(A.latestSelectedDateObj,A.mobileFormatStr):""),A.input.value=vn(A.config.dateFormat),A.altInput!==void 0&&(A.altInput.value=vn(A.config.altFormat)),d!==!1&&W("onValueUpdate")}function xi(d){var u=vA(d),f=A.prevMonthNav.contains(u),p=A.nextMonthNav.contains(u);f||p?SA(f?-1:1):A.yearElements.indexOf(u)>=0?u.select():u.classList.contains("arrowUp")?A.changeYear(A.currentYear+1):u.classList.contains("arrowDown")&&A.changeYear(A.currentYear-1)}function Si(d){d.preventDefault();var u=d.type==="keydown",f=vA(d),p=f;A.amPM!==void 0&&f===A.amPM&&(A.amPM.textContent=A.l10n.amPM[yA(A.amPM.textContent===A.l10n.amPM[0])]);var Q=parseFloat(p.getAttribute("min")),b=parseFloat(p.getAttribute("max")),O=parseFloat(p.getAttribute("step")),x=parseInt(p.value,10),_=d.delta||(u?d.which===38?1:-1:0),I=x+O*_;if(typeof p.value<"u"&&p.value.length===2){var M=p===A.hourElement,Y=p===A.minuteElement;I<Q?(I=b+I+yA(!M)+(yA(M)&&yA(!A.amPM)),Y&&D(void 0,-1,A.hourElement)):I>b&&(I=p===A.hourElement?I-b-yA(!A.amPM):Q,Y&&D(void 0,1,A.hourElement)),A.amPM&&M&&(O===1?I+x===23:Math.abs(I-x)>O)&&(A.amPM.textContent=A.l10n.amPM[yA(A.amPM.textContent===A.l10n.amPM[0])]),p.value=pA(I)}}return r(),A}function Ee(t,e){for(var A=Array.prototype.slice.call(t).filter(function(s){return s instanceof HTMLElement}),n=[],r=0;r<A.length;r++){var a=A[r];try{if(a.getAttribute("data-fp-omit")!==null)continue;a._flatpickr!==void 0&&(a._flatpickr.destroy(),a._flatpickr=void 0),a._flatpickr=uo(a,e||{}),n.push(a._flatpickr)}catch(s){console.error(s)}}return n.length===1?n[0]:n}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(t){return Ee(this,t)},HTMLElement.prototype.flatpickr=function(t){return Ee([this],t)});var j=function(t,e){return typeof t=="string"?Ee(window.document.querySelectorAll(t),e):t instanceof Node?Ee([t],e):Ee(t,e)};j.defaultConfig={};j.l10ns={en:uA({},rt),default:uA({},rt)};j.localize=function(t){j.l10ns.default=uA(uA({},j.l10ns.default),t)};j.setDefaults=function(t){j.defaultConfig=uA(uA({},j.defaultConfig),t)};j.parseDate=Zn({});j.formatDate=us({});j.compareDates=QA;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(t){return Ee(this,t)});Date.prototype.fp_incr=function(t){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof t=="string"?parseInt(t,10):t))};typeof window<"u"&&(window.flatpickr=j);var Ge={exports:{}},Bo=Ge.exports,Yr;function go(){return Yr||(Yr=1,(function(t,e){(function(A,n){n(e)})(Bo,(function(A){var n=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},r={weekdays:{shorthand:["å‘¨æ—¥","å‘¨ä¸€","å‘¨äºŒ","å‘¨ä¸‰","å‘¨å››","å‘¨äº”","å‘¨å…­"],longhand:["æ˜ŸæœŸæ—¥","æ˜ŸæœŸä¸€","æ˜ŸæœŸäºŒ","æ˜ŸæœŸä¸‰","æ˜ŸæœŸå››","æ˜ŸæœŸäº”","æ˜ŸæœŸå…­"]},months:{shorthand:["ä¸€æœˆ","äºŒæœˆ","ä¸‰æœˆ","å››æœˆ","äº”æœˆ","å…­æœˆ","ä¸ƒæœˆ","å…«æœˆ","ä¹æœˆ","åæœˆ","åä¸€æœˆ","åäºŒæœˆ"],longhand:["ä¸€æœˆ","äºŒæœˆ","ä¸‰æœˆ","å››æœˆ","äº”æœˆ","å…­æœˆ","ä¸ƒæœˆ","å…«æœˆ","ä¹æœˆ","åæœˆ","åä¸€æœˆ","åäºŒæœˆ"]},rangeSeparator:" è‡³ ",weekAbbreviation:"å‘¨",scrollTitle:"æ»šåŠ¨åˆ‡æ¢",toggleTitle:"ç‚¹å‡»åˆ‡æ¢ 12/24 å°æ—¶æ—¶åˆ¶"};n.l10ns.zh=r;var a=n.l10ns;A.Mandarin=r,A.default=a,Object.defineProperty(A,"__esModule",{value:!0})}))})(Ge,Ge.exports)),Ge.exports}var fo=go();class ho{constructor(e){if(this.matchType=UA(e.type),!this.matchType){window.router.navigate("/");return}this.formData={personA:{name:"",gender:"",birthDate:"",lunarDate:""},personB:{name:"",gender:"",birthDate:"",lunarDate:""}},this.currentStep=1}render(){return this.matchType?`
      <div class="page birthday-input-page">
        ${aA({title:"ç”Ÿæ—¥åŒ¹é…",showBack:!0,showHistory:!1,showProfile:!1})}
        
        <main class="page-content">
          <div class="app-container">
            
            <!-- è¿›åº¦æŒ‡ç¤º -->
            <section class="progress-section">
              ${ct(this.currentStep,2,{showText:!1,showSteps:!1,stepLabel:`æ­¥éª¤ ${this.currentStep}/2ï¼šè¾“å…¥${this.currentStep===1?"ä½ çš„":"å¯¹æ–¹çš„"}ä¿¡æ¯`})}
            </section>

            <!-- è¡¨å•åŒºåŸŸ -->
            <section class="form-section animate-fade-in-up">
              <div class="glass-card">
                <h3 class="heading-3 mb-4">
                  ${this.currentStep===1?"ğŸ‘¤ ä½ çš„ä¿¡æ¯":"ğŸ‘¥ å¯¹æ–¹çš„ä¿¡æ¯"}
                </h3>
                
                <form id="birthday-form" class="form">
                  <!-- æ€§åˆ« -->
                  <div class="input-group mb-4">
                    <div class="gender-selector">
                      <button type="button" class="gender-btn" data-gender="male">
                        <span class="gender-icon">ğŸ‘¨</span>
                        <span>ç”·</span>
                      </button>
                      <button type="button" class="gender-btn" data-gender="female">
                        <span class="gender-icon">ğŸ‘©</span>
                        <span>å¥³</span>
                      </button>
                    </div>
                  </div>

                  <!-- ç§°å‘¼ -->
                  <div class="input-group mb-4">
                    <input 
                      type="text" 
                      id="name" 
                      class="input" 
                      placeholder="ç§°å‘¼"
                      maxlength="10"
                    >
                  </div>

                  <!-- å‡ºç”Ÿæ—¥æœŸ -->
                  <div class="input-group mb-4">
                    <div class="date-input-wrapper">
                      <input 
                        type="text" 
                        id="birthDate" 
                        class="input flatpickr-input"
                        placeholder="è¯·é€‰æ‹©é˜³å†ç”Ÿæ—¥"
                        readonly
                      >
                    </div>
                    <div id="lunar-date" class="lunar-date-display" style="display: none;">
                      <span class="lunar-icon">ğŸŒ™</span>
                      <span class="lunar-text"></span>
                    </div>
                  </div>
                </form>
              </div>
            </section>

            <!-- å·²è¾“å…¥çš„Aä¿¡æ¯å±•ç¤ºï¼ˆæ­¥éª¤2æ—¶æ˜¾ç¤ºï¼‰-->
            ${this.renderPersonAInfo()}

          </div>
        </main>

        <!-- åº•éƒ¨æ“ä½œæ  -->
        <div class="bottom-action-bar safe-area-bottom">
          <div class="action-bar__buttons">
            ${this.currentStep===2?`
              <button class="btn btn--secondary" data-action="back-step">ä¸Šä¸€æ­¥</button>
            `:""}
            <button class="btn btn--primary btn--full" data-action="next" disabled>
              ${this.currentStep===1?"ä¸‹ä¸€æ­¥":"å¼€å§‹åˆ†æ"}
            </button>
          </div>
        </div>
      </div>
    `:""}renderPersonAInfo(){const e=this.formData.personA,A=this.formData.personB,n=e.gender==="male"?"ğŸ‘¨":e.gender==="female"?"ğŸ‘©":"ğŸ‘¤",r=A.gender==="male"?"ğŸ‘¨":A.gender==="female"?"ğŸ‘©":"ğŸ‘¤";return`
      <section class="persons-info mt-4 animate-fade-in">
        <div class="persons-info__cards">
          <!-- ç”²æ–¹ä¿¡æ¯å¡ç‰‡ -->
          <div class="person-card ${this.currentStep===1?"person-card--active":""}" data-person="A">
            <div class="person-card__top">
              <span class="person-avatar">${n}</span>
              <div class="person-card__info">
                <p class="person-card__name">${e.name||"ç”²æ–¹"}</p>
                <div class="person-card__date-row">
                  <span class="person-card__date">${e.birthDate||"æœªå¡«å†™"}</span>
                  <span class="badge ${e.name?"badge--success":"badge--secondary"}">
                    ${e.name?"å·²å¡«å†™":"å¾…å¡«å†™"}
                  </span>
                </div>
              </div>
            </div>
            ${e.lunarDate?`<p class="person-card__lunar">${e.lunarDate}</p>`:""}
          </div>
          
          <!-- ä¹™æ–¹ä¿¡æ¯å¡ç‰‡ -->
          <div class="person-card ${this.currentStep===2?"person-card--active":""}" data-person="B">
            <div class="person-card__top">
              <span class="person-avatar">${r}</span>
              <div class="person-card__info">
                <p class="person-card__name">${A.name||"ä¹™æ–¹"}</p>
                <div class="person-card__date-row">
                  <span class="person-card__date">${A.birthDate||"æœªå¡«å†™"}</span>
                  <span class="badge ${A.name?"badge--success":"badge--secondary"}">
                    ${A.name?"å·²å¡«å†™":"å¾…å¡«å†™"}
                  </span>
                </div>
              </div>
            </div>
            ${A.lunarDate?`<p class="person-card__lunar">${A.lunarDate}</p>`:""}
          </div>
        </div>
      </section>
    `}attachEvents(){const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{this.currentStep===2?this.goBackStep():window.router.back()}),document.querySelectorAll(".person-card").forEach(s=>{s.addEventListener("click",()=>{const i=s.dataset.person;this.switchToPerson(i)})}),document.querySelectorAll(".gender-btn").forEach(s=>{s.addEventListener("click",()=>{this.selectGender(s.dataset.gender)})});const A=document.getElementById("name"),n=document.getElementById("birthDate");if(A&&A.addEventListener("input",()=>this.validateForm()),n){const s=new Date().getFullYear(),i=[];for(let o=s;o>=1920;o--)i.push(o);this.flatpickrInstance=j(n,{dateFormat:"Y-m-d",locale:fo.Mandarin,maxDate:"today",minDate:"1920-01-01",disableMobile:!0,allowInput:!1,clickOpens:!0,appendTo:document.body,onChange:(o,c)=>{this.updateLunarDate(c),this.validateForm(),this.updateCalendarHeader(o[0])},onReady:(o,c,l)=>{const B=l.calendarContainer;if(B){const g=document.createElement("div");g.className="flatpickr-header-display",g.innerHTML='<span class="header-date">è¯·é€‰æ‹©æ—¥æœŸ</span>',B.insertBefore(g,B.firstChild);const w=B.querySelector(".cur-year"),m=B.querySelector(".flatpickr-monthDropdown-months");if(w&&m){const U=document.createElement("select");U.className="flatpickr-yearDropdown",i.forEach(T=>{const D=document.createElement("option");D.value=T,D.textContent=T+"å¹´",U.appendChild(D)}),U.value=l.currentYear,U.addEventListener("change",T=>{l.changeYear(parseInt(T.target.value))}),w.parentNode.replaceChild(U,w);const F=B.querySelector(".flatpickr-current-month");F&&F.insertBefore(U,m)}const h=document.createElement("div");h.className="flatpickr-overlay",document.body.appendChild(h),this.flatpickrOverlay=h,h.addEventListener("click",()=>{l.close()});const H=document.createElement("style");H.textContent=`
                            /* é®ç½©å±‚ */
                            .flatpickr-overlay {
                                display: none;
                                position: fixed;
                                top: 0;
                                left: 0;
                                right: 0;
                                bottom: 0;
                                background: rgba(0, 0, 0, 0.5);
                                z-index: 9998;
                            }
                            .flatpickr-overlay.active {
                                display: block;
                            }
                            
                            /* æ—¥å†å®¹å™¨å±…ä¸­ + ç´«è‰²é˜´å½± - æ— åœ†è§’ */
                            .flatpickr-calendar {
                                position: fixed !important;
                                top: 50% !important;
                                left: 50% !important;
                                transform: translate(-50%, -50%) !important;
                                z-index: 9999 !important;
                                border-radius: 16px !important;
                                box-shadow: 0 12px 48px rgba(139, 127, 216, 0.35) !important;
                                width: 340px !important;
                                max-width: 92vw !important;
                                border: none !important;
                                overflow: hidden !important;
                                background: linear-gradient(180deg, #8B7FD8 0%, #A78BFA 15%, #E8D5FF 35%, #FFE5F0 60%, #E5F0FF 100%) !important;
                            }
                            .flatpickr-calendar.open {
                                display: block !important;
                            }
                            
                            /* é¡¶éƒ¨æ—¥æœŸæ˜¾ç¤º - é€æ˜èƒŒæ™¯èå…¥æ•´ä½“æ¸å˜ */
                            .flatpickr-header-display {
                                background: transparent !important;
                                padding: 24px 20px !important;
                                text-align: center;
                                border-radius: 0 !important;
                                border: none !important;
                                margin: 0 !important;
                            }
                            .flatpickr-header-display .header-date {
                                color: #1E40AF !important;
                                font-size: 26px !important;
                                font-weight: 700 !important;
                                display: block;
                                text-shadow: 0 1px 2px rgba(255, 255, 255, 0.3);
                            }
                            
                            /* æœˆä»½å¯¼èˆªæ  - é€æ˜èƒŒæ™¯èå…¥æ•´ä½“æ¸å˜ */
                            .flatpickr-calendar .flatpickr-months {
                                background: transparent !important;
                                padding: 14px 12px !important;
                            }
                            .flatpickr-calendar .flatpickr-month {
                                height: auto !important;
                                line-height: 1.4 !important;
                            }
                            .flatpickr-calendar .flatpickr-current-month {
                                display: flex !important;
                                align-items: center !important;
                                justify-content: center !important;
                                gap: 12px !important;
                                color: #2D2D3D !important;
                                font-size: 16px !important;
                                font-weight: 600 !important;
                                padding: 0 40px !important;
                                height: auto !important;
                                position: relative !important;
                                width: 100% !important;
                            }
                            
                            /* å¹´ä»½ä¸‹æ‹‰é€‰æ‹©å™¨æ ·å¼ */
                            .flatpickr-yearDropdown {
                                color: #2D2D3D !important;
                                font-size: 15px !important;
                                font-weight: 600 !important;
                                background: white !important;
                                border: 2px solid rgba(139, 127, 216, 0.4) !important;
                                border-radius: 10px !important;
                                padding: 8px 12px !important;
                                cursor: pointer !important;
                                outline: none !important;
                                width: 115px !important;
                                height: 40px !important;
                            }
                            .flatpickr-yearDropdown:focus {
                                border-color: #8B7FD8 !important;
                                box-shadow: 0 0 0 3px rgba(139, 127, 216, 0.15) !important;
                            }
                            
                            /* æœˆä»½ä¸‹æ‹‰æ ·å¼ */
                            .flatpickr-calendar .flatpickr-current-month .flatpickr-monthDropdown-months {
                                color: #2D2D3D !important;
                                font-size: 15px !important;
                                font-weight: 600 !important;
                                background: white !important;
                                border: 2px solid rgba(139, 127, 216, 0.4) !important;
                                border-radius: 10px !important;
                                padding: 8px 16px !important;
                                cursor: pointer !important;
                                -webkit-appearance: none !important;
                                appearance: none !important;
                                width: 100px !important;
                                height: 40px !important;
                            }
                            .flatpickr-calendar .flatpickr-current-month .flatpickr-monthDropdown-months:focus {
                                border-color: #8B7FD8 !important;
                                box-shadow: 0 0 0 3px rgba(139, 127, 216, 0.15) !important;
                                outline: none !important;
                            }
                            
                            .flatpickr-calendar .flatpickr-prev-month,
                            .flatpickr-calendar .flatpickr-next-month {
                                fill: #8B7FD8 !important;
                                color: #8B7FD8 !important;
                                position: absolute !important;
                                top: 50% !important;
                                transform: translateY(-50%) !important;
                                padding: 10px !important;
                                border-radius: 8px !important;
                                transition: background 0.2s !important;
                            }
                            .flatpickr-calendar .flatpickr-prev-month {
                                left: 8px !important;
                            }
                            .flatpickr-calendar .flatpickr-next-month {
                                right: 8px !important;
                            }
                            .flatpickr-calendar .flatpickr-prev-month:hover,
                            .flatpickr-calendar .flatpickr-next-month:hover {
                                background: rgba(139, 127, 216, 0.1) !important;
                            }
                            .flatpickr-calendar .flatpickr-prev-month svg,
                            .flatpickr-calendar .flatpickr-next-month svg {
                                fill: #8B7FD8 !important;
                                width: 14px !important;
                                height: 14px !important;
                            }
                            
                            /* æ—¥å†ä¸»ä½“ - é€æ˜èƒŒæ™¯èå…¥æ•´ä½“æ¸å˜ */
                            .flatpickr-calendar .flatpickr-innerContainer {
                                background: transparent !important;
                                padding: 12px 16px 16px !important;
                            }
                            .flatpickr-calendar .flatpickr-rContainer {
                                background: transparent !important;
                            }
                            .flatpickr-calendar .flatpickr-days {
                                background: transparent !important;
                                width: 100% !important;
                            }
                            .flatpickr-calendar .dayContainer {
                                width: 100% !important;
                                min-width: 100% !important;
                                max-width: 100% !important;
                            }
                            
                            /* æ˜ŸæœŸæ ‡é¢˜ */
                            .flatpickr-calendar .flatpickr-weekdays {
                                background: transparent !important;
                                margin-bottom: 8px !important;
                            }
                            .flatpickr-calendar .flatpickr-weekday {
                                color: #6B5B95 !important;
                                font-weight: 700 !important;
                                font-size: 13px !important;
                            }
                            
                            /* æ—¥æœŸæ ·å¼ - åŸºç¡€ */
                            .flatpickr-calendar .flatpickr-day {
                                color: #2D2D3D !important;
                                border-radius: 50% !important;
                                font-weight: 600 !important;
                                height: 40px !important;
                                width: 40px !important;
                                max-width: 40px !important;
                                line-height: 40px !important;
                                margin: 1px auto !important;
                            }
                            /* å½“æœˆæ—¥æœŸ - åœ†åœˆ + æ·¡è‰²èƒŒæ™¯ */
                            .flatpickr-calendar .flatpickr-day:not(.prevMonthDay):not(.nextMonthDay):not(.selected) {
                                background: rgba(255, 255, 255, 0.55) !important;
                                border: 1.5px solid rgba(139, 127, 216, 0.2) !important;
                            }
                            /* éå½“æœˆæ—¥æœŸ - å˜æ·¡ */
                            .flatpickr-calendar .flatpickr-day.prevMonthDay,
                            .flatpickr-calendar .flatpickr-day.nextMonthDay {
                                color: #c4b8e8 !important;
                                opacity: 0.5 !important;
                                background: transparent !important;
                                border-color: transparent !important;
                            }
                            /* é€‰ä¸­æ—¥æœŸ - æ·±è‰²åœ†åœˆèƒŒæ™¯ï¼Œæé«˜ä¼˜å…ˆçº§è¦†ç›–å½“æœˆæ ·å¼ */
                            .flatpickr-calendar .flatpickr-day.selected,
                            .flatpickr-calendar .flatpickr-day.flatpickr-selected {
                                background: #5B4BB4 !important;
                                background: linear-gradient(135deg, #5B4BB4 0%, #6B5AC4 50%, #7C4DFF 100%) !important;
                                border: none !important;
                                border-color: transparent !important;
                                color: #fff !important;
                                box-shadow: 0 4px 16px rgba(91, 75, 180, 0.6), inset 0 1px 0 rgba(255,255,255,0.2) !important;
                                font-weight: 700 !important;
                                opacity: 1 !important;
                            }
                            /* ä»Šå¤© */
                            .flatpickr-calendar .flatpickr-day.today:not(.selected) {
                                border: 2px solid #8B7FD8 !important;
                                background: rgba(139, 127, 216, 0.12) !important;
                            }
                            /* ç¦ç”¨æ—¥æœŸ */
                            .flatpickr-calendar .flatpickr-day.flatpickr-disabled {
                                color: #bbb !important;
                                opacity: 0.4 !important;
                                background: transparent !important;
                                border-color: transparent !important;
                            }
                            /* æ‚¬åœ */
                            .flatpickr-calendar .flatpickr-day:hover:not(.flatpickr-disabled):not(.selected) {
                                background: rgba(139, 127, 216, 0.18) !important;
                                border-color: rgba(139, 127, 216, 0.4) !important;
                            }
                        `,document.head.appendChild(H)}if(B){let g=0,w=0,m=!1;const h=B.querySelector(".flatpickr-innerContainer")||B;h.addEventListener("touchstart",H=>{g=H.touches[0].clientX,w=H.touches[0].clientY,m=!0},{passive:!0}),h.addEventListener("touchend",H=>{if(!m)return;m=!1;const U=H.changedTouches[0].clientX,F=H.changedTouches[0].clientY,T=U-g,D=F-w,S=Math.abs(T),v=Math.abs(D);if(S>50&&S>v*1.5)T<0?l.changeMonth(1):l.changeMonth(-1);else if(v>60&&v>S*1.5){const K=D<0?l.currentYear+1:l.currentYear-1,k=new Date().getFullYear();if(K>=1920&&K<=k){l.changeYear(K);const L=document.querySelector(".flatpickr-yearDropdown");L&&(L.value=K)}}},{passive:!0})}l.input.addEventListener("click",()=>{l.open()})},onOpen:()=>{this.flatpickrOverlay&&this.flatpickrOverlay.classList.add("active");const o=this.flatpickrInstance.selectedDates[0];this.updateCalendarHeader(o);const c=document.querySelector(".flatpickr-yearDropdown");c&&this.flatpickrInstance&&(c.value=this.flatpickrInstance.currentYear)},onClose:()=>{this.flatpickrOverlay&&this.flatpickrOverlay.classList.remove("active")},onMonthChange:()=>{const o=document.querySelector(".flatpickr-yearDropdown");o&&this.flatpickrInstance&&(o.value=this.flatpickrInstance.currentYear)},onYearChange:()=>{const o=document.querySelector(".flatpickr-yearDropdown");o&&this.flatpickrInstance&&(o.value=this.flatpickrInstance.currentYear)}})}const r=document.querySelector('[data-action="next"]');r&&(r.onclick=s=>{console.log("ç‚¹å‡»äº†ä¸‹ä¸€æ­¥/å¼€å§‹åˆ†ææŒ‰é’®"),console.log("å½“å‰æ­¥éª¤:",this.currentStep),console.log("è¡¨å•æ•°æ®:",JSON.stringify(this.formData)),this.handleNext()});const a=document.querySelector('[data-action="back-step"]');a&&(a.onclick=()=>{console.log("ç‚¹å‡»äº†ä¸Šä¸€æ­¥æŒ‰é’®"),this.goBackStep()})}selectGender(e){document.querySelectorAll(".gender-btn").forEach(A=>{A.classList.toggle("active",A.dataset.gender===e)}),this.currentStep===1?this.formData.personA.gender=e:this.formData.personB.gender=e,this.updatePersonCards(),this.validateForm()}updateCalendarHeader(e){const A=document.querySelector(".flatpickr-header-display .header-date");if(A)if(e){const n=["å‘¨æ—¥","å‘¨ä¸€","å‘¨äºŒ","å‘¨ä¸‰","å‘¨å››","å‘¨äº”","å‘¨å…­"],r=e.getFullYear(),a=e.getMonth()+1,s=e.getDate(),i=n[e.getDay()];A.textContent=`${r}å¹´${a}æœˆ${s}æ—¥${i}`}else A.textContent="è¯·é€‰æ‹©æ—¥æœŸ"}updatePersonCards(){if(document.querySelectorAll(".person-card").length===0)return;const A=document.querySelector('[data-person="A"] .person-avatar');if(A){const r=this.formData.personA.gender;A.textContent=r==="male"?"ğŸ‘¨":r==="female"?"ğŸ‘©":"ğŸ‘¤"}const n=document.querySelector('[data-person="B"] .person-avatar');if(n){const r=this.formData.personB.gender;n.textContent=r==="male"?"ğŸ‘¨":r==="female"?"ğŸ‘©":"ğŸ‘¤"}}validateForm(){const e=document.getElementById("name")?.value.trim(),A=document.getElementById("birthDate")?.value,n=this.currentStep===1?this.formData.personA.gender:this.formData.personB.gender,r=e&&A&&n;console.log("validateForm:",{name:e,birthDate:A,gender:n,isValid:r,step:this.currentStep});const a=document.querySelector('[data-action="next"]');return a&&(a.disabled=!r),this.updateCurrentPersonCard(e,A,n),r&&this.autoNavigateNext(),r}autoNavigateNext(){this.autoNavTimer&&clearTimeout(this.autoNavTimer),this.autoNavTimer=setTimeout(()=>{const e=document.getElementById("name")?.value.trim(),A=document.getElementById("birthDate")?.value,n=this.currentStep===1?this.formData.personA.gender:this.formData.personB.gender;if(e&&A&&n){const r=A?Me(A):"",a=this.currentStep===1?"personA":"personB";this.formData[a].name=e,this.formData[a].birthDate=A,this.formData[a].lunarDate=r;const s=this.currentStep===1?"personB":"personA",i=this.formData[s],o=i.name&&i.birthDate&&i.gender;this.currentStep===1&&!o&&(this.currentStep=2,this.rerender())}},500)}updateCurrentPersonCard(e,A,n){const r=this.currentStep===1?"A":"B",a=document.querySelector(`[data-person="${r}"]`);if(!a)return;const s=a.querySelector(".person-avatar");s&&(s.textContent=n==="male"?"ğŸ‘¨":n==="female"?"ğŸ‘©":"ğŸ‘¤");const i=a.querySelector(".person-card__name");i&&(i.textContent=e||(r==="A"?"ç”²æ–¹":"ä¹™æ–¹"));const o=a.querySelector(".person-card__date");o&&(o.textContent=A||"æœªå¡«å†™");const c=a.querySelector(".person-card__lunar");if(A){const B=Me(A);if(c)c.textContent=B;else{const g=document.createElement("p");g.className="person-card__lunar",g.textContent=B,a.appendChild(g)}}else c&&c.remove();const l=a.querySelector(".badge");if(l){const B=e&&A&&n;l.className=`badge ${B?"badge--success":"badge--secondary"}`,l.textContent=B?"å·²å¡«å†™":"å¾…å¡«å†™"}}updateLunarDate(e){const A=document.getElementById("lunar-date"),n=A?.querySelector(".lunar-text");if(!(!A||!n))if(e){const r=Me(e);n.textContent=`å†œå†ï¼š${r}`,A.style.display="flex"}else A.style.display="none"}handleNext(){if(console.log("handleNext è¢«è°ƒç”¨"),!this.validateForm()){console.log("è¡¨å•éªŒè¯æœªé€šè¿‡ï¼Œè¿”å›");return}const e=document.getElementById("name").value.trim(),A=document.getElementById("birthDate").value,n=A?Me(A):"";console.log("è¡¨å•æ•°æ®:",{name:e,birthDate:A,lunarDate:n}),this.currentStep===1?(this.formData.personA.name=e,this.formData.personA.birthDate=A,this.formData.personA.lunarDate=n,this.currentStep=2,this.rerender()):(this.formData.personB.name=e,this.formData.personB.birthDate=A,this.formData.personB.lunarDate=n,console.log("å‡†å¤‡æäº¤æµ‹è¯•ï¼Œè·³è½¬åˆ°ç»“æœé¡µ"),this.submitTest())}goBackStep(){this.currentStep===2&&(this.saveCurrentFormData(),this.currentStep=1,this.rerender())}saveCurrentFormData(){const e=document.getElementById("name")?.value.trim()||"",A=document.getElementById("birthDate")?.value||"",n=A?Me(A):"",r=this.currentStep===1?"personA":"personB";this.formData[r].name=e,this.formData[r].birthDate=A,this.formData[r].lunarDate=n}switchToPerson(e){const A=e==="A"?1:2;A!==this.currentStep&&(this.saveCurrentFormData(),this.currentStep=A,this.rerender())}rerender(){this.flatpickrInstance&&(this.flatpickrInstance.destroy(),this.flatpickrInstance=null),this.flatpickrOverlay&&(this.flatpickrOverlay.remove(),this.flatpickrOverlay=null);const e=document.getElementById("app"),A=document.querySelector(".form-section");A&&A.classList.add("fade-out"),setTimeout(()=>{e.innerHTML=this.render(),this.attachEvents();const n=this.currentStep===1?this.formData.personA:this.formData.personB;if(n.name&&(document.getElementById("name").value=n.name),n.birthDate&&(document.getElementById("birthDate").value=n.birthDate,this.updateLunarDate(n.birthDate)),n.gender)this.selectGender(n.gender);else if(this.currentStep===2&&!this.formData.personB.gender){const a=this.formData.personA.gender==="male"?"female":"male";this.selectGender(a)}this.validateForm();const r=document.querySelector(".form-section");r&&r.classList.add("fade-in")},150)}async submitTest(){console.log("submitTest è¢«è°ƒç”¨");const e={type:this.matchType.id,method:"birthday",personA:{name:this.formData.personA.name,gender:this.formData.personA.gender==="male"?"ç”·":"å¥³",birthDate:this.formData.personA.birthDate},personB:{name:this.formData.personB.name,gender:this.formData.personB.gender==="male"?"ç”·":"å¥³",birthDate:this.formData.personB.birthDate},timestamp:Date.now()};console.log("æµ‹è¯•æ•°æ®:",JSON.stringify(e));const A=Fr();try{let n=null;try{const a=localStorage.getItem("user");if(a){const s=JSON.parse(a);n=s.id||s.userId||null}}catch{}const r=await an.create(A,e,n);console.log("åŒ¹é…è®°å½•åˆ›å»º/å¤ç”¨æˆåŠŸ:",r),e.recordId=r.data?.recordId,e.sessionId=A}catch(n){console.error("åˆ›å»ºåŒ¹é…è®°å½•å¤±è´¥:",n),e.sessionId=A}window.appState.set("currentTest",e),console.log("å‡†å¤‡è·³è½¬åˆ° /result/birthday"),window.router.navigate("/result/birthday")}}const po=["ç»¼åˆ","å¥åº·ç±»","äº‹ä¸šç±»","è´¢è¿ç±»","æ„Ÿæƒ…ç±»","æŠ•èµ„ç±»","å­¦ä¸šç±»","å…¶ä»–ç±»"],wo={å¥åº·ç±»:["ç–¾ç—…ä»€ä¹ˆæ—¶å€™èƒ½ç—Šæ„ˆ","æ˜å¹´èº«ä½“å¥åº·çŠ¶å†µ","ä»€ä¹ˆæ—¶å€™èƒ½æ€€å­•","äº²äººç—…äº†ï¼Œè¿™ä¸ªç—…èƒ½å¥½å—","è¿™ä¸ªç—…é€‚åˆä¿å®ˆæ²»ç–—è¿˜æ˜¯åšæ‰‹æœ¯","è¿™ä¸ªç—…æœ€é•¿è¿˜èƒ½æ´»å¤šä¹…"],äº‹ä¸šç±»:["å‡èŒæœºé‡","ç°åœ¨é€‚åˆåˆ›ä¸šå—","ç°åœ¨é€‚åˆæ¢å·¥ä½œå—","æ€ä¹ˆé€‰æ‹©å·¥ä½œæ–¹å‘","è·Ÿäººåˆä½œæ˜¯å¦æœ‰åˆ©","æŠ•èµ„æ–°ç”Ÿæ„æ˜¯å¦æœ‰åˆ©","å…¥èŒæ–°å…¬å¸æ˜¯å¦æœ‰åˆ©","æˆ‘èƒ½é¡ºåˆ©é€šè¿‡é¢è¯•å—","å•ä½æœ‰äººæ•…æ„ä¸ºéš¾æ€ä¹ˆåŠ","ç›®å‰æ¨è¿›çš„é¡¹ç›®ä¼šé¡ºåˆ©å—","æœªæ¥ä¸‰ä¸ªæœˆï¼Œæˆ‘ä¼šé‡åˆ°æ–°çš„å·¥ä½œæœºä¼šå—","ç°åœ¨é¢è¯•çš„å…¬å¸æ€ä¹ˆé€‰æ‹©"],è´¢è¿ç±»:["æœ€è¿‘ä¸‰ä¸ªæœˆè´¢è¿æ€ä¹ˆæ ·","æœªæ¥ä¸€å¹´è´¢è¿æ€æ ·","ä»€ä¹ˆæ—¶å€™æœ‰è´¢è¿"],æ„Ÿæƒ…ç±»:["æ˜å¹´æ¡ƒèŠ±è¿æ€ä¹ˆæ ·","ç®—å’ŒTAæ˜¯å¦åˆé€‚åœ¨ä¸€èµ·","æœ€è¿‘ä¼šä¸ä¼šé‡åˆ°çƒ‚æ¡ƒèŠ±","æˆ‘å’ŒTAä¼šèµ°åˆ°ä¸€èµ·å—","æˆ‘å’ŒTAæ„Ÿæƒ…ä¸å¥½ï¼Œæ˜¯ä¸æ˜¯ä¸é€‚åˆ","æˆ‘å’ŒTA2026å¹´æ˜¯ä¸æ˜¯æ„Ÿæƒ…ä¼šæ›´å¥½","ä¸‹ä¸€æ¬¡é‡åˆ°æ­£ç¼˜æ˜¯ä»€ä¹ˆæ—¶å€™","Aå’ŒBå“ªä¸ªæ›´é€‚åˆåœ¨ä¸€èµ·","è¦è°ˆå‡ ä¸ªç”·/å¥³æœ‹å‹æ‰ä¼šé‡åˆ°é€‚åˆç»“å©šçš„äºº","æœªæ¥ä¸‰ä¸ªæœˆï¼Œæˆ‘æ˜¯å¦ä¼šé‡åˆ°æ–°çš„æ¡ƒèŠ±","æˆ‘å’ŒTAå¼‚åœ°æ‹ï¼Œä¼šæœ‰ç»“æœå—","ç°åœ¨é‡åˆ°çš„äººä¼šæ˜¯æˆ‘çš„æ­£ç¼˜å—","æˆ‘å’ŒTAèƒ½å¤åˆå—","å®¶äººåå¯¹è¯¥æ€ä¹ˆåŠ"],æŠ•èµ„ç±»:["è¿‘ä¸€ä¸ªæœˆAè‚¡èµ°åŠ¿","è¿‘æœŸé€‚ä¸é€‚åˆæŠ•èµ„","ä»€ä¹ˆæ—¶å€™æŠ•èµ„æœ‰è´¢è¿","æŸåªè‚¡ç¥¨è¿‘ä¸€ä¸ªæœˆèµ°åŠ¿","æŸè¡Œä¸šèƒ½æŠ•èµ„å—"],å­¦ä¸šç±»:["æœ¬æ¬¡è€ƒè¯•èƒ½å¦é¡ºåˆ©","é€‚åˆå­¦ä»€ä¹ˆä¸“ä¸š","é€‚åˆè€ƒå“ªé‡Œçš„å¤§å­¦","èƒ½å¦è€ƒä¸Šé‡ç‚¹å­¦æ ¡","é€‚åˆå¾€å“ªä¸ªæ–¹å‘å‘å±•","å°å­©å­¦ä¹ ä¸å¥½ï¼Œæ€ä¹ˆåŠ","åº”è¯¥é€‰æ–‡ç§‘è¿˜æ˜¯ç†ç§‘","é€‚åˆä»€ä¹ˆç±»å‹è¯¾å¤–å…´è¶£ç­","å­¦æ ¡Aå’Œå­¦æ ¡Bå»å“ªä¸ªæ›´å¥½"],ç»¼åˆ:["æ˜å¤©ä¼šæ€ä¹ˆæ ·","æ˜å¹´äº‹ä¸šã€è´¢è¿","æ˜å¹´æ•´ä½“æƒ…å†µ","2026å¹´ä¼šä¸ä¼šå‘è´¢","2026å¹´ä¼šä¸ä¼šé‡åˆ°åˆé€‚çš„äºº","æœ€è¿‘ç‰¹åˆ«ä¸é¡ºè¯¥æ€ä¹ˆåŠ","ä¸‹å‘¨ä¼šæ€ä¹ˆæ ·"],å…¶ä»–ç±»:["æ˜å¤©é€‚åˆå‡ºè¿œé—¨å—ï¼ˆç¡®å®šä½ç½®çš„åœ°æ–¹ï¼‰","è¿‘æœŸå“ªå¤©é€‚åˆå‡ºè¿œé—¨ï¼ˆç¡®å®šä½ç½®çš„åœ°æ–¹ï¼‰","è¿‘æœŸå“ªå¤©å»åŠäº‹æ¯”è¾ƒé¡ºåˆ©ï¼ˆç¡®å®šæŸä¸€ä»¶äº‹ï¼‰","æ˜å¤©ç©¿ä»€ä¹ˆé¢œè‰²è¡£æœä¼šæœ‰å¥½è¿","è¿‘æœŸæˆ‘å¦‚ä½•å¤„ç†å’Œå®¶äººçš„å…³ç³»","æ€ä¹ˆé¿å°äºº","é€‚åˆä½å“ªä¸ªä½ç½®çš„æˆ¿å­/Aå’ŒBå°åŒºï¼Œå“ªä¸ªæ›´é€‚åˆ"]},mo={ç»¼åˆ:"nianyun",å¥åº·ç±»:"jiankang",äº‹ä¸šç±»:"shiye",è´¢è¿ç±»:"caiyun",æ„Ÿæƒ…ç±»:"ganqing",æŠ•èµ„ç±»:"gushi",å­¦ä¸šç±»:"shengxue",å…¶ä»–ç±»:"qita"};class Co{constructor(e){if(this.matchType=UA(e.type),this.selectedCategoryIndex=0,this.categories=po,this.categoryQuestions=wo,this.categoryRuleMap=mo,this.currentQuestions=[],this.selectedQuestionIndex=-1,this.selectedQuestion="",this.showFreeInput=!1,this.freeInputQuestion="",this.questionCategory="",this.questionType="",this.showGenderModal=!1,this.selectedGender=null,!this.matchType){window.router.navigate("/");return}this.updateQuestionList(this.selectedCategoryIndex)}updateQuestionList(e){const A=this.categories[e],n=this.categoryQuestions[A]||[];this.currentQuestions=n,this.selectedQuestionIndex=-1,this.selectedQuestion="",this.showFreeInput=!1,this.freeInputQuestion=""}saveQuestionToGlobal(e){const A=this.selectedCategoryIndex,n=this.categories[A],r=this.categoryRuleMap[n]||"nianyun";this.selectedQuestion=e,this.questionCategory=n,this.questionType=r,window.appState&&(window.appState.set("selectedQuestion",e),window.appState.set("questionCategory",n),window.appState.set("questionType",r)),console.log("[é—®äº‹] é€‰æ‹©é—®é¢˜:",e),console.log("[é—®äº‹] é—®é¢˜åˆ†ç±»:",n),console.log("[é—®äº‹] è§„åˆ™ç±»å‹:",r)}render(){return this.matchType?`
      <div class="page tarot-question-page">
        ${aA({title:"",showBack:!0,showHistory:!1,showProfile:!1})}
        
        <main class="page-content">
          <div class="app-container">
            
            <!-- è¿›åº¦æŒ‡ç¤ºå™¨ -->
            <div class="tarot-progress">
              ${ct(1,5,{showText:!1,showSteps:!0,stepLabel:""})}
            </div>

            <!-- é¡µé¢æ ‡é¢˜ -->
            <section class="question-header animate-fade-in-up">
              <h1 class="question-title">ä½ æƒ³é—®ä»€ä¹ˆå‘¢ï¼Ÿ</h1>
              <p class="question-subtitle">æ— è®ºå¤§å°ï¼Œä»»ä½•é—®é¢˜éƒ½å¯ä»¥</p>
            </section>

            <!-- åˆ†ç±»æ ‡ç­¾ -->
            <section class="category-tags animate-fade-in-up animate-delay-100">
              ${this.categories.map((e,A)=>`
                <button class="category-tag ${A===this.selectedCategoryIndex?"active":""}" 
                        data-category-index="${A}">
                  ${e}
                </button>
              `).join("")}
            </section>

            <!-- é—®é¢˜åˆ—è¡¨ -->
            <section class="question-list animate-fade-in-up animate-delay-200">
              ${this.renderQuestionList()}
            </section>

            <!-- æ€§åˆ«é€‰æ‹©å¼¹æ¡† -->
            <div class="gender-modal ${this.showGenderModal?"show":""}" id="genderModal">
              <div class="gender-modal__overlay"></div>
              <div class="gender-modal__content">
                <h3 class="gender-modal__title">è¯·ç¡®è®¤æ‚¨çš„æ€§åˆ«</h3>
                <p class="gender-modal__subtitle">æ€§åˆ«ä¿¡æ¯å°†å¸®åŠ©æ›´å‡†ç¡®è§£è¯»ç»“æœ</p>
                <div class="gender-modal__options">
                  <div class="gender-option ${this.selectedGender==="male"?"selected":""}" data-gender="male">
                    <div class="gender-option__avatar gender-option__avatar--male">
                      <span class="gender-avatar-icon">ğŸ‘¨</span>
                    </div>
                    <span class="gender-option__label">ç”·</span>
                  </div>
                  <div class="gender-option ${this.selectedGender==="female"?"selected":""}" data-gender="female">
                    <div class="gender-option__avatar gender-option__avatar--female">
                      <span class="gender-avatar-icon">ğŸ‘©</span>
                    </div>
                    <span class="gender-option__label">å¥³</span>
                  </div>
                </div>
              </div>
            </div>

            <!-- åº•éƒ¨æŒ‰é’®åŒºåŸŸ -->
            <section class="question-footer animate-fade-in-up animate-delay-400">
              <button class="btn btn--primary btn--full btn--lg submit-btn ${!this.selectedQuestion&&!this.freeInputQuestion?"disabled":""}" 
                      ${!this.selectedQuestion&&!this.freeInputQuestion?"disabled":""}
                      id="submitBtn">
                ${this.getSubmitButtonText()}
              </button>
              <p class="disclaimer">ä»…ä¾›å¨±ä¹å‚è€ƒï¼Œä¸ä½œä¸ºä»»ä½•å†³ç­–ä¾æ®</p>
            </section>

            <div class="safe-area-bottom"></div>
          </div>
        </main>
      </div>
    `:""}renderQuestionList(){return this.currentQuestions.map((e,A)=>{const n=this.selectedQuestionIndex===A;return`
              <div class="question-item ${n?"selected":""}" 
                   data-question-index="${A}">
                <span class="question-text">${e}</span>
                ${n?'<span class="question-check">âœ“</span>':""}
              </div>
            `}).join("")}attachEvents(){const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{window.router.back()}),document.querySelectorAll(".category-tag").forEach(n=>{n.addEventListener("click",()=>{const r=parseInt(n.dataset.categoryIndex);this.onCategoryChange(r)})}),this.attachQuestionEvents();const A=document.querySelector(".submit-btn");A&&A.addEventListener("click",()=>{this.handleSubmit()}),this.attachGenderModalEvents()}attachGenderModalEvents(){document.querySelectorAll(".gender-option").forEach(A=>{A.addEventListener("click",()=>{const n=A.dataset.gender;this.handleGenderSelect(n)})});const e=document.querySelector(".gender-modal__overlay");e&&e.addEventListener("click",()=>{this.hideGenderModal()})}attachQuestionEvents(){document.querySelectorAll(".question-item").forEach(e=>{e.addEventListener("click",()=>{const A=parseInt(e.dataset.questionIndex);this.onQuestionChange(A)})})}onCategoryChange(e){this.selectedCategoryIndex=e,this.updateQuestionList(e),document.querySelectorAll(".category-tag").forEach((A,n)=>{A.classList.toggle("active",n===e)}),this.updateQuestionListUI(),this.updateSubmitButton()}onQuestionChange(e){const A=this.currentQuestions[e];this.selectedQuestionIndex=e,this.selectedQuestion=A,this.freeInputQuestion="",this.saveQuestionToGlobal(A),document.querySelectorAll(".question-item").forEach((n,r)=>{const a=r===e;n.classList.toggle("selected",a);let s=n.querySelector(".question-check");a&&!s?(s=document.createElement("span"),s.className="question-check",s.textContent="âœ“",n.appendChild(s)):!a&&s&&s.remove()}),this.updateSubmitButton()}updateQuestionListUI(){const e=document.querySelector(".question-list");e&&(e.innerHTML=this.renderQuestionList(),this.attachQuestionEvents())}handleSubmit(){const e=this.selectedQuestion;if(!e||!e.trim()){window.showToast("è¯·å…ˆé€‰æ‹©é—®é¢˜","error");return}if(this.showGenderModal&&this.selectedGender){this.submitWithGender();return}this.showGenderModalFn()}showGenderModalFn(){this.showGenderModal=!0;const e=document.getElementById("genderModal");e&&e.classList.add("show"),this.updateSubmitButton()}hideGenderModal(){this.showGenderModal=!1,this.selectedGender=null;const e=document.getElementById("genderModal");e&&e.classList.remove("show"),document.querySelectorAll(".gender-option").forEach(A=>{A.classList.remove("selected")}),this.updateSubmitButton()}handleGenderSelect(e){this.selectedGender=e,document.querySelectorAll(".gender-option").forEach(A=>{A.classList.toggle("selected",A.dataset.gender===e)}),setTimeout(()=>{this.submitWithGender()},500)}getSubmitButtonText(){return this.selectedQuestion?"ä¸‹ä¸€æ­¥":"è¯·é€‰æ‹©é—®é¢˜"}updateSubmitButton(){const e=document.querySelector(".submit-btn");if(e){const A=this.selectedQuestion,n=this.showGenderModal?A&&this.selectedGender:A;e.disabled=!n,e.classList.toggle("disabled",!n),e.textContent=this.getSubmitButtonText()}}submitWithGender(){const e=this.selectedQuestion;this.saveQuestionToGlobal(e.trim()),window.appState&&(window.appState.set("tarotQuestion",e),window.appState.set("tarotCategory",this.categories[this.selectedCategoryIndex]),window.appState.set("tarotGender",this.selectedGender),window.appState.set("selectedQuestion",e),window.appState.set("questionCategory",this.questionCategory),window.appState.set("questionType",this.questionType));const A=new Date,n=`${A.getFullYear()}-${String(A.getMonth()+1).padStart(2,"0")}-${String(A.getDate()).padStart(2,"0")} ${String(A.getHours()).padStart(2,"0")}:${String(A.getMinutes()).padStart(2,"0")}:${String(A.getSeconds()).padStart(2,"0")}`;console.log(`[${n}] æäº¤: é—®é¢˜=${e}, åˆ†ç±»=${this.questionCategory}, è§„åˆ™ç±»å‹=${this.questionType}, æ€§åˆ«=${this.selectedGender}`),window.router.navigate(`/test/${this.matchType.id}/tarot/shuffle`)}}const vo=[{icon:"ğŸš«",title:"åªèƒ½ç®—è‡ªå·±çš„äº‹",description:"ç»“æœåªåæ˜ æé—®è€…æœ¬äººçš„æ°”åœº",examples:[{text:"å¸®æœ‹å‹ç®—",allowed:!1},{text:"ç®—è‡ªå·±çš„äº‹",allowed:!0}]},{icon:"ğŸ‘¨â€ğŸ‘©â€ğŸ‘§",title:"è‡³äº²é™¤å¤–",description:"å¯å¸®çˆ¶æ¯/å­å¥³ç®—ï¼Œéœ€çœŸå¿ƒå…³åˆ‡",examples:[{text:"å¸®å®¶äººç®—",allowed:!0},{text:"å¸®åŒäº‹ç®—",allowed:!1}]},{icon:"âš–ï¸",title:"ä¸ç®—ä¸æ­£ä¹‹äº‹",description:"è¿èƒŒé“å¾·çš„äº‹ä¸ä¼šçµéªŒ",examples:[{text:"å©šå¤–æƒ…",allowed:!1},{text:"å‘å®³ä»–äºº",allowed:!1}]},{icon:"ğŸš¨",title:"ä¸ç®—è¿æ³•ä¹‹äº‹",description:"è¿æ³•çŠ¯ç½ªå¤©ç†ä¸å®¹",examples:[{text:"èµŒåš",allowed:!1},{text:"éæ³•ç‰Ÿåˆ©",allowed:!1}]}];class Qo{constructor(e){if(this.matchType=UA(e.type),!this.matchType){window.router.navigate("/");return}}render(){return this.matchType?`
      <div class="page tarot-taboo-page">
        ${aA({title:"",showBack:!0,showHistory:!1,showProfile:!1})}
        
        <main class="page-content">
          <div class="app-container">
            
            <!-- è¿›åº¦æŒ‡ç¤ºå™¨ -->
            <div class="tarot-progress">
              ${ct(2,5,{showText:!1,showSteps:!0,stepLabel:""})}
            </div>

            <!-- é¡µé¢æ ‡é¢˜ -->
            <section class="taboo-header animate-fade-in-up">
              <div class="taboo-title-icon">âš ï¸</div>
              <h1 class="taboo-title">é—®äº‹ç¦å¿Œ</h1>
              <p class="taboo-subtitle">è¯·ä»”ç»†é˜…è¯»ï¼Œè¿åç¦å¿Œä¼šå½±å“å‡†ç¡®æ€§</p>
            </section>

            <!-- ç¦å¿Œè§„åˆ™åˆ—è¡¨ -->
            <section class="taboo-rules animate-fade-in-up animate-delay-100">
              ${vo.map((e,A)=>`
                <div class="taboo-card animate-fade-in-up animate-delay-${(A+1)*100}">
                  <div class="taboo-card__header">
                    <span class="taboo-card__icon">${e.icon}</span>
                    <h3 class="taboo-card__title">${e.title}</h3>
                  </div>
                  <p class="taboo-card__description">${e.description}</p>
                  <div class="taboo-card__examples">
                    ${e.examples.map(n=>`
                      <span class="taboo-example ${n.allowed?"taboo-example--allowed":"taboo-example--forbidden"}">
                        <span class="taboo-example__icon">${n.allowed?"âœ…":"âŒ"}</span>
                        <span class="taboo-example__text">${n.text}</span>
                      </span>
                    `).join("")}
                  </div>
                </div>
              `).join("")}
            </section>

            <!-- åº•éƒ¨æŒ‰é’®åŒºåŸŸ -->
            <section class="taboo-footer animate-fade-in-up animate-delay-500">
              <div class="taboo-footer__buttons">
                <button class="btn btn--secondary btn--lg prev-btn" id="prevBtn">
                  ä¸Šä¸€æ­¥
                </button>
                <button class="btn btn--primary btn--lg next-btn" id="nextBtn">
                  æˆ‘å·²äº†è§£ï¼Œä¸‹ä¸€æ­¥
                </button>
              </div>
            </section>

            <div class="safe-area-bottom"></div>
          </div>
        </main>
      </div>
    `:""}attachEvents(){const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{window.router.back()});const A=document.getElementById("prevBtn");A&&A.addEventListener("click",()=>{window.router.back()});const n=document.getElementById("nextBtn");n&&n.addEventListener("click",()=>{this.handleNext()})}handleNext(){const e=new Date,A=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")} ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}:${String(e.getSeconds()).padStart(2,"0")}`;console.log(`[${A}] ç”¨æˆ·å·²é˜…è¯»é—®äº‹ç¦å¿Œï¼Œè¿›å…¥ä¸‹ä¸€æ­¥`),window.router.navigate(`/test/${this.matchType.id}/tarot/principle`)}}const Fo=[{icon:"ğŸ™",title:"å¿ƒè¯šåˆ™çµ",description:"æŠ±ç€æ•¬ç•ä¹‹å¿ƒæé—®ï¼Œç»“æœæ‰å‡†ç¡®",tips:["é™å¿ƒé»˜å¿µæ‰€é—®ä¹‹äº‹"]},{icon:"ğŸ¯",title:"ä¸“æ³¨æ‰å‡†",description:"ä¸‰å¿ƒäºŒæ„ä¼šå¹²æ‰°ç»“æœå‡†ç¡®æ€§",tips:["æ‰¾å®‰é™ç¯å¢ƒï¼Œæ’é™¤æ‚å¿µ"]},{icon:"ğŸ¤",title:"åŠ¨æœºçº¯æ­£",description:"ä¸ºè¶‹å‰é¿å‡¶ï¼Œéæ»¡è¶³ç§æ¬²",tips:["æ˜ç¡®çœŸå®ç›®çš„"]}];class Uo{constructor(e){if(this.matchType=UA(e.type),!this.matchType){window.router.navigate("/");return}}render(){return this.matchType?`
      <div class="page tarot-principle-page">
        ${aA({title:"",showBack:!0,showHistory:!1,showProfile:!1})}
        
        <main class="page-content">
          <div class="app-container">
            
            <!-- è¿›åº¦æŒ‡ç¤ºå™¨ -->
            <div class="tarot-progress">
              ${ct(3,5,{showText:!1,showSteps:!0,stepLabel:""})}
            </div>

            <!-- é¡µé¢æ ‡é¢˜ -->
            <section class="principle-header animate-fade-in-up">
              <div class="principle-title-icon">ğŸ’¬</div>
              <h1 class="principle-title">é—®äº‹åŸåˆ™</h1>
              <p class="principle-subtitle">éµå¾ªåŸåˆ™ï¼Œæ–¹èƒ½å¾—åˆ°å‡†ç¡®æŒ‡å¼•</p>
            </section>

            <!-- åŸåˆ™åˆ—è¡¨ -->
            <section class="principle-rules animate-fade-in-up animate-delay-100">
              ${Fo.map((e,A)=>`
                <div class="principle-card animate-fade-in-up animate-delay-${(A+1)*100}">
                  <div class="principle-card__header">
                    <span class="principle-card__icon">${e.icon}</span>
                    <h3 class="principle-card__title">${e.title}</h3>
                  </div>
                  <p class="principle-card__description">${e.description}</p>
                  <div class="principle-card__tips">
                    ${e.tips.map(n=>`
                      <div class="principle-tip">
                        <span class="principle-tip__dot">Â·</span>
                        <span class="principle-tip__text">${n}</span>
                      </div>
                    `).join("")}
                  </div>
                </div>
              `).join("")}
            </section>

            <!-- åº•éƒ¨æŒ‰é’®åŒºåŸŸ -->
            <section class="principle-footer animate-fade-in-up animate-delay-400">
              <div class="principle-footer__buttons">
                <button class="btn btn--secondary btn--lg prev-btn" id="prevBtn">
                  ä¸Šä¸€æ­¥
                </button>
                <button class="btn btn--primary btn--lg next-btn" id="nextBtn">
                  å¼€å§‹é—®äº‹ ğŸ”®
                </button>
              </div>
            </section>

            <div class="safe-area-bottom"></div>
          </div>
        </main>
      </div>
    `:""}attachEvents(){const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{window.router.back()});const A=document.getElementById("prevBtn");A&&A.addEventListener("click",()=>{window.router.back()});const n=document.getElementById("nextBtn");n&&n.addEventListener("click",()=>{this.handleNext()})}handleNext(){const e=new Date,A=`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")} ${String(e.getHours()).padStart(2,"0")}:${String(e.getMinutes()).padStart(2,"0")}:${String(e.getSeconds()).padStart(2,"0")}`;console.log(`[${A}] ç”¨æˆ·å·²é˜…è¯»é—®äº‹åŸåˆ™ï¼Œå¼€å§‹é—®äº‹`),window.router.navigate(`/test/${this.matchType.id}/tarot/shuffle`)}}const yo={111111:{name:"ä¹¾ä¸ºå¤©",palace:"ä¹¾å®«",wuxing:"é‡‘",shi:6,ying:3,liuqin:["å­å­™","å¦»è´¢","çˆ¶æ¯","å®˜é¬¼","å…„å¼Ÿ","çˆ¶æ¯"],dizhi:["å­","å¯…","è¾°","åˆ","ç”³","æˆŒ"],wuxingYao:["æ°´","æœ¨","åœŸ","ç«","é‡‘","åœŸ"]},"011111":{name:"å¤©é£å§¤",palace:"ä¹¾å®«",wuxing:"é‡‘",shi:1,ying:4,liuqin:["çˆ¶æ¯","å­å­™","å…„å¼Ÿ","å®˜é¬¼","å…„å¼Ÿ","çˆ¶æ¯"],dizhi:["ä¸‘","äº¥","é…‰","åˆ","ç”³","æˆŒ"],wuxingYao:["åœŸ","æ°´","é‡‘","ç«","é‡‘","åœŸ"]},"001111":{name:"å¤©å±±é",palace:"ä¹¾å®«",wuxing:"é‡‘",shi:2,ying:5,liuqin:["çˆ¶æ¯","å®˜é¬¼","å…„å¼Ÿ","å®˜é¬¼","å…„å¼Ÿ","çˆ¶æ¯"],dizhi:["è¾°","åˆ","ç”³","åˆ","ç”³","æˆŒ"],wuxingYao:["åœŸ","ç«","é‡‘","ç«","é‡‘","åœŸ"]},"000111":{name:"å¤©åœ°å¦",palace:"ä¹¾å®«",wuxing:"é‡‘",shi:3,ying:6,liuqin:["çˆ¶æ¯","å®˜é¬¼","å¦»è´¢","å®˜é¬¼","å…„å¼Ÿ","çˆ¶æ¯"],dizhi:["æœª","å·³","å¯","åˆ","ç”³","æˆŒ"],wuxingYao:["åœŸ","ç«","æœ¨","ç«","é‡‘","åœŸ"]},"000011":{name:"é£åœ°è§‚",palace:"ä¹¾å®«",wuxing:"é‡‘",shi:4,ying:1,liuqin:["çˆ¶æ¯","å®˜é¬¼","å¦»è´¢","çˆ¶æ¯","å®˜é¬¼","å¦»è´¢"],dizhi:["æœª","å·³","å¯","æœª","å·³","å¯"],wuxingYao:["åœŸ","ç«","æœ¨","åœŸ","ç«","æœ¨"]},"000001":{name:"å±±åœ°å‰¥",palace:"ä¹¾å®«",wuxing:"é‡‘",shi:5,ying:2,liuqin:["çˆ¶æ¯","å®˜é¬¼","å¦»è´¢","çˆ¶æ¯","å­å­™","å¦»è´¢"],dizhi:["æœª","å·³","å¯","æˆŒ","å­","å¯…"],wuxingYao:["åœŸ","ç«","æœ¨","åœŸ","æ°´","æœ¨"]},"000101":{name:"ç«åœ°æ™‹",palace:"ä¹¾å®«",wuxing:"é‡‘",shi:4,ying:1,liuqin:["çˆ¶æ¯","å®˜é¬¼","å¦»è´¢","å…„å¼Ÿ","çˆ¶æ¯","å®˜é¬¼"],dizhi:["æœª","å·³","å¯","é…‰","æœª","å·³"],wuxingYao:["åœŸ","ç«","æœ¨","é‡‘","åœŸ","ç«"]},111101:{name:"ç«å¤©å¤§æœ‰",palace:"ä¹¾å®«",wuxing:"é‡‘",shi:3,ying:6,liuqin:["å­å­™","å¦»è´¢","çˆ¶æ¯","å…„å¼Ÿ","çˆ¶æ¯","å®˜é¬¼"],dizhi:["å­","å¯…","è¾°","é…‰","æœª","å·³"],wuxingYao:["æ°´","æœ¨","åœŸ","é‡‘","åœŸ","ç«"]},110110:{name:"å…‘ä¸ºæ³½",palace:"å…‘å®«",wuxing:"é‡‘",shi:6,ying:3,liuqin:["å®˜é¬¼","å¦»è´¢","çˆ¶æ¯","å­å­™","å…„å¼Ÿ","çˆ¶æ¯"],dizhi:["å·³","å¯","ä¸‘","äº¥","é…‰","æœª"],wuxingYao:["ç«","æœ¨","åœŸ","æ°´","é‡‘","åœŸ"]},"010110":{name:"æ³½æ°´å›°",palace:"å…‘å®«",wuxing:"é‡‘",shi:1,ying:4,liuqin:["å¦»è´¢","çˆ¶æ¯","å®˜é¬¼","å­å­™","å…„å¼Ÿ","çˆ¶æ¯"],dizhi:["å¯…","è¾°","åˆ","äº¥","é…‰","æœª"],wuxingYao:["æœ¨","åœŸ","ç«","æ°´","é‡‘","åœŸ"]},"000110":{name:"æ³½åœ°èƒ",palace:"å…‘å®«",wuxing:"é‡‘",shi:2,ying:5,liuqin:["çˆ¶æ¯","å®˜é¬¼","å¦»è´¢","å­å­™","å…„å¼Ÿ","çˆ¶æ¯"],dizhi:["æœª","å·³","å¯","äº¥","é…‰","æœª"],wuxingYao:["åœŸ","ç«","æœ¨","æ°´","é‡‘","åœŸ"]},"001110":{name:"æ³½å±±å’¸",palace:"å…‘å®«",wuxing:"é‡‘",shi:3,ying:6,liuqin:["çˆ¶æ¯","å®˜é¬¼","å…„å¼Ÿ","å­å­™","å…„å¼Ÿ","çˆ¶æ¯"],dizhi:["è¾°","åˆ","ç”³","äº¥","é…‰","æœª"],wuxingYao:["åœŸ","ç«","é‡‘","æ°´","é‡‘","åœŸ"]},"001100":{name:"æ°´å±±è¹‡",palace:"å…‘å®«",wuxing:"é‡‘",shi:4,ying:1,liuqin:["çˆ¶æ¯","å®˜é¬¼","å…„å¼Ÿ","çˆ¶æ¯","å®˜é¬¼","å¦»è´¢"],dizhi:["è¾°","åˆ","ç”³","ç”³","æˆŒ","å­"],wuxingYao:["åœŸ","ç«","é‡‘","é‡‘","åœŸ","æ°´"]},101100:{name:"åœ°å±±è°¦",palace:"å…‘å®«",wuxing:"é‡‘",shi:5,ying:2,liuqin:["çˆ¶æ¯","å®˜é¬¼","å…„å¼Ÿ","å…„å¼Ÿ","å¦»è´¢","çˆ¶æ¯"],dizhi:["è¾°","åˆ","ç”³","é…‰","äº¥","ä¸‘"],wuxingYao:["åœŸ","ç«","é‡‘","é‡‘","æ°´","åœŸ"]},101110:{name:"é›·å±±å°è¿‡",palace:"å…‘å®«",wuxing:"é‡‘",shi:4,ying:1,liuqin:["çˆ¶æ¯","å®˜é¬¼","å…„å¼Ÿ","å¦»è´¢","çˆ¶æ¯","å®˜é¬¼"],dizhi:["è¾°","åˆ","ç”³","å¯…","è¾°","åˆ"],wuxingYao:["åœŸ","ç«","é‡‘","æœ¨","åœŸ","ç«"]},110100:{name:"é›·æ³½å½’å¦¹",palace:"å…‘å®«",wuxing:"é‡‘",shi:3,ying:6,liuqin:["å®˜é¬¼","å¦»è´¢","çˆ¶æ¯","å¦»è´¢","çˆ¶æ¯","å®˜é¬¼"],dizhi:["å·³","å¯","ä¸‘","å¯…","è¾°","åˆ"],wuxingYao:["ç«","æœ¨","åœŸ","æœ¨","åœŸ","ç«"]},101101:{name:"ç¦»ä¸ºç«",palace:"ç¦»å®«",wuxing:"ç«",shi:6,ying:3,liuqin:["å…„å¼Ÿ","å¦»è´¢","å­å­™","å®˜é¬¼","çˆ¶æ¯","å­å­™"],dizhi:["å¯","ä¸‘","äº¥","é…‰","æœª","å·³"],wuxingYao:["æœ¨","åœŸ","æ°´","é‡‘","åœŸ","ç«"]},"001101":{name:"ç«å±±æ—…",palace:"ç¦»å®«",wuxing:"ç«",shi:1,ying:4,liuqin:["å­å­™","å®˜é¬¼","çˆ¶æ¯","å®˜é¬¼","çˆ¶æ¯","å­å­™"],dizhi:["è¾°","åˆ","ç”³","é…‰","æœª","å·³"],wuxingYao:["åœŸ","ç«","é‡‘","é‡‘","åœŸ","ç«"]},"011101":{name:"ç«é£é¼",palace:"ç¦»å®«",wuxing:"ç«",shi:2,ying:5,liuqin:["å­å­™","å…„å¼Ÿ","çˆ¶æ¯","å®˜é¬¼","çˆ¶æ¯","å­å­™"],dizhi:["ä¸‘","äº¥","é…‰","é…‰","æœª","å·³"],wuxingYao:["åœŸ","æ°´","é‡‘","é‡‘","åœŸ","ç«"]},"010101":{name:"ç«æ°´æœªæµ",palace:"ç¦»å®«",wuxing:"ç«",shi:3,ying:6,liuqin:["å­å­™","å…„å¼Ÿ","å¦»è´¢","å®˜é¬¼","çˆ¶æ¯","å­å­™"],dizhi:["å¯…","è¾°","åˆ","é…‰","æœª","å·³"],wuxingYao:["æœ¨","åœŸ","ç«","é‡‘","åœŸ","ç«"]},"010001":{name:"å±±æ°´è’™",palace:"ç¦»å®«",wuxing:"ç«",shi:4,ying:1,liuqin:["å­å­™","å…„å¼Ÿ","å¦»è´¢","å­å­™","å®˜é¬¼","å¦»è´¢"],dizhi:["å¯…","è¾°","åˆ","æˆŒ","å­","å¯…"],wuxingYao:["æœ¨","åœŸ","ç«","åœŸ","æ°´","æœ¨"]},"010011":{name:"é£æ°´æ¶£",palace:"ç¦»å®«",wuxing:"ç«",shi:5,ying:2,liuqin:["å­å­™","å…„å¼Ÿ","å¦»è´¢","å­å­™","å…„å¼Ÿ","å¦»è´¢"],dizhi:["å¯…","è¾°","åˆ","æœª","å·³","å¯"],wuxingYao:["æœ¨","åœŸ","ç«","åœŸ","ç«","æœ¨"]},110011:{name:"å¤©æ°´è®¼",palace:"ç¦»å®«",wuxing:"ç«",shi:4,ying:1,liuqin:["å­å­™","å…„å¼Ÿ","å¦»è´¢","å®˜é¬¼","çˆ¶æ¯","å­å­™"],dizhi:["å¯…","è¾°","åˆ","åˆ","ç”³","æˆŒ"],wuxingYao:["æœ¨","åœŸ","ç«","ç«","é‡‘","åœŸ"]},101011:{name:"å¤©ç«åŒäºº",palace:"ç¦»å®«",wuxing:"ç«",shi:3,ying:6,liuqin:["å…„å¼Ÿ","å¦»è´¢","å­å­™","å®˜é¬¼","çˆ¶æ¯","å­å­™"],dizhi:["å¯","ä¸‘","äº¥","åˆ","ç”³","æˆŒ"],wuxingYao:["æœ¨","åœŸ","æ°´","ç«","é‡‘","åœŸ"]},100100:{name:"éœ‡ä¸ºé›·",palace:"éœ‡å®«",wuxing:"æœ¨",shi:6,ying:3,liuqin:["å­å­™","å®˜é¬¼","å¦»è´¢","å…„å¼Ÿ","çˆ¶æ¯","å¦»è´¢"],dizhi:["æˆŒ","å­","å¯…","è¾°","åˆ","ç”³"],wuxingYao:["åœŸ","æ°´","æœ¨","åœŸ","ç«","é‡‘"]},"000100":{name:"é›·åœ°è±«",palace:"éœ‡å®«",wuxing:"æœ¨",shi:1,ying:4,liuqin:["å®˜é¬¼","å­å­™","å…„å¼Ÿ","å…„å¼Ÿ","çˆ¶æ¯","å¦»è´¢"],dizhi:["æœª","å·³","å¯","è¾°","åˆ","ç”³"],wuxingYao:["åœŸ","ç«","æœ¨","åœŸ","ç«","é‡‘"]},"010100":{name:"é›·æ°´è§£",palace:"éœ‡å®«",wuxing:"æœ¨",shi:2,ying:5,liuqin:["å®˜é¬¼","å­å­™","çˆ¶æ¯","å…„å¼Ÿ","çˆ¶æ¯","å¦»è´¢"],dizhi:["å¯…","è¾°","åˆ","è¾°","åˆ","ç”³"],wuxingYao:["æœ¨","åœŸ","ç«","åœŸ","ç«","é‡‘"]},"011100":{name:"é›·é£æ’",palace:"éœ‡å®«",wuxing:"æœ¨",shi:3,ying:6,liuqin:["å®˜é¬¼","å­å­™","å…„å¼Ÿ","å…„å¼Ÿ","çˆ¶æ¯","å¦»è´¢"],dizhi:["ä¸‘","äº¥","é…‰","è¾°","åˆ","ç”³"],wuxingYao:["åœŸ","æ°´","é‡‘","åœŸ","ç«","é‡‘"]},"011110":{name:"åœ°é£å‡",palace:"éœ‡å®«",wuxing:"æœ¨",shi:4,ying:1,liuqin:["å®˜é¬¼","å­å­™","å…„å¼Ÿ","å®˜é¬¼","å­å­™","å…„å¼Ÿ"],dizhi:["ä¸‘","äº¥","é…‰","æœª","å·³","å¯"],wuxingYao:["åœŸ","æ°´","é‡‘","åœŸ","ç«","æœ¨"]},"011010":{name:"æ°´é£äº•",palace:"éœ‡å®«",wuxing:"æœ¨",shi:5,ying:2,liuqin:["å®˜é¬¼","å­å­™","å…„å¼Ÿ","å®˜é¬¼","çˆ¶æ¯","å…„å¼Ÿ"],dizhi:["ä¸‘","äº¥","é…‰","ç”³","æˆŒ","å­"],wuxingYao:["åœŸ","æ°´","é‡‘","é‡‘","åœŸ","æ°´"]},111010:{name:"æ³½é£å¤§è¿‡",palace:"éœ‡å®«",wuxing:"æœ¨",shi:4,ying:1,liuqin:["å®˜é¬¼","å­å­™","å…„å¼Ÿ","å­å­™","å…„å¼Ÿ","çˆ¶æ¯"],dizhi:["ä¸‘","äº¥","é…‰","äº¥","é…‰","æœª"],wuxingYao:["åœŸ","æ°´","é‡‘","æ°´","é‡‘","åœŸ"]},100110:{name:"æ³½é›·éš",palace:"éœ‡å®«",wuxing:"æœ¨",shi:3,ying:6,liuqin:["å­å­™","å®˜é¬¼","å¦»è´¢","å­å­™","å…„å¼Ÿ","çˆ¶æ¯"],dizhi:["æˆŒ","å­","å¯…","äº¥","é…‰","æœª"],wuxingYao:["åœŸ","æ°´","æœ¨","æ°´","é‡‘","åœŸ"]},"011011":{name:"å·½ä¸ºé£",palace:"å·½å®«",wuxing:"æœ¨",shi:6,ying:3,liuqin:["å®˜é¬¼","çˆ¶æ¯","å…„å¼Ÿ","å¦»è´¢","å­å­™","å…„å¼Ÿ"],dizhi:["ä¸‘","äº¥","é…‰","å¯","å·³","æœª"],wuxingYao:["åœŸ","æ°´","é‡‘","æœ¨","ç«","åœŸ"]},111011:{name:"é£å¤©å°ç•œ",palace:"å·½å®«",wuxing:"æœ¨",shi:1,ying:4,liuqin:["å…„å¼Ÿ","çˆ¶æ¯","å®˜é¬¼","å¦»è´¢","å­å­™","å…„å¼Ÿ"],dizhi:["å­","å¯…","è¾°","å¯","å·³","æœª"],wuxingYao:["æ°´","æœ¨","åœŸ","æœ¨","ç«","åœŸ"]},101011:{name:"é£ç«å®¶äºº",palace:"å·½å®«",wuxing:"æœ¨",shi:2,ying:5,liuqin:["å…„å¼Ÿ","çˆ¶æ¯","å­å­™","å¦»è´¢","å­å­™","å…„å¼Ÿ"],dizhi:["å¯","ä¸‘","äº¥","å¯","å·³","æœª"],wuxingYao:["æœ¨","åœŸ","æ°´","æœ¨","ç«","åœŸ"]},100011:{name:"é£é›·ç›Š",palace:"å·½å®«",wuxing:"æœ¨",shi:3,ying:6,liuqin:["å…„å¼Ÿ","çˆ¶æ¯","å¦»è´¢","å¦»è´¢","å­å­™","å…„å¼Ÿ"],dizhi:["æˆŒ","å­","å¯…","å¯","å·³","æœª"],wuxingYao:["åœŸ","æ°´","æœ¨","æœ¨","ç«","åœŸ"]},100001:{name:"å¤©é›·æ— å¦„",palace:"å·½å®«",wuxing:"æœ¨",shi:4,ying:1,liuqin:["å…„å¼Ÿ","çˆ¶æ¯","å¦»è´¢","å®˜é¬¼","çˆ¶æ¯","å¦»è´¢"],dizhi:["æˆŒ","å­","å¯…","åˆ","ç”³","æˆŒ"],wuxingYao:["åœŸ","æ°´","æœ¨","ç«","é‡‘","åœŸ"]},100101:{name:"ç«é›·å™¬å—‘",palace:"å·½å®«",wuxing:"æœ¨",shi:5,ying:2,liuqin:["å…„å¼Ÿ","çˆ¶æ¯","å¦»è´¢","å®˜é¬¼","çˆ¶æ¯","å­å­™"],dizhi:["æˆŒ","å­","å¯…","é…‰","æœª","å·³"],wuxingYao:["åœŸ","æ°´","æœ¨","é‡‘","åœŸ","ç«"]},110101:{name:"å±±é›·é¢",palace:"å·½å®«",wuxing:"æœ¨",shi:4,ying:1,liuqin:["å…„å¼Ÿ","çˆ¶æ¯","å¦»è´¢","å…„å¼Ÿ","å®˜é¬¼","å­å­™"],dizhi:["æˆŒ","å­","å¯…","è¾°","åˆ","ç”³"],wuxingYao:["åœŸ","æ°´","æœ¨","åœŸ","ç«","é‡‘"]},"011001":{name:"å±±é£è›Š",palace:"å·½å®«",wuxing:"æœ¨",shi:3,ying:6,liuqin:["å®˜é¬¼","çˆ¶æ¯","å…„å¼Ÿ","å…„å¼Ÿ","å®˜é¬¼","å­å­™"],dizhi:["ä¸‘","äº¥","é…‰","è¾°","åˆ","ç”³"],wuxingYao:["åœŸ","æ°´","é‡‘","åœŸ","ç«","é‡‘"]},"010010":{name:"åä¸ºæ°´",palace:"åå®«",wuxing:"æ°´",shi:6,ying:3,liuqin:["çˆ¶æ¯","å®˜é¬¼","å…„å¼Ÿ","å­å­™","å¦»è´¢","å…„å¼Ÿ"],dizhi:["å¯…","è¾°","åˆ","ç”³","æˆŒ","å­"],wuxingYao:["æœ¨","åœŸ","ç«","é‡‘","åœŸ","æ°´"]},110010:{name:"æ°´æ³½èŠ‚",palace:"åå®«",wuxing:"æ°´",shi:1,ying:4,liuqin:["å­å­™","å¦»è´¢","å®˜é¬¼","å­å­™","å¦»è´¢","å…„å¼Ÿ"],dizhi:["å·³","å¯","ä¸‘","ç”³","æˆŒ","å­"],wuxingYao:["ç«","æœ¨","åœŸ","é‡‘","åœŸ","æ°´"]},100010:{name:"æ°´é›·å±¯",palace:"åå®«",wuxing:"æ°´",shi:2,ying:5,liuqin:["å­å­™","å¦»è´¢","çˆ¶æ¯","å­å­™","å¦»è´¢","å…„å¼Ÿ"],dizhi:["æˆŒ","å­","å¯…","ç”³","æˆŒ","å­"],wuxingYao:["åœŸ","æ°´","æœ¨","é‡‘","åœŸ","æ°´"]},101010:{name:"æ°´ç«æ—¢æµ",palace:"åå®«",wuxing:"æ°´",shi:3,ying:6,liuqin:["å­å­™","å¦»è´¢","å…„å¼Ÿ","å­å­™","å¦»è´¢","å…„å¼Ÿ"],dizhi:["å¯","ä¸‘","äº¥","ç”³","æˆŒ","å­"],wuxingYao:["æœ¨","åœŸ","æ°´","é‡‘","åœŸ","æ°´"]},101110:{name:"æ³½ç«é©",palace:"åå®«",wuxing:"æ°´",shi:4,ying:1,liuqin:["å­å­™","å¦»è´¢","å…„å¼Ÿ","çˆ¶æ¯","å¦»è´¢","å®˜é¬¼"],dizhi:["å¯","ä¸‘","äº¥","äº¥","é…‰","æœª"],wuxingYao:["æœ¨","åœŸ","æ°´","æ°´","é‡‘","åœŸ"]},101e3:{name:"é›·ç«ä¸°",palace:"åå®«",wuxing:"æ°´",shi:5,ying:2,liuqin:["å­å­™","å¦»è´¢","å…„å¼Ÿ","çˆ¶æ¯","å­å­™","å®˜é¬¼"],dizhi:["å¯","ä¸‘","äº¥","è¾°","åˆ","ç”³"],wuxingYao:["æœ¨","åœŸ","æ°´","åœŸ","ç«","é‡‘"]},"001000":{name:"åœ°ç«æ˜å¤·",palace:"åå®«",wuxing:"æ°´",shi:4,ying:1,liuqin:["å­å­™","å¦»è´¢","å…„å¼Ÿ","å®˜é¬¼","å­å­™","çˆ¶æ¯"],dizhi:["å¯","ä¸‘","äº¥","æœª","å·³","å¯"],wuxingYao:["æœ¨","åœŸ","æ°´","åœŸ","ç«","æœ¨"]},"010000":{name:"åœ°æ°´å¸ˆ",palace:"åå®«",wuxing:"æ°´",shi:3,ying:6,liuqin:["çˆ¶æ¯","å®˜é¬¼","å…„å¼Ÿ","å®˜é¬¼","å­å­™","çˆ¶æ¯"],dizhi:["å¯…","è¾°","åˆ","æœª","å·³","å¯"],wuxingYao:["æœ¨","åœŸ","ç«","åœŸ","ç«","æœ¨"]},"001001":{name:"è‰®ä¸ºå±±",palace:"è‰®å®«",wuxing:"åœŸ",shi:6,ying:3,liuqin:["å­å­™","å®˜é¬¼","çˆ¶æ¯","å…„å¼Ÿ","å¦»è´¢","çˆ¶æ¯"],dizhi:["è¾°","åˆ","ç”³","æˆŒ","å­","å¯…"],wuxingYao:["åœŸ","ç«","é‡‘","åœŸ","æ°´","æœ¨"]},101001:{name:"å±±ç«è´²",palace:"è‰®å®«",wuxing:"åœŸ",shi:1,ying:4,liuqin:["å®˜é¬¼","å¦»è´¢","å­å­™","å…„å¼Ÿ","å¦»è´¢","çˆ¶æ¯"],dizhi:["å¯","ä¸‘","äº¥","æˆŒ","å­","å¯…"],wuxingYao:["æœ¨","åœŸ","æ°´","åœŸ","æ°´","æœ¨"]},111001:{name:"å±±å¤©å¤§ç•œ",palace:"è‰®å®«",wuxing:"åœŸ",shi:2,ying:5,liuqin:["å®˜é¬¼","å¦»è´¢","å…„å¼Ÿ","å…„å¼Ÿ","å¦»è´¢","çˆ¶æ¯"],dizhi:["å­","å¯…","è¾°","æˆŒ","å­","å¯…"],wuxingYao:["æ°´","æœ¨","åœŸ","åœŸ","æ°´","æœ¨"]},110001:{name:"å±±æ³½æŸ",palace:"è‰®å®«",wuxing:"åœŸ",shi:3,ying:6,liuqin:["å®˜é¬¼","å¦»è´¢","å­å­™","å…„å¼Ÿ","å¦»è´¢","çˆ¶æ¯"],dizhi:["å·³","å¯","ä¸‘","æˆŒ","å­","å¯…"],wuxingYao:["ç«","æœ¨","åœŸ","åœŸ","æ°´","æœ¨"]},110011:{name:"ç«æ³½ç½",palace:"è‰®å®«",wuxing:"åœŸ",shi:4,ying:1,liuqin:["å®˜é¬¼","å¦»è´¢","å­å­™","å­å­™","å®˜é¬¼","å…„å¼Ÿ"],dizhi:["å·³","å¯","ä¸‘","å·³","å¯","ä¸‘"],wuxingYao:["ç«","æœ¨","åœŸ","ç«","æœ¨","åœŸ"]},110111:{name:"å¤©æ³½å±¥",palace:"è‰®å®«",wuxing:"åœŸ",shi:5,ying:2,liuqin:["å®˜é¬¼","å¦»è´¢","å­å­™","å­å­™","å®˜é¬¼","å…„å¼Ÿ"],dizhi:["å·³","å¯","ä¸‘","åˆ","ç”³","æˆŒ"],wuxingYao:["ç«","æœ¨","åœŸ","ç«","é‡‘","åœŸ"]},"010111":{name:"é£æ³½ä¸­å­š",palace:"è‰®å®«",wuxing:"åœŸ",shi:4,ying:1,liuqin:["å®˜é¬¼","å¦»è´¢","å­å­™","å…„å¼Ÿ","çˆ¶æ¯","å®˜é¬¼"],dizhi:["å·³","å¯","ä¸‘","å¯","å·³","æœª"],wuxingYao:["ç«","æœ¨","åœŸ","æœ¨","ç«","åœŸ"]},"001011":{name:"é£å±±æ¸",palace:"è‰®å®«",wuxing:"åœŸ",shi:3,ying:6,liuqin:["å­å­™","å®˜é¬¼","çˆ¶æ¯","å…„å¼Ÿ","çˆ¶æ¯","å®˜é¬¼"],dizhi:["è¾°","åˆ","ç”³","å¯","å·³","æœª"],wuxingYao:["åœŸ","ç«","é‡‘","æœ¨","ç«","åœŸ"]},"000000":{name:"å¤ä¸ºåœ°",palace:"å¤å®«",wuxing:"åœŸ",shi:6,ying:3,liuqin:["å¦»è´¢","å­å­™","å…„å¼Ÿ","å®˜é¬¼","çˆ¶æ¯","å…„å¼Ÿ"],dizhi:["æœª","å·³","å¯","ä¸‘","äº¥","é…‰"],wuxingYao:["åœŸ","ç«","æœ¨","åœŸ","æ°´","é‡‘"]},1e5:{name:"åœ°é›·å¤",palace:"å¤å®«",wuxing:"åœŸ",shi:1,ying:4,liuqin:["å…„å¼Ÿ","çˆ¶æ¯","å¦»è´¢","å®˜é¬¼","çˆ¶æ¯","å…„å¼Ÿ"],dizhi:["æˆŒ","å­","å¯…","ä¸‘","äº¥","é…‰"],wuxingYao:["åœŸ","æ°´","æœ¨","åœŸ","æ°´","é‡‘"]},11e4:{name:"åœ°æ³½ä¸´",palace:"å¤å®«",wuxing:"åœŸ",shi:2,ying:5,liuqin:["å…„å¼Ÿ","çˆ¶æ¯","å­å­™","å®˜é¬¼","çˆ¶æ¯","å…„å¼Ÿ"],dizhi:["å·³","å¯","ä¸‘","ä¸‘","äº¥","é…‰"],wuxingYao:["ç«","æœ¨","åœŸ","åœŸ","æ°´","é‡‘"]},111e3:{name:"åœ°å¤©æ³°",palace:"å¤å®«",wuxing:"åœŸ",shi:3,ying:6,liuqin:["å…„å¼Ÿ","çˆ¶æ¯","å®˜é¬¼","å®˜é¬¼","çˆ¶æ¯","å…„å¼Ÿ"],dizhi:["å­","å¯…","è¾°","ä¸‘","äº¥","é…‰"],wuxingYao:["æ°´","æœ¨","åœŸ","åœŸ","æ°´","é‡‘"]},111100:{name:"é›·å¤©å¤§å£®",palace:"å¤å®«",wuxing:"åœŸ",shi:4,ying:1,liuqin:["å…„å¼Ÿ","çˆ¶æ¯","å®˜é¬¼","å¦»è´¢","å­å­™","å®˜é¬¼"],dizhi:["å­","å¯…","è¾°","è¾°","åˆ","ç”³"],wuxingYao:["æ°´","æœ¨","åœŸ","åœŸ","ç«","é‡‘"]},111110:{name:"æ³½å¤©å¤¬",palace:"å¤å®«",wuxing:"åœŸ",shi:5,ying:2,liuqin:["å¦»è´¢","å®˜é¬¼","å…„å¼Ÿ","å¦»è´¢","å­å­™","å…„å¼Ÿ"],dizhi:["å­","å¯…","è¾°","äº¥","é…‰","æœª"],wuxingYao:["æ°´","æœ¨","åœŸ","æ°´","é‡‘","åœŸ"]},"011000":{name:"æ°´å¤©éœ€",palace:"å¤å®«",wuxing:"åœŸ",shi:4,ying:1,liuqin:["å¦»è´¢","å®˜é¬¼","å…„å¼Ÿ","å­å­™","å…„å¼Ÿ","å¦»è´¢"],dizhi:["å­","å¯…","è¾°","ç”³","æˆŒ","å­"],wuxingYao:["æ°´","æœ¨","åœŸ","é‡‘","åœŸ","æ°´"]},"000010":{name:"æ°´åœ°æ¯”",palace:"å¤å®«",wuxing:"åœŸ",shi:3,ying:6,liuqin:["å…„å¼Ÿ","çˆ¶æ¯","å®˜é¬¼","å­å­™","å…„å¼Ÿ","å¦»è´¢"],dizhi:["æœª","å·³","å¯","ç”³","æˆŒ","å­"],wuxingYao:["åœŸ","ç«","æœ¨","é‡‘","åœŸ","æ°´"]}};function Jr(t){return yo[t]||{name:"æœªçŸ¥å¦",palace:"æœªçŸ¥å®«",wuxing:"æœªçŸ¥",shi:0,ying:0,liuqin:[],dizhi:[],wuxingYao:[]}}function bo(t){let e="";for(let A=0;A<6;A++)e+=t[A].value.toString();return e}function Eo(t){let e="";for(let A=0;A<6;A++)t[A].isMoving?e+=t[A].value===1?"0":"1":e+=t[A].value.toString();return e}function Io(t){const e=[];for(let A=0;A<t.length;A++)t[A].isMoving&&e.push(A+1);return e}function Ho(){const t=new Date;return`${t.getFullYear()}å¹´${t.getMonth()+1}æœˆ${t.getDate()}æ—¥`}const Ke=80,fe=3,Xr=2,xo=["åˆçˆ»","äºŒçˆ»","ä¸‰çˆ»","å››çˆ»","äº”çˆ»","ä¸Šçˆ»"];function So(t){const e=Math.random()>.5?"èƒŒ":"å­—",A=Math.random()>.5?"èƒŒ":"å­—",n=Math.random()>.5?"èƒŒ":"å­—",r=[e,A,n],a=r.filter(B=>B==="èƒŒ").length;let s,i,o,c;switch(a){case 3:s=1,i=!0,o="è€é˜³ï¼ˆä¸‰èƒŒï¼‰",c="â—‹";break;case 2:s=1,i=!1,o="å°‘é˜³ï¼ˆäºŒèƒŒä¸€å­—ï¼‰",c="âšŠ";break;case 1:s=0,i=!1,o="å°‘é˜´ï¼ˆä¸€èƒŒäºŒå­—ï¼‰",c="âš‹";break;default:s=0,i=!0,o="è€é˜´ï¼ˆä¸‰å­—ï¼‰",c="Ã—";break}const l=xo[t-1];return{value:s,isMoving:i,name:o,symbol:c,position:l,step:t,backCount:a,coins:r}}class Do{constructor(e){if(this.matchType=UA(e.type),this.isShuffling=!1,this.shuffleCount=0,this.hasShuffled=!1,this.cards=[],this.drawRound=0,this.selectedSlots=[],this.showDrawModal=!1,this.modalCards=[],this.modalSelectedCards=[],this.availableCardIds=[],this.yaos=[],this.yaoHistory=[],this.currentStep=0,!this.matchType){window.router.navigate("/");return}this.initCards(),this.initAvailableCards()}initCards(){this.cards=Array.from({length:Ke},(e,A)=>{const a=(Math.random()-.5)*300,s=(Math.random()-.5)*350,i=(Math.random()-.5)*120;return{id:A,x:a,y:s,rotation:i,zIndex:Math.floor(Math.random()*Ke)}})}initAvailableCards(){this.availableCardIds=Array.from({length:Ke},(e,A)=>A)}render(){if(!this.matchType)return"";const e=this.getButtonText(),A=this.isShuffling;return`
      <div class="page tarot-shuffle-page">
        ${aA({title:"",showBack:!0,showHistory:!1,showProfile:!1})}
        
        <main class="page-content">
          <div class="app-container">
            
            <!-- è¿›åº¦æŒ‡ç¤ºå™¨ -->
            <div class="tarot-progress">
              ${ct(4,5,{showText:!1,showSteps:!0,stepLabel:""})}
            </div>

            <!-- é¡µé¢æ ‡é¢˜ -->
            <section class="shuffle-header animate-fade-in-up">
              <h1 class="shuffle-title">æ´—ç‰Œ</h1>
              <p class="shuffle-subtitle">ç‚¹å‡»ç‰Œå †ï¼Œæ´—ç‰Œä¸€æ¬¡ï¼Œå¯é‡å¤æ“ä½œ</p>
            </section>

            <!-- å¡ç‰Œå †å åŒºåŸŸ -->
            <section class="shuffle-cards-container shuffle-cards-container--large">
              <div class="shuffle-cards shuffle-cards--large" id="shuffleCards">
                ${this.renderCards()}
              </div>
            </section>

            <!-- æ´—ç‰ŒæŒ‰é’® -->
            <section class="shuffle-actions animate-fade-in-up animate-delay-300">
              <button class="btn btn--primary btn--full btn--lg shuffle-btn ${A?"disabled":""}" 
                      id="shuffleBtn" ${A?"disabled":""}>
                ${e}
              </button>
            </section>

            <!-- ä¸‹ä¸€æ­¥æŒ‰é’® -->
            <section class="shuffle-next-hint">
              <button class="btn btn--secondary" id="nextBtn">ä¸‹ä¸€æ­¥</button>
            </section>

            <div class="safe-area-bottom"></div>
          </div>
        </main>

        <!-- æŠ½ç‰Œå¼¹æ¡† -->
        ${this.renderDrawModal()}
      </div>
    `}getButtonText(){return this.isShuffling?"æ´—ç‰Œä¸­...":"æ´—ç‰Œ"}renderCards(){return this.cards.map(e=>`
            <div class="shuffle-card" 
                 data-card-id="${e.id}"
                 style="
                   transform: translate(${e.x}px, ${e.y}px) rotate(${e.rotation}deg);
                   z-index: ${e.zIndex};
                 ">
              <div class="shuffle-card__inner">
                <div class="shuffle-card__pattern">
                  <div class="card-circle"></div>
                  <div class="card-lines"></div>
                </div>
              </div>
            </div>
        `).join("")}renderCardSlots(){const e=[];for(let A=0;A<fe*Xr;A++){const n=this.selectedSlots[A]!==void 0;e.push(`
                <div class="card-slot ${n?"card-slot--filled":""}" data-slot-index="${A}">
                    ${n?`
                        <div class="card-slot__card">
                            <div class="shuffle-card__inner">
                                <div class="shuffle-card__pattern">
                                    <div class="card-circle"></div>
                                    <div class="card-lines"></div>
                                </div>
                            </div>
                        </div>
                    `:`
                        <div class="card-slot__empty">
                            <span class="card-slot__number">${A+1}</span>
                        </div>
                    `}
                </div>
            `)}return e.join("")}renderDrawModal(){return this.showDrawModal?(this.modalCards.length,`
            <div class="draw-modal show" id="drawModal">
                <div class="draw-modal__overlay"></div>
                <div class="draw-modal__content">
                    <h3 class="draw-modal__title">æ‘‡ç‰Œç»“æœ</h3>
                    <div class="draw-modal__cards">
                        ${this.modalCards.map((e,A)=>`
                                <div class="draw-modal__card selected" 
                                     data-modal-card-id="${e}" data-modal-index="${A}">
                                    <div class="shuffle-card__inner">
                                        <div class="shuffle-card__pattern">
                                            <div class="card-circle"></div>
                                            <div class="card-lines"></div>
                                        </div>
                                    </div>
                                    <div class="draw-modal__card-check">âœ“</div>
                                </div>
                            `).join("")}
                    </div>
                    <p class="draw-modal__hint">å·²æ‘‡å‡º ${fe} å¼ ç‰Œ</p>
                    <button class="btn btn--primary draw-modal__confirm" 
                            id="confirmDrawBtn">
                        ç¡®å®š
                    </button>
                </div>
            </div>
        `):'<div class="draw-modal" id="drawModal"></div>'}attachEvents(){const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{window.router.back()});const A=document.getElementById("shuffleBtn");A&&A.addEventListener("click",()=>{this.handleButtonClick()});const n=document.getElementById("shuffleCards");n&&(n.addEventListener("click",()=>{this.handleButtonClick()}),n.style.cursor="pointer");const r=document.getElementById("nextBtn");r&&r.addEventListener("click",()=>{this.handleNext()}),this.attachModalEvents()}attachModalEvents(){const e=document.getElementById("confirmDrawBtn");e&&e.addEventListener("click",()=>{this.handleConfirmDraw()})}handleButtonClick(){this.isShuffling||this.handleShuffle()}handleShuffle(){if(this.isShuffling)return;this.isShuffling=!0,this.shuffleCount++;const e=document.getElementById("shuffleBtn");e&&(e.disabled=!0,e.classList.add("disabled"),e.textContent="æ´—ç‰Œä¸­..."),this.performShuffleAnimation()}performShuffleAnimation(){const A=[{duration:180,speed:2},{duration:120,speed:1}];let n=0,r=0;const a=document.querySelectorAll(".shuffle-card"),s=()=>{if(n>=300){this.applyBounceEffect(a);return}let i=0;for(let l=0;l<=r;l++)i+=A[l].duration;n>=i&&r<A.length-1&&r++;const c=80/A[r].speed;this.randomizeCards(a),n+=c,setTimeout(()=>requestAnimationFrame(s),c)};s()}randomizeCards(e){e.forEach((A,n)=>{const s=(Math.random()-.5)*300,i=(Math.random()-.5)*350,o=(Math.random()-.5)*120,c=Math.floor(Math.random()*Ke);A.style.transform=`translate(${s}px, ${i}px) rotate(${o}deg)`,A.style.zIndex=c,this.cards[n].x=s,this.cards[n].y=i,this.cards[n].rotation=o,this.cards[n].zIndex=c})}applyBounceEffect(e){e.forEach((A,n)=>{const r=this.cards[n].x,a=this.cards[n].y,s=this.cards[n].rotation;A.style.transition="transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1)",A.style.transform=`translate(${r*1.15}px, ${a*1.15}px) rotate(${s*1.1}deg)`,setTimeout(()=>{const c=(Math.random()-.5)*300,l=(Math.random()-.5)*350,B=(Math.random()-.5)*120,g=Math.floor(Math.random()*Ke);A.style.transition="transform 0.4s cubic-bezier(0.34, 1.56, 0.64, 1)",A.style.transform=`translate(${c}px, ${l}px) rotate(${B}deg)`,A.style.zIndex=g,this.cards[n].x=c,this.cards[n].y=l,this.cards[n].rotation=B,this.cards[n].zIndex=g},200),setTimeout(()=>{A.style.transition=""},700)}),setTimeout(()=>{this.isShuffling=!1,this.hasShuffled=!0,this.updateButtonState()},700)}updateButtonState(){const e=document.getElementById("shuffleBtn");if(e){const A=this.selectedSlots.length>=fe*Xr;e.disabled=A,e.classList.toggle("disabled",A),e.textContent=this.getButtonText()}}openDrawModal(){this.modalCards=this.getRandomCards(fe),this.modalSelectedCards=[...this.modalCards],this.showDrawModal=!0,this.drawRound++,this.updateModalDOM()}getRandomCards(e){return[...this.availableCardIds].sort(()=>Math.random()-.5).slice(0,e)}updateModalDOM(){const e=document.getElementById("drawModal");e&&(e.outerHTML=this.renderDrawModal(),this.attachModalEvents())}handleConfirmDraw(){this.modalSelectedCards.length===fe&&(this.modalSelectedCards.forEach(e=>{this.selectedSlots.push(e),this.currentStep++;const A=So(this.currentStep),n={value:A.value,isMoving:A.isMoving,name:A.name,symbol:A.symbol,position:A.position};this.yaos.push(n);const r={step:A.step,position:A.position,name:A.name,symbol:A.symbol,isMoving:A.isMoving,backCount:A.backCount,cardId:e};this.yaoHistory.push(r);const a=this.availableCardIds.indexOf(e);a>-1&&this.availableCardIds.splice(a,1),console.log(`[æŠ½ç‰Œ] ${A.position}ï¼š${A.name} (${A.symbol})`)}),this.showDrawModal=!1,this.modalCards=[],this.modalSelectedCards=[],this.updateSlotsUI(),this.updateModalDOM(),this.updateButtonState(),console.log(`[æŠ½ç‰Œ] ç¬¬${this.drawRound}è½®å®Œæˆï¼Œå·²é€‰${this.selectedSlots.length}å¼ ç‰Œï¼Œå½“å‰çˆ»æ•°æ®:`,this.yaos))}updateSlotsUI(){const e=document.querySelector(".card-slots-grid");e&&(e.innerHTML=this.renderCardSlots())}async handleNext(){window.router.navigate(`/test/${this.matchType.id}/tarot/pick`)}}const Lo=[{id:0,name:"æ„šè€…",symbol:"ğŸƒ",upright:"æ–°çš„å¼€å§‹ã€å†’é™©ç²¾ç¥ã€çº¯çœŸ",reversed:"å†²åŠ¨ã€ç¼ºä¹è®¡åˆ’",element:"é£"},{id:1,name:"é­”æœ¯å¸ˆ",symbol:"ğŸ©",upright:"åˆ›é€ åŠ›ã€è‡ªä¿¡ã€æŠ€èƒ½",reversed:"ç¼ºä¹æ–¹å‘ã€èƒ½åŠ›å—é™",element:"é£"},{id:2,name:"å¥³ç¥­å¸",symbol:"ğŸŒ™",upright:"ç›´è§‰ã€æ™ºæ…§ã€å†…åœ¨æ´å¯Ÿ",reversed:"å¿½è§†ç›´è§‰ã€ä¿¡æ¯ä¸è¶³",element:"æ°´"},{id:3,name:"çš‡å",symbol:"ğŸ‘‘",upright:"ä¸°é¥¶ã€å…³çˆ±ã€åˆ›é€ åŠ›",reversed:"è¿‡åº¦ä¾èµ–ã€åˆ›é€ åŠ›å—é˜»",element:"åœŸ"},{id:4,name:"çš‡å¸",symbol:"ğŸ›ï¸",upright:"æƒå¨ã€ç¨³å®šã€é¢†å¯¼åŠ›",reversed:"è¿‡äºæ§åˆ¶ã€ç¼ºä¹çµæ´»",element:"ç«"},{id:5,name:"æ•™çš‡",symbol:"ğŸ“¿",upright:"ä¼ ç»Ÿã€æŒ‡å¯¼ã€ç²¾ç¥è¿½æ±‚",reversed:"æ€æƒ³åƒµåŒ–ã€ç¼ºä¹åˆ›æ–°",element:"åœŸ"},{id:6,name:"æ‹äºº",symbol:"ğŸ’•",upright:"çˆ±æƒ…ã€å’Œè°ã€é€‰æ‹©",reversed:"å…³ç³»å¤±è¡¡ã€é€‰æ‹©å›°éš¾",element:"é£"},{id:7,name:"æˆ˜è½¦",symbol:"ğŸ‡",upright:"èƒœåˆ©ã€å†³å¿ƒã€è¡ŒåŠ¨åŠ›",reversed:"æ–¹å‘ä¸æ˜ã€ç¼ºä¹æ§åˆ¶",element:"æ°´"},{id:8,name:"åŠ›é‡",symbol:"ğŸ¦",upright:"å†…åœ¨åŠ›é‡ã€å‹‡æ°”ã€è€å¿ƒ",reversed:"è‡ªæˆ‘æ€€ç–‘ã€ç¼ºä¹ä¿¡å¿ƒ",element:"ç«"},{id:9,name:"éšå£«",symbol:"ğŸ”ï¸",upright:"å†…çœã€å¯»æ±‚æ™ºæ…§ã€ç‹¬å¤„",reversed:"å­¤ç«‹ã€è¿‡åº¦å°é—­",element:"åœŸ"},{id:10,name:"æœºé‡ä¹‹è½®",symbol:"ğŸ¡",upright:"è½¬å˜ã€æœºé‡ã€æ–°é˜¶æ®µ",reversed:"é€†å¢ƒã€æŠ—æ‹’æ”¹å˜",element:"ç«"},{id:11,name:"æ­£ä¹‰",symbol:"âš–ï¸",upright:"å…¬å¹³ã€çœŸç›¸ã€å› æœ",reversed:"ä¸å…¬ã€é€ƒé¿è´£ä»»",element:"é£"},{id:12,name:"å€’åŠäºº",symbol:"ğŸ™ƒ",upright:"æ–°è§†è§’ã€ç‰ºç‰²ã€ç­‰å¾…",reversed:"æ‹–å»¶ã€æ— è°“ç‰ºç‰²",element:"æ°´"},{id:13,name:"æ­»ç¥",symbol:"ğŸ¦‹",upright:"è½¬å˜ã€ç»“æŸä¸æ–°ç”Ÿ",reversed:"æŠ—æ‹’æ”¹å˜ã€åœæ»",element:"æ°´"},{id:14,name:"èŠ‚åˆ¶",symbol:"ğŸº",upright:"å¹³è¡¡ã€è€å¿ƒã€è°ƒå’Œ",reversed:"å¤±è¡¡ã€è¿‡åº¦",element:"ç«"},{id:15,name:"æ¶é­”",symbol:"ğŸ”—",upright:"æŸç¼šã€æ¬²æœ›ã€ç‰©è´¨",reversed:"è§£è„±ã€æ‘†è„±é™åˆ¶",element:"åœŸ"},{id:16,name:"å¡”",symbol:"ğŸ—¼",upright:"çªå˜ã€è§‰é†’ã€é‡å»º",reversed:"é€ƒé¿æ”¹å˜ã€å»¶è¿Ÿ",element:"ç«"},{id:17,name:"æ˜Ÿæ˜Ÿ",symbol:"â­",upright:"å¸Œæœ›ã€çµæ„Ÿã€å¹³é™",reversed:"å¤±æœ›ã€ç¼ºä¹ä¿¡å¿ƒ",element:"é£"},{id:18,name:"æœˆäº®",symbol:"ğŸŒ‘",upright:"ç›´è§‰ã€æ½œæ„è¯†ã€æƒ…ç»ª",reversed:"å›°æƒ‘ã€ææƒ§",element:"æ°´"},{id:19,name:"å¤ªé˜³",symbol:"â˜€ï¸",upright:"å¿«ä¹ã€æˆåŠŸã€æ´»åŠ›",reversed:"æš‚æ—¶å—é˜»ã€è¿‡åº¦ä¹è§‚",element:"ç«"},{id:20,name:"å®¡åˆ¤",symbol:"ğŸ“¯",upright:"è§‰é†’ã€è¯„ä¼°ã€æ–°é˜¶æ®µ",reversed:"è‡ªæˆ‘æ‰¹åˆ¤ã€æ‹’ç»æ”¹å˜",element:"ç«"},{id:21,name:"ä¸–ç•Œ",symbol:"ğŸŒ",upright:"å®Œæˆã€æ•´åˆã€æˆå°±",reversed:"æœªå®Œæˆã€ç¼ºä¹é—­åˆ",element:"åœŸ"}],To={suit:"æƒæ–",suitSymbol:"ğŸ”¥",element:"ç«"},Mo={suit:"åœ£æ¯",suitSymbol:"ğŸ’§",element:"æ°´"},Ko={suit:"å®å‰‘",suitSymbol:"âš”ï¸",element:"é£"},ko={suit:"æ˜Ÿå¸",suitSymbol:"â­•",element:"åœŸ"},Oo=["Ace","äºŒ","ä¸‰","å››","äº”","å…­","ä¸ƒ","å…«","ä¹","å","ä¾ä»","éª‘å£«","ç‹å","å›½ç‹"];function _o(){const t=[To,Mo,Ko,ko],e=[];let A=22;for(const n of t)for(let r=0;r<14;r++){const a=Oo[r];e.push({id:A++,name:`${n.suit}${a}`,symbol:n.suitSymbol,suit:n.suit,rank:r+1,element:n.element,upright:"",reversed:""})}return e}const Ro=_o(),No=[...Lo,...Ro],qr=72,ke=6,Wr=["ç›®æ ‡","åŠ¨åŠ›","éšœç¢","èµ„æº","æ”¯æŒ","ç»“æœ"];function Po(){const t=window.innerWidth,e=Math.max(t*1.4,600),A=t*1.6;return(t<=500?A:e)/2-20}class Go{constructor(e){if(this.matchType=UA(e.type),!this.matchType){window.router.navigate("/");return}this.currentRotation=0,this.isDragging=!1,this.hasMoved=!1,this.startY=0,this.lastRotation=0,this.velocity=0,this.lastMoveTime=0,this.lastMoveY=0,this.animFrameId=null,this._cleanups=[],this.pickedCards=new Array(ke).fill(null),this.usedCardIds=new Set,this.isShowingPreview=!1}get pickedCount(){return this.pickedCards.filter(e=>e!==null).length}render(){if(!this.matchType)return"";const e=360/qr,A=Po();let n="";for(let a=0;a<qr;a++){const s=a*e;n+=`
                <div class="wheel-card" data-idx="${a}"
                     style="transform: rotate(${s}deg) translateY(-${A}px)">
                  <div class="wheel-card__face"></div>
                </div>`}const r=Wr.map((a,s)=>`
          <div class="pick-slot" id="pickSlot${s}" data-slot="${s}">
            <div class="pick-slot__empty">
              <span class="pick-slot__label">${a}</span>
            </div>
          </div>
        `).join("");return`
      <div class="page tarot-pick-page">
        ${aA({title:"æŠ½ç‰Œ",showBack:!0,showHistory:!1,showProfile:!1})}
        <main class="page-content">
          <div class="pick-page-wrap">
            <!-- é¡¶éƒ¨æ§½æ¡† -->
            <div class="pick-slots-bar" id="pickSlotsBar">
              ${r}
            </div>
            <div class="pick-hint-bar">
              <span class="pick-hint-text">ç‚¹å‡»ç‰Œè½®ä¸­çš„ç‰ŒæŠ½å–ï¼Œå…±éœ€æŠ½ ${ke} å¼ </span>
            </div>
            <div class="pick-wheel-viewport" id="wheelViewport">
              <div class="pick-wheel" id="pickWheel">
                ${n}
              </div>
            </div>
            <!-- åº•éƒ¨ä¸‹ä¸€æ­¥ -->
            <div class="pick-bottom-bar">
              <button class="btn btn--primary btn--full btn--lg pick-next-btn" id="pickNextBtn">
                ä¸‹ä¸€æ­¥
              </button>
            </div>
          </div>
        </main>
      </div>`}attachEvents(){document.querySelector(".navbar__back-btn")?.addEventListener("click",()=>window.router.back()),document.getElementById("pickWheel")?.addEventListener("click",r=>{if(this.hasMoved||this.isShowingPreview)return;r.target.closest(".wheel-card")&&this.handleDrawOne()}),document.getElementById("pickNextBtn")?.addEventListener("click",()=>this.handleNext());const e=document.getElementById("wheelViewport");if(!e)return;e.addEventListener("touchstart",r=>{this.stopInertia(),this.hasMoved=!1,this.onDragStart(r.touches[0].clientY)},{passive:!0}),e.addEventListener("touchmove",r=>{r.preventDefault(),this.hasMoved=!0,this.onDragMove(r.touches[0].clientY)},{passive:!1}),e.addEventListener("touchend",()=>this.onDragEnd()),e.addEventListener("mousedown",r=>{this.stopInertia(),this.hasMoved=!1,this.onDragStart(r.clientY)});const A=r=>{this.isDragging&&(this.hasMoved=!0,this.onDragMove(r.clientY))},n=()=>{this.isDragging&&this.onDragEnd()};document.addEventListener("mousemove",A),document.addEventListener("mouseup",n),this._cleanups.push(()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",n)})}onDragStart(e){this.isDragging=!0,this.startY=e,this.lastRotation=this.currentRotation,this.velocity=0,this.lastMoveTime=Date.now(),this.lastMoveY=e}onDragMove(e){if(!this.isDragging)return;this.currentRotation=this.lastRotation+(e-this.startY)*.45,this.applyRotation();const A=Date.now(),n=A-this.lastMoveTime;n>0&&(this.velocity=(e-this.lastMoveY)/n*.45),this.lastMoveTime=A,this.lastMoveY=e}onDragEnd(){this.isDragging=!1,Math.abs(this.velocity)>.02&&this.startInertia()}startInertia(){const e=()=>{if(this.velocity*=.96,Math.abs(this.velocity)<.005){this.animFrameId=null;return}this.currentRotation+=this.velocity*16,this.applyRotation(),this.animFrameId=requestAnimationFrame(e)};this.animFrameId=requestAnimationFrame(e)}stopInertia(){this.animFrameId&&(cancelAnimationFrame(this.animFrameId),this.animFrameId=null)}applyRotation(){const e=document.getElementById("pickWheel");e&&(e.style.transform=`rotate(${this.currentRotation}deg)`)}handleDrawOne(){if(this.pickedCount>=ke){window.showToast&&window.showToast("å·²æŠ½æ»¡6å¼ ç‰Œï¼Œè¯·ç‚¹å‡»ä¸‹ä¸€æ­¥","default");return}this.stopInertia();const e=No.filter(n=>!this.usedCardIds.has(n.id)),A={...e[Math.floor(Math.random()*e.length)]};this.showCardPreview(A)}showCardPreview(e){this.isShowingPreview=!0;const A=document.createElement("div");A.className="pick-preview-overlay",A.innerHTML=`
          <div class="pick-preview-wrap">
            <div class="pick-preview-card">
              <div class="pick-preview-card__inner">
                <div class="pick-preview-card__back">
                  <span class="pick-preview-star">âœ¦</span>
                </div>
                <div class="pick-preview-card__front">
                  <span class="pick-preview-symbol">${e.symbol||"âœ¦"}</span>
                  <span class="pick-preview-name">${e.name||""}</span>
                </div>
              </div>
            </div>
            <div class="pick-preview-btns">
              <button class="btn btn--secondary pick-preview-btn" id="previewReselect">é‡é€‰</button>
              <button class="btn btn--primary pick-preview-btn" id="previewConfirm">ç¡®å®š</button>
            </div>
          </div>
        `,document.body.appendChild(A),A.querySelector("#previewReselect").addEventListener("click",()=>{A.remove(),this.isShowingPreview=!1}),A.querySelector("#previewConfirm").addEventListener("click",()=>{A.querySelector(".pick-preview-card__inner").classList.add("flipped");const r=this.pickedCards.findIndex(a=>a===null);this.pickedCards[r]=e,this.usedCardIds.add(e.id),setTimeout(()=>{A.remove(),this.isShowingPreview=!1,this.fillSlot(r,e)},500)})}fillSlot(e,A){const n=document.getElementById(`pickSlot${e}`);if(!n)return;n.innerHTML=`
          <div class="pick-slot__filled">
            <span class="pick-slot__symbol">${A.symbol||"âœ¦"}</span>
            <span class="pick-slot__name">${A.name||""}</span>
          </div>
        `,n.classList.add("pick-slot--filled");const r=ke-this.pickedCount,a=document.querySelector(".pick-hint-text");a&&(r>0?a.textContent=`è¿˜éœ€æŠ½ ${r} å¼ ç‰Œ`:a.textContent="å·²æŠ½æ»¡ 6 å¼ ç‰Œï¼Œç‚¹å‡»ä¸‹ä¸€æ­¥ç»§ç»­")}handleNext(){const e=ke-this.pickedCount;if(e>0){window.showToast&&window.showToast(`è¯·å†æŠ½ ${e} å¼ ç‰Œ`,"error");return}if(window.appState){const A=this.pickedCards.map(n=>n.id);window.appState.set("selectedCards",A),window.appState.set("drawnTarotCards",this.pickedCards),window.appState.selectedTarotCards=this.pickedCards.map((n,r)=>({...n,slot:r,label:Wr[r]}))}window.router.navigate(`/test/${this.matchType.id}/tarot/card-selection`)}destroy(){this.stopInertia(),this._cleanups.forEach(e=>e()),document.querySelectorAll(".pick-preview-overlay").forEach(e=>e.remove())}}const Oe=6,zr=3,Vo=["åˆçˆ»","äºŒçˆ»","ä¸‰çˆ»","å››çˆ»","äº”çˆ»","ä¸Šçˆ»"];class $o{constructor(e){if(this.matchType=UA(e.type),!this.matchType){window.router.navigate("/");return}this.selectedCards=window.appState?.selectedTarotCards||[],this.shakeCount=0,this.yaos=[],this.collectedCards=[],this.isShaking=!1}render(){if(!this.matchType)return"";const e=this.selectedCards.map((A,n)=>`
          <div class="cs-card" data-idx="${n}" id="csCard${n}">
            <div class="cs-card__inner">
              <div class="cs-card__back">
                <span class="cs-card__star">âœ¦</span>
              </div>
              <div class="cs-card__front">
                <span class="cs-card__symbol">${A.symbol||"âœ¦"}</span>
                <span class="cs-card__name">${A.name||""}</span>
              </div>
            </div>
          </div>
        `).join("");return`
      <div class="page tarot-card-selection-page">
        ${aA({title:"æ‘‡ç‰Œ",showBack:!0,showHistory:!1,showProfile:!1})}
        <main class="page-content">
          <div class="cs-page-wrap">

            <div class="cs-title">å‘½è¿ä¹‹ç‰Œ</div>
            <div class="cs-status" id="csStatus">ç¬¬ 1 / ${Oe} æ¬¡æ‘‡ç‰Œ</div>

            <!-- 6å¼ å¤§ç‰Œ -->
            <div class="cs-card-grid" id="csCardGrid">
              ${e}
            </div>

            <!-- æ‘‡ç‰ŒæŒ‰é’® -->
            <div class="cs-shake-bar">
              <button class="btn btn--primary btn--full btn--lg" id="csShakeBtn">æ‘‡ç‰Œ</button>
            </div>

            <!-- åº•éƒ¨æ”¶é›†åŒº -->
            <div class="cs-collect-area" id="csCollectArea">
              <div class="cs-collect-label">å·²è·å¾—çš„æ­£é¢ç‰Œ</div>
              <div class="cs-collect-slots" id="csCollectSlots"></div>
            </div>

          </div>
        </main>
      </div>`}attachEvents(){document.querySelector(".navbar__back-btn")?.addEventListener("click",()=>window.router.back()),document.getElementById("csShakeBtn")?.addEventListener("click",()=>this.doShake())}doShake(){if(this.isShaking||this.shakeCount>=Oe)return;this.isShaking=!0;const e=document.getElementById("csShakeBtn");e&&(e.disabled=!0,e.classList.add("disabled"));const A=document.querySelectorAll(".cs-card"),n=document.getElementById("csCardGrid");A.forEach(c=>{c.classList.remove("cs-card--face-up","cs-card--face-down","cs-card--picked","cs-card--not-picked","cs-card--hidden","cs-card--phase-float","cs-card--phase-scatter","cs-card--phase-glow","cs-card--shuffle-swap","cs-card--energy-pulse"),c.style.setProperty("--sx","0px"),c.style.setProperty("--sy","0px"),c.style.setProperty("--sr","0deg"),c.style.removeProperty("--swap-x"),c.style.removeProperty("--swap-y")}),n&&n.classList.remove("cs-card-grid--picked-only");const r=[0,1,2,3,4,5],a=[];for(let c=0;c<zr;c++){const l=Math.floor(Math.random()*r.length);a.push(r[l]),r.splice(l,1)}const s=a.map(()=>Math.random()>.5?"å­—":"èƒŒ"),i=s.filter(c=>c==="èƒŒ").length,o=this.calculateYao(i,this.shakeCount+1,s);n&&n.classList.add("cs-grid--shaking"),A.forEach((c,l)=>{c.classList.add("cs-card--gather")}),setTimeout(()=>{A.forEach(c=>c.classList.remove("cs-card--gather")),this.spawnParticles(n),this.shuffleAllCards(n)},400),setTimeout(()=>{n&&n.classList.remove("cs-grid--shaking"),A.forEach(c=>c.classList.add("cs-card--phase-float"))},1200),setTimeout(()=>{A.forEach(c=>c.classList.remove("cs-card--phase-float")),A.forEach((c,l)=>{const B=l/6*Math.PI*2+(Math.random()-.5)*.8,g=12+Math.random()*10;c.style.setProperty("--sx",`${Math.cos(B)*g}px`),c.style.setProperty("--sy",`${Math.sin(B)*g}px`),c.style.setProperty("--sr",`${(Math.random()-.5)*24}deg`),c.classList.add("cs-card--phase-scatter")})},1650),setTimeout(()=>{A.forEach(c=>{c.classList.remove("cs-card--phase-scatter"),c.classList.add("cs-card--phase-glow"),c.classList.add("cs-card--energy-pulse")})},2150),setTimeout(()=>{A.forEach(l=>{l.classList.remove("cs-card--phase-glow"),l.classList.remove("cs-card--energy-pulse")});const c=document.querySelectorAll(".cs-card");c.forEach(l=>{const B=parseInt(l.dataset.idx);a.includes(B)||l.classList.add("cs-card--not-picked")}),setTimeout(()=>{c.forEach(l=>{const B=parseInt(l.dataset.idx);a.includes(B)||l.classList.add("cs-card--hidden")}),n&&n.classList.add("cs-card-grid--picked-only")},420),a.forEach((l,B)=>{const g=s[B]==="å­—",w=document.getElementById(`csCard${l}`);w&&setTimeout(()=>{w.classList.add("cs-card--picked"),w.classList.add(g?"cs-card--face-up":"cs-card--face-down"),this.spawnFlipGlow(w),g&&this.collectedCards.push({cardIndex:l,shakeRound:this.shakeCount,cardData:this.selectedCards[l]})},B*280)}),setTimeout(()=>{this.yaos.push(o),this.shakeCount++,this.updateCollectSlots(),this.updateStatus(),this.isShaking=!1,e&&(e.disabled=!1,e.classList.remove("disabled")),this.shakeCount>=Oe&&this.onAllShakesDone()},zr*280+500)},2600)}shuffleAllCards(e){if(!e)return;const A=Array.from(e.querySelectorAll(".cs-card"));if(A.length===0)return;const n=A.map(a=>{const s=a.getBoundingClientRect();return{left:s.left,top:s.top,width:s.width,height:s.height}}),r=Array.from({length:A.length},(a,s)=>s);for(let a=r.length-1;a>0;a--){const s=Math.floor(Math.random()*(a+1));[r[a],r[s]]=[r[s],r[a]]}A.forEach((a,s)=>{const i=r.indexOf(s);if(i===s)return;const o=n[s],c=n[i],l=c.left-o.left,B=c.top-o.top,g=(Math.random()-.5)*60,w=(Math.random()-.5)*360,m=Math.random()*120;a.style.setProperty("--swap-x",`${l}px`),a.style.setProperty("--swap-y",`${B}px`),a.style.setProperty("--curve",`${g}px`),a.style.setProperty("--rotate",`${w}deg`),a.style.setProperty("--delay",`${m}ms`),a.classList.add("cs-card--shuffle-all"),this.spawnTrailParticle(e,o,c)}),setTimeout(()=>{const a=document.createDocumentFragment();r.forEach(s=>{a.appendChild(A[s])}),e.innerHTML="",e.appendChild(a),e.querySelectorAll(".cs-card").forEach(s=>{s.classList.remove("cs-card--shuffle-all"),s.style.removeProperty("--swap-x"),s.style.removeProperty("--swap-y"),s.style.removeProperty("--curve"),s.style.removeProperty("--rotate"),s.style.removeProperty("--delay")})},800)}swapRandomCards(e){if(!e)return;const A=Array.from(e.querySelectorAll(".cs-card"));if(A.length<2)return;const n=Math.floor(Math.random()*A.length);let r=Math.floor(Math.random()*A.length);for(;r===n;)r=Math.floor(Math.random()*A.length);const a=A[n],s=A[r],i=a.getBoundingClientRect(),o=s.getBoundingClientRect(),c=o.left-i.left,l=o.top-i.top;a.style.setProperty("--swap-x",`${c}px`),a.style.setProperty("--swap-y",`${l}px`),s.style.setProperty("--swap-x",`${-c}px`),s.style.setProperty("--swap-y",`${-l}px`),a.classList.add("cs-card--shuffle-swap"),s.classList.add("cs-card--shuffle-swap"),this.spawnTrailParticle(e,i,o),setTimeout(()=>{a.classList.remove("cs-card--shuffle-swap"),s.classList.remove("cs-card--shuffle-swap"),a.style.removeProperty("--swap-x"),a.style.removeProperty("--swap-y"),s.style.removeProperty("--swap-x"),s.style.removeProperty("--swap-y");const B=a.parentNode,g=a.nextSibling===s?a:a.nextSibling;B.insertBefore(a,s),B.insertBefore(s,g)},350)}spawnParticles(e){if(!e)return;const A=e.getBoundingClientRect(),n=A.width/2,r=A.height/2;for(let a=0;a<20;a++){const s=document.createElement("div");s.className="cs-particle";const i=Math.PI*2*a/20+(Math.random()-.5)*.5,o=40+Math.random()*80,c=Math.cos(i)*o,l=Math.sin(i)*o,B=3+Math.random()*5,g=250+Math.random()*60,w=Math.random()*200;s.style.cssText=`
                left: ${n}px; top: ${r}px;
                width: ${B}px; height: ${B}px;
                --tx: ${c}px; --ty: ${l}px;
                background: hsl(${g}, 80%, 65%);
                animation-delay: ${w}ms;
            `,e.appendChild(s),setTimeout(()=>s.remove(),900)}}spawnTrailParticle(e,A,n){if(!e)return;const r=e.getBoundingClientRect(),a=(A.left+n.left)/2-r.left+A.width/2,s=(A.top+n.top)/2-r.top+A.height/2;for(let i=0;i<6;i++){const o=document.createElement("div");o.className="cs-trail-particle";const c=(Math.random()-.5)*40,l=(Math.random()-.5)*30;o.style.cssText=`left:${a+c}px;top:${s+l}px;animation-delay:${i*30}ms;`,e.appendChild(o),setTimeout(()=>o.remove(),600)}}spawnFlipGlow(e){const A=document.createElement("div");A.className="cs-flip-glow",e.appendChild(A),setTimeout(()=>A.remove(),800)}calculateYao(e,A,n){let r,a,s,i;switch(e){case 3:r=1,a=!0,s="è€é˜³ï¼ˆä¸‰èƒŒï¼‰",i="â—‹";break;case 2:r=1,a=!1,s="å°‘é˜³ï¼ˆäºŒèƒŒä¸€å­—ï¼‰",i="âšŠ";break;case 1:r=0,a=!1,s="å°‘é˜´ï¼ˆä¸€èƒŒäºŒå­—ï¼‰",i="âš‹";break;default:r=0,a=!0,s="è€é˜´ï¼ˆä¸‰å­—ï¼‰",i="Ã—";break}return{value:r,isMoving:a,name:s,symbol:i,position:Vo[A-1],step:A,backCount:e,coins:n}}updateStatus(){const e=document.getElementById("csStatus");e&&(this.shakeCount>=Oe?e.textContent=`æ‘‡ç‰Œå®Œæˆï¼å…±è·å¾— ${this.collectedCards.length} å¼ æ­£é¢ç‰Œ`:e.textContent=`ç¬¬ ${this.shakeCount+1} / ${Oe} æ¬¡æ‘‡ç‰Œ`)}updateCollectSlots(){const e=document.getElementById("csCollectSlots");e&&(e.innerHTML=this.collectedCards.map((A,n)=>{const r=A.cardData||{};return`
              <div class="cs-mini-card cs-mini-card--enter" style="animation-delay: ${n*.05}s">
                <div class="cs-mini-card__face">
                  <span class="cs-mini-card__symbol">${r.symbol||"âœ¦"}</span>
                  <span class="cs-mini-card__name">${r.name||""}</span>
                </div>
              </div>`}).join(""))}onAllShakesDone(){const e=document.getElementById("csShakeBtn");if(e)try{const A=bo(this.yaos),n=Jr(A),r=Eo(this.yaos),a=Jr(r),s=Io(this.yaos),i=Ho(),o=window.appState?.get?.("tarotQuestion")||"è¿åŠ¿æŒ‡å¼•",c=window.appState?.get?.("questionCategory")||"ç»¼åˆ",l=window.appState?.get?.("gender")||"",B={question:o,benGuaInfo:n,bianGuaInfo:a,yaos:this.yaos,movingPositions:s,questionCategory:c,gender:l};console.log("[æ‘‡ç‰Œå®Œæˆ] å¦è±¡æ•°æ®:",{æœ¬å¦:n.name,å˜å¦:a.name,åŠ¨çˆ»:s,çˆ»æ•°æ®:this.yaos.map(g=>`${g.position}: ${g.name} ${g.symbol}`),æ­£é¢ç‰Œ:this.collectedCards.map(g=>g.cardData?.name)}),window.appState&&(window.appState.set("guaData",B),window.appState.set("yaos",this.yaos),window.appState.set("benGuaInfo",n),window.appState.set("bianGuaInfo",a),window.appState.set("movingPositions",s),window.appState.set("lunarDate",i)),e.textContent="å¼€å§‹è§£è¯»",e.onclick=async()=>{const g=Fr(),w={type:this.matchType.id,method:"tarot",guaData:{question:o,questionCategory:c,gender:l,benGua:n.name,bianGua:a.name,movingPositions:s,yaos:this.yaos.map(h=>({position:h.position,name:h.name,symbol:h.symbol}))},collectedCards:this.collectedCards.map(h=>h.cardData?.name||""),timestamp:Date.now()};try{let h=null;try{const U=localStorage.getItem("user");if(U){const F=JSON.parse(U);h=F.id||F.userId||null}}catch{}const H=await an.create(g,w,h);console.log("åŒ¹é…è®°å½•åˆ›å»ºæˆåŠŸ:",H),w.recordId=H.data?.recordId,w.sessionId=g}catch(h){console.error("åˆ›å»ºåŒ¹é…è®°å½•å¤±è´¥:",h),w.sessionId=g}window.appState?.set("currentTest",w);const m=encodeURIComponent(o);window.router.navigate(`/test/${this.matchType.id}/tarot/result-loading?question=${m}`)}}catch(A){console.error("[æ‘‡ç‰Œ] å¦è±¡è®¡ç®—å¤±è´¥:",A),e.textContent="é‡æ–°æ‘‡ç‰Œ",e.onclick=()=>{this.shakeCount=0,this.yaos=[],this.collectedCards=[],this.isShaking=!1,this.updateStatus(),this.updateCollectSlots(),document.querySelectorAll(".cs-card").forEach(n=>{n.classList.remove("cs-card--face-up","cs-card--face-down","cs-card--picked","cs-card--not-picked","cs-card--hidden")}),document.getElementById("csCardGrid")?.classList.remove("cs-card-grid--picked-only"),e.textContent="æ‘‡ç‰Œ",e.onclick=()=>this.doShake()}}}}const Hn=["æ­£åœ¨è§£è¯»ç‰Œé¢ä¿¡æ¯...","æ­£åœ¨åˆ†æèƒ½é‡èµ°å‘...","æ­£åœ¨ç»¼åˆç‰Œé˜µå«ä¹‰...","æ­£åœ¨æ¢³ç†æ ¸å¿ƒè„‰ç»œ...","æ­£åœ¨æ•´åˆæ·±å±‚æŒ‡å¼•...","è‚–å¤§å¸ˆæ­£åœ¨è®¤çœŸè§£è¯»...","å³å°†å®Œæˆï¼Œè¯·ç¨å€™..."];class Yo{constructor(e){if(this.matchType=UA(e.type),this.question=decodeURIComponent(e.question||"æœªæŒ‡å®šé—®é¢˜"),this.estimateSeconds=90,this.progress=0,this.timer=null,this.isInterpreting=!1,this.tipIndex=0,this.currentTip=Hn[0],this.retryCount=0,this.maxRetry=2,!this.matchType){window.router.navigate("/");return}}render(){return window.appState?.get?.("benGuaInfo"),window.appState?.get?.("bianGuaInfo"),(window.appState?.get?.("movingPositions")||[]).length>0,`
      <div class="page tarot-result-loading-page">
        ${aA({title:"è§£è¯»ç»“æœ",showBack:!0,showHistory:!1,showProfile:!1})}
        <main class="page-content">
          <div class="app-container">
            <!-- é—®é¢˜å¡ç‰‡ -->
            <section class="result-question-card animate-fade-in-up">
              <div class="result-question-title">åŒ¹é…äº‹é¡¹</div>
              <div class="result-question-main">${this.question}</div>
            </section>
            
            <!-- åŠ è½½åŠ¨ç”»å¡ç‰‡ -->
            <section class="result-loading-card animate-fade-in-up animate-delay-100">
              <div class="result-loading-spinner">
                <svg width="48" height="48" viewBox="0 0 48 48">
                  <circle cx="24" cy="24" r="20" stroke="#E0E0F6" stroke-width="6" fill="none" />
                  <circle cx="24" cy="24" r="20" stroke="#8B7FD8" stroke-width="6" fill="none" stroke-linecap="round" stroke-dasharray="100 100" stroke-dashoffset="${100-this.progress*100}"/>
                </svg>
              </div>
              <div class="result-loading-text">
                <div class="result-loading-main" id="loadingTip">${this.currentTip}</div>
                <div class="result-loading-sub">é¢„è®¡éœ€è¦ <span class="result-loading-sec">${this.estimateSeconds}</span> ç§’</div>
              </div>
              <div class="result-loading-bar">
                <div class="result-loading-bar-inner" style="width: ${this.progress*100}%"></div>
              </div>
            </section>
            
            <section class="result-btns animate-fade-in-up animate-delay-200">
              <button class="btn btn--outline btn--lg result-btn-restart" id="btnRestart">é‡æ–°å¼€å§‹</button>
            </section>
            <div class="result-tip">ä»…ä¾›å¨±ä¹å‚è€ƒï¼Œä¸ä½œä¸ºä»»ä½•å†³ç­–ä¾æ®</div>
          </div>
        </main>
      </div>
    `}attachEvents(){const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{this.timer&&(clearInterval(this.timer),this.timer=null),window.router.back()});const A=document.getElementById("btnRestart");A&&A.addEventListener("click",()=>{this.timer&&(clearInterval(this.timer),this.timer=null),window.router.navigate("/")}),this.startProgress(),this.startInterpret()}async startInterpret(){if(!this.isInterpreting){this.isInterpreting=!0;try{const e=window.appState?.get?.("guaData");if(!e){window.showToast("æ•°æ®å¼‚å¸¸ï¼Œè¯·é‡è¯•","error"),setTimeout(()=>window.router.back(),1500);return}console.log("[å…­çˆ»è§£å¦] å¼€å§‹è¯·æ±‚ï¼Œå¦è±¡æ•°æ®:",e);const A=rn(),n=await fetch(`${A}/divination`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({guaData:e})});if(console.log("[å…­çˆ»è§£å¦] å“åº”çŠ¶æ€:",n.status),!n.ok){const o=await n.text();throw console.error("[å…­çˆ»è§£å¦] è¯·æ±‚å¤±è´¥:",o),new Error(`æœåŠ¡å™¨é”™è¯¯: ${n.status}`)}const r=await n.text();console.log("[å…­çˆ»è§£å¦] å“åº”å†…å®¹é•¿åº¦:",r.length);let a;try{a=JSON.parse(r)}catch(o){throw console.error("[å…­çˆ»è§£å¦] JSONè§£æå¤±è´¥:",o),new Error("æœåŠ¡å™¨è¿”å›æ ¼å¼é”™è¯¯")}if(!a.success)throw new Error(a.error||"è§£å¦å¤±è´¥");console.log("[å…­çˆ»è§£å¦] è§£å¦æˆåŠŸ"),this.retryCount=0,this.stopProgress();const s=o=>o&&o.replace(/<think>[\s\S]*?<\/think>/gi,"").replace(/<think>[\s\S]*$/gi,"").replace(/<\/?think>/gi,"").trim(),i={question:this.question,yaos:window.appState?.get?.("yaos")||[],benGuaInfo:window.appState?.get?.("benGuaInfo")||{},bianGuaInfo:window.appState?.get?.("bianGuaInfo")||{},movingPositions:window.appState?.get?.("movingPositions")||[],lunarDate:window.appState?.get?.("lunarDate")||"",result:s(a.data.result),professionalVersion:s(a.data.professionalVersion||a.data.result),simpleVersion:s(a.data.simpleVersion||a.data.result),aiPrompt:a.data.aiPrompt||""};window.appState.divinationResult=i,window.appState.tarotInterpretResult={question:this.question,selectedCards:window.appState?.get?.("selectedCards")||[],result:i.result,professionalVersion:i.professionalVersion,simpleVersion:i.simpleVersion,benGuaInfo:i.benGuaInfo,bianGuaInfo:i.bianGuaInfo,movingPositions:i.movingPositions,lunarDate:i.lunarDate},await this.updateMatchRecordStatus(1,i),setTimeout(()=>{window.router.navigate(`/test/${this.matchType.id}/tarot/result`)},500)}catch(e){if(console.error("[å…­çˆ»è§£å¦] è§£å¦å¤±è´¥:",e),e.message&&(e.message.includes("è¶…æ—¶")||e.message.includes("timeout")||e.message.includes("502")||e.message.includes("504"))&&this.retryCount<this.maxRetry){this.retryCount++,console.log(`[å…­çˆ»è§£å¦] è¯·æ±‚å¤±è´¥ï¼Œè‡ªåŠ¨é‡è¯•ç¬¬ ${this.retryCount} æ¬¡...`),window.showToast&&window.showToast(`è¯·æ±‚è¶…æ—¶ï¼Œæ­£åœ¨é‡è¯• (${this.retryCount}/${this.maxRetry})`,"warning"),setTimeout(()=>{this.isInterpreting=!1,this.startInterpret()},1e3);return}this.retryCount=0,this.stopProgress(),window.showToast&&window.showToast(e.message||"è§£è¯»å¤±è´¥ï¼Œè¯·ç¨åé‡è¯•","error"),await this.updateMatchRecordStatus(2,{error:e.message}),setTimeout(()=>{window.router.back()},2e3)}finally{this.isInterpreting=!1}}}startProgress(){this.progress=0,this.estimateSeconds=90,this.tipIndex=0;const e=document.querySelector(".result-loading-sec"),A=document.querySelector(".result-loading-bar-inner"),n=document.querySelector(".result-loading-spinner svg circle:last-child"),r=document.getElementById("loadingTip");let a=0;this.timer=setInterval(()=>{a++,this.progress=Math.min(.98,a/180),this.estimateSeconds=Math.max(0,90-a),a%10===0&&a<=70&&(this.tipIndex=Math.min(this.tipIndex+1,Hn.length-1));let s=Hn[this.tipIndex];a>120?s="æœåŠ¡å™¨å“åº”è¾ƒæ…¢ï¼Œè¯·å†ç­‰ä¸€ä¼šå„¿...":a>90?s="æ­£åœ¨ç­‰å¾…å“åº”ï¼Œè¯·è€å¿ƒç­‰å¾…...":a>60&&(s="å¤§å¸ˆæ­£åœ¨æ·±åº¦åˆ†æï¼Œè¯·ç¨å€™..."),this.currentTip=s,e&&(e.textContent=this.estimateSeconds>0?this.estimateSeconds:"ç»§ç»­ç­‰å¾…"),A&&(A.style.width=this.progress*100+"%"),n&&n.setAttribute("stroke-dashoffset",100-this.progress*100),r&&(r.textContent=s)},1e3)}stopProgress(){this.timer&&(clearInterval(this.timer),this.timer=null),this.progress=1,this.estimateSeconds=0,this.currentTip="è§£è¯»å®Œæˆï¼";const e=document.querySelector(".result-loading-sec"),A=document.querySelector(".result-loading-bar-inner"),n=document.querySelector(".result-loading-spinner svg circle:last-child"),r=document.getElementById("loadingTip");e&&(e.textContent="0"),A&&(A.style.width="100%"),n&&n.setAttribute("stroke-dashoffset","0"),r&&(r.textContent="è§£è¯»å®Œæˆï¼")}async updateMatchRecordStatus(e,A=null){const n=window.appState?.get?.("currentTest")?.sessionId||Fr();if(!n){console.log("æ—  sessionIdï¼Œè·³è¿‡åŒ¹é…è®°å½•çŠ¶æ€æ›´æ–°");return}let r=null;try{const a=localStorage.getItem("user");if(a){const s=JSON.parse(a);r=s.id||s.userId||null}}catch{}try{await an.updateStatus(n,r,e,A),console.log(`âœ… åŒ¹é…è®°å½•çŠ¶æ€å·²æ›´æ–°ä¸º ${e===1?"æˆåŠŸ":"å¤±è´¥"}`)}catch(a){console.error("æ›´æ–°åŒ¹é…è®°å½•çŠ¶æ€å¤±è´¥:",a)}}}var jn=function(t,e){return jn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(A[r]=n[r])},jn(t,e)};function TA(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");jn(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}var Ar=function(){return Ar=Object.assign||function(e){for(var A,n=1,r=arguments.length;n<r;n++){A=arguments[n];for(var a in A)Object.prototype.hasOwnProperty.call(A,a)&&(e[a]=A[a])}return e},Ar.apply(this,arguments)};function hA(t,e,A,n){function r(a){return a instanceof A?a:new A(function(s){s(a)})}return new(A||(A=Promise))(function(a,s){function i(l){try{c(n.next(l))}catch(B){s(B)}}function o(l){try{c(n.throw(l))}catch(B){s(B)}}function c(l){l.done?a(l.value):r(l.value).then(i,o)}c((n=n.apply(t,[])).next())})}function dA(t,e){var A={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},n,r,a,s;return s={next:i(0),throw:i(1),return:i(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function i(c){return function(l){return o([c,l])}}function o(c){if(n)throw new TypeError("Generator is already executing.");for(;A;)try{if(n=1,r&&(a=c[0]&2?r.return:c[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,c[1])).done)return a;switch(r=0,a&&(c=[c[0]&2,a.value]),c[0]){case 0:case 1:a=c;break;case 4:return A.label++,{value:c[1],done:!1};case 5:A.label++,r=c[1],c=[0];continue;case 7:c=A.ops.pop(),A.trys.pop();continue;default:if(a=A.trys,!(a=a.length>0&&a[a.length-1])&&(c[0]===6||c[0]===2)){A=0;continue}if(c[0]===3&&(!a||c[1]>a[0]&&c[1]<a[3])){A.label=c[1];break}if(c[0]===6&&A.label<a[1]){A.label=a[1],a=c;break}if(a&&A.label<a[2]){A.label=a[2],A.ops.push(c);break}a[2]&&A.ops.pop(),A.trys.pop();continue}c=e.call(t,A)}catch(l){c=[6,l],r=0}finally{n=a=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function mt(t,e,A){if(arguments.length===2)for(var n=0,r=e.length,a;n<r;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||e)}var qA=(function(){function t(e,A,n,r){this.left=e,this.top=A,this.width=n,this.height=r}return t.prototype.add=function(e,A,n,r){return new t(this.left+e,this.top+A,this.width+n,this.height+r)},t.fromClientRect=function(e,A){return new t(A.left+e.windowBounds.left,A.top+e.windowBounds.top,A.width,A.height)},t.fromDOMRectList=function(e,A){var n=Array.from(A).find(function(r){return r.width!==0});return n?new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t})(),on=function(t,e){return qA.fromClientRect(t,e.getBoundingClientRect())},Jo=function(t){var e=t.body,A=t.documentElement;if(!e||!A)throw new Error("Unable to get document size");var n=Math.max(Math.max(e.scrollWidth,A.scrollWidth),Math.max(e.offsetWidth,A.offsetWidth),Math.max(e.clientWidth,A.clientWidth)),r=Math.max(Math.max(e.scrollHeight,A.scrollHeight),Math.max(e.offsetHeight,A.offsetHeight),Math.max(e.clientHeight,A.clientHeight));return new qA(0,0,n,r)},cn=function(t){for(var e=[],A=0,n=t.length;A<n;){var r=t.charCodeAt(A++);if(r>=55296&&r<=56319&&A<n){var a=t.charCodeAt(A++);(a&64512)===56320?e.push(((r&1023)<<10)+(a&1023)+65536):(e.push(r),A--)}else e.push(r)}return e},Z=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var A=t.length;if(!A)return"";for(var n=[],r=-1,a="";++r<A;){var s=t[r];s<=65535?n.push(s):(s-=65536,n.push((s>>10)+55296,s%1024+56320)),(r+1===A||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},Zr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xo=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Ct=0;Ct<Zr.length;Ct++)Xo[Zr.charCodeAt(Ct)]=Ct;var jr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ve=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var vt=0;vt<jr.length;vt++)Ve[jr.charCodeAt(vt)]=vt;var qo=function(t){var e=t.length*.75,A=t.length,n,r=0,a,s,i,o;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),l=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<A;n+=4)a=Ve[t.charCodeAt(n)],s=Ve[t.charCodeAt(n+1)],i=Ve[t.charCodeAt(n+2)],o=Ve[t.charCodeAt(n+3)],l[r++]=a<<2|s>>4,l[r++]=(s&15)<<4|i>>2,l[r++]=(i&3)<<6|o&63;return c},Wo=function(t){for(var e=t.length,A=[],n=0;n<e;n+=2)A.push(t[n+1]<<8|t[n]);return A},zo=function(t){for(var e=t.length,A=[],n=0;n<e;n+=4)A.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return A},ue=5,Ur=11,xn=2,Zo=Ur-ue,Bs=65536>>ue,jo=1<<ue,Sn=jo-1,Ac=1024>>ue,ec=Bs+Ac,tc=ec,nc=32,rc=tc+nc,ac=65536>>Ur,sc=1<<Zo,ic=sc-1,Aa=function(t,e,A){return t.slice?t.slice(e,A):new Uint16Array(Array.prototype.slice.call(t,e,A))},oc=function(t,e,A){return t.slice?t.slice(e,A):new Uint32Array(Array.prototype.slice.call(t,e,A))},cc=function(t,e){var A=qo(t),n=Array.isArray(A)?zo(A):new Uint32Array(A),r=Array.isArray(A)?Wo(A):new Uint16Array(A),a=24,s=Aa(r,a/2,n[4]/2),i=n[5]===2?Aa(r,(a+n[4])/2):oc(n,Math.ceil((a+n[4])/4));return new lc(n[0],n[1],n[2],n[3],s,i)},lc=(function(){function t(e,A,n,r,a,s){this.initialValue=e,this.errorValue=A,this.highStart=n,this.highValueIndex=r,this.index=a,this.data=s}return t.prototype.get=function(e){var A;if(e>=0){if(e<55296||e>56319&&e<=65535)return A=this.index[e>>ue],A=(A<<xn)+(e&Sn),this.data[A];if(e<=65535)return A=this.index[Bs+(e-55296>>ue)],A=(A<<xn)+(e&Sn),this.data[A];if(e<this.highStart)return A=rc-ac+(e>>Ur),A=this.index[A],A+=e>>ue&ic,A=this.index[A],A=(A<<xn)+(e&Sn),this.data[A];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),ea="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dc=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Qt=0;Qt<ea.length;Qt++)dc[ea.charCodeAt(Qt)]=Qt;var uc="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",ta=50,Bc=1,gs=2,fs=3,gc=4,fc=5,na=7,hs=8,ra=9,jA=10,er=11,aa=12,tr=13,hc=14,$e=15,nr=16,Ft=17,_e=18,pc=19,sa=20,rr=21,Re=22,Dn=23,he=24,FA=25,Ye=26,Je=27,pe=28,wc=29,oe=30,mc=31,Ut=32,yt=33,ar=34,sr=35,ir=36,at=37,or=38,Pt=39,Gt=40,Ln=41,ps=42,Cc=43,vc=[9001,65288],ws="!",R="Ã—",bt="Ã·",cr=cc(uc),YA=[oe,ir],lr=[Bc,gs,fs,fc],ms=[jA,hs],ia=[Je,Ye],Qc=lr.concat(ms),oa=[or,Pt,Gt,ar,sr],Fc=[$e,tr],Uc=function(t,e){e===void 0&&(e="strict");var A=[],n=[],r=[];return t.forEach(function(a,s){var i=cr.get(a);if(i>ta?(r.push(!0),i-=ta):r.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(a)!==-1)return n.push(s),A.push(nr);if(i===gc||i===er){if(s===0)return n.push(s),A.push(oe);var o=A[s-1];return Qc.indexOf(o)===-1?(n.push(n[s-1]),A.push(o)):(n.push(s),A.push(oe))}if(n.push(s),i===mc)return A.push(e==="strict"?rr:at);if(i===ps||i===wc)return A.push(oe);if(i===Cc)return a>=131072&&a<=196605||a>=196608&&a<=262141?A.push(at):A.push(oe);A.push(i)}),[n,A,r]},Tn=function(t,e,A,n){var r=n[A];if(Array.isArray(t)?t.indexOf(r)!==-1:t===r)for(var a=A;a<=n.length;){a++;var s=n[a];if(s===e)return!0;if(s!==jA)break}if(r===jA)for(var a=A;a>0;){a--;var i=n[a];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var o=A;o<=n.length;){o++;var s=n[o];if(s===e)return!0;if(s!==jA)break}if(i!==jA)break}return!1},ca=function(t,e){for(var A=t;A>=0;){var n=e[A];if(n===jA)A--;else return n}return 0},yc=function(t,e,A,n,r){if(A[n]===0)return R;var a=n-1;if(Array.isArray(r)&&r[a]===!0)return R;var s=a-1,i=a+1,o=e[a],c=s>=0?e[s]:0,l=e[i];if(o===gs&&l===fs)return R;if(lr.indexOf(o)!==-1)return ws;if(lr.indexOf(l)!==-1||ms.indexOf(l)!==-1)return R;if(ca(a,e)===hs)return bt;if(cr.get(t[a])===er||(o===Ut||o===yt)&&cr.get(t[i])===er||o===na||l===na||o===ra||[jA,tr,$e].indexOf(o)===-1&&l===ra||[Ft,_e,pc,he,pe].indexOf(l)!==-1||ca(a,e)===Re||Tn(Dn,Re,a,e)||Tn([Ft,_e],rr,a,e)||Tn(aa,aa,a,e))return R;if(o===jA)return bt;if(o===Dn||l===Dn)return R;if(l===nr||o===nr)return bt;if([tr,$e,rr].indexOf(l)!==-1||o===hc||c===ir&&Fc.indexOf(o)!==-1||o===pe&&l===ir||l===sa||YA.indexOf(l)!==-1&&o===FA||YA.indexOf(o)!==-1&&l===FA||o===Je&&[at,Ut,yt].indexOf(l)!==-1||[at,Ut,yt].indexOf(o)!==-1&&l===Ye||YA.indexOf(o)!==-1&&ia.indexOf(l)!==-1||ia.indexOf(o)!==-1&&YA.indexOf(l)!==-1||[Je,Ye].indexOf(o)!==-1&&(l===FA||[Re,$e].indexOf(l)!==-1&&e[i+1]===FA)||[Re,$e].indexOf(o)!==-1&&l===FA||o===FA&&[FA,pe,he].indexOf(l)!==-1)return R;if([FA,pe,he,Ft,_e].indexOf(l)!==-1)for(var B=a;B>=0;){var g=e[B];if(g===FA)return R;if([pe,he].indexOf(g)!==-1)B--;else break}if([Je,Ye].indexOf(l)!==-1)for(var B=[Ft,_e].indexOf(o)!==-1?s:a;B>=0;){var g=e[B];if(g===FA)return R;if([pe,he].indexOf(g)!==-1)B--;else break}if(or===o&&[or,Pt,ar,sr].indexOf(l)!==-1||[Pt,ar].indexOf(o)!==-1&&[Pt,Gt].indexOf(l)!==-1||[Gt,sr].indexOf(o)!==-1&&l===Gt||oa.indexOf(o)!==-1&&[sa,Ye].indexOf(l)!==-1||oa.indexOf(l)!==-1&&o===Je||YA.indexOf(o)!==-1&&YA.indexOf(l)!==-1||o===he&&YA.indexOf(l)!==-1||YA.concat(FA).indexOf(o)!==-1&&l===Re&&vc.indexOf(t[i])===-1||YA.concat(FA).indexOf(l)!==-1&&o===_e)return R;if(o===Ln&&l===Ln){for(var w=A[a],m=1;w>0&&(w--,e[w]===Ln);)m++;if(m%2!==0)return R}return o===Ut&&l===yt?R:bt},bc=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var A=Uc(t,e.lineBreak),n=A[0],r=A[1],a=A[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(r=r.map(function(i){return[FA,oe,ps].indexOf(i)!==-1?at:i}));var s=e.wordBreak==="keep-all"?a.map(function(i,o){return i&&t[o]>=19968&&t[o]<=40959}):void 0;return[n,r,s]},Ec=(function(){function t(e,A,n,r){this.codePoints=e,this.required=A===ws,this.start=n,this.end=r}return t.prototype.slice=function(){return Z.apply(void 0,this.codePoints.slice(this.start,this.end))},t})(),Ic=function(t,e){var A=cn(t),n=bc(A,e),r=n[0],a=n[1],s=n[2],i=A.length,o=0,c=0;return{next:function(){if(c>=i)return{done:!0,value:null};for(var l=R;c<i&&(l=yc(A,a,r,++c,s))===R;);if(l!==R||c===i){var B=new Ec(A,l,o,c);return o=c,{value:B,done:!1}}return{done:!0,value:null}}}},Hc=1,xc=2,lt=4,la=8,Jt=10,da=47,je=92,Sc=9,Dc=32,Et=34,Ne=61,Lc=35,Tc=36,Mc=37,It=39,Ht=40,Pe=41,Kc=95,wA=45,kc=33,Oc=60,_c=62,Rc=64,Nc=91,Pc=93,Gc=61,Vc=123,xt=63,$c=125,ua=124,Yc=126,Jc=128,Ba=65533,Mn=42,le=43,Xc=44,qc=58,Wc=59,st=46,zc=0,Zc=8,jc=11,Al=14,el=31,tl=127,RA=-1,Cs=48,vs=97,Qs=101,nl=102,rl=117,al=122,Fs=65,Us=69,ys=70,sl=85,il=90,BA=function(t){return t>=Cs&&t<=57},ol=function(t){return t>=55296&&t<=57343},we=function(t){return BA(t)||t>=Fs&&t<=ys||t>=vs&&t<=nl},cl=function(t){return t>=vs&&t<=al},ll=function(t){return t>=Fs&&t<=il},dl=function(t){return cl(t)||ll(t)},ul=function(t){return t>=Jc},St=function(t){return t===Jt||t===Sc||t===Dc},Xt=function(t){return dl(t)||ul(t)||t===Kc},ga=function(t){return Xt(t)||BA(t)||t===wA},Bl=function(t){return t>=zc&&t<=Zc||t===jc||t>=Al&&t<=el||t===tl},ZA=function(t,e){return t!==je?!1:e!==Jt},Dt=function(t,e,A){return t===wA?Xt(e)||ZA(e,A):Xt(t)?!0:!!(t===je&&ZA(t,e))},Kn=function(t,e,A){return t===le||t===wA?BA(e)?!0:e===st&&BA(A):BA(t===st?e:t)},gl=function(t){var e=0,A=1;(t[e]===le||t[e]===wA)&&(t[e]===wA&&(A=-1),e++);for(var n=[];BA(t[e]);)n.push(t[e++]);var r=n.length?parseInt(Z.apply(void 0,n),10):0;t[e]===st&&e++;for(var a=[];BA(t[e]);)a.push(t[e++]);var s=a.length,i=s?parseInt(Z.apply(void 0,a),10):0;(t[e]===Us||t[e]===Qs)&&e++;var o=1;(t[e]===le||t[e]===wA)&&(t[e]===wA&&(o=-1),e++);for(var c=[];BA(t[e]);)c.push(t[e++]);var l=c.length?parseInt(Z.apply(void 0,c),10):0;return A*(r+i*Math.pow(10,-s))*Math.pow(10,o*l)},fl={type:2},hl={type:3},pl={type:4},wl={type:13},ml={type:8},Cl={type:21},vl={type:9},Ql={type:10},Fl={type:11},Ul={type:12},yl={type:14},Lt={type:23},bl={type:1},El={type:25},Il={type:24},Hl={type:26},xl={type:27},Sl={type:28},Dl={type:29},Ll={type:31},dr={type:32},bs=(function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(cn(e))},t.prototype.read=function(){for(var e=[],A=this.consumeToken();A!==dr;)e.push(A),A=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Et:return this.consumeStringToken(Et);case Lc:var A=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(ga(A)||ZA(n,r)){var a=Dt(A,n,r)?xc:Hc,s=this.consumeName();return{type:5,value:s,flags:a}}break;case Tc:if(this.peekCodePoint(0)===Ne)return this.consumeCodePoint(),wl;break;case It:return this.consumeStringToken(It);case Ht:return fl;case Pe:return hl;case Mn:if(this.peekCodePoint(0)===Ne)return this.consumeCodePoint(),yl;break;case le:if(Kn(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Xc:return pl;case wA:var i=e,o=this.peekCodePoint(0),c=this.peekCodePoint(1);if(Kn(i,o,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(Dt(i,o,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(o===wA&&c===_c)return this.consumeCodePoint(),this.consumeCodePoint(),Il;break;case st:if(Kn(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case da:if(this.peekCodePoint(0)===Mn)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===Mn&&(l=this.consumeCodePoint(),l===da))return this.consumeToken();if(l===RA)return this.consumeToken()}break;case qc:return Hl;case Wc:return xl;case Oc:if(this.peekCodePoint(0)===kc&&this.peekCodePoint(1)===wA&&this.peekCodePoint(2)===wA)return this.consumeCodePoint(),this.consumeCodePoint(),El;break;case Rc:var B=this.peekCodePoint(0),g=this.peekCodePoint(1),w=this.peekCodePoint(2);if(Dt(B,g,w)){var s=this.consumeName();return{type:7,value:s}}break;case Nc:return Sl;case je:if(ZA(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case Pc:return Dl;case Gc:if(this.peekCodePoint(0)===Ne)return this.consumeCodePoint(),ml;break;case Vc:return Fl;case $c:return Ul;case rl:case sl:var m=this.peekCodePoint(0),h=this.peekCodePoint(1);return m===le&&(we(h)||h===xt)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case ua:if(this.peekCodePoint(0)===Ne)return this.consumeCodePoint(),vl;if(this.peekCodePoint(0)===ua)return this.consumeCodePoint(),Cl;break;case Yc:if(this.peekCodePoint(0)===Ne)return this.consumeCodePoint(),Ql;break;case RA:return dr}return St(e)?(this.consumeWhiteSpace(),Ll):BA(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):Xt(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:Z(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],A=this.consumeCodePoint();we(A)&&e.length<6;)e.push(A),A=this.consumeCodePoint();for(var n=!1;A===xt&&e.length<6;)e.push(A),A=this.consumeCodePoint(),n=!0;if(n){var r=parseInt(Z.apply(void 0,e.map(function(o){return o===xt?Cs:o})),16),a=parseInt(Z.apply(void 0,e.map(function(o){return o===xt?ys:o})),16);return{type:30,start:r,end:a}}var s=parseInt(Z.apply(void 0,e),16);if(this.peekCodePoint(0)===wA&&we(this.peekCodePoint(1))){this.consumeCodePoint(),A=this.consumeCodePoint();for(var i=[];we(A)&&i.length<6;)i.push(A),A=this.consumeCodePoint();var a=parseInt(Z.apply(void 0,i),16);return{type:30,start:s,end:a}}else return{type:30,start:s,end:s}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===Ht?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===Ht?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===RA)return{type:22,value:""};var A=this.peekCodePoint(0);if(A===It||A===Et){var n=this.consumeStringToken(this.consumeCodePoint());return n.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===RA||this.peekCodePoint(0)===Pe)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),Lt)}for(;;){var r=this.consumeCodePoint();if(r===RA||r===Pe)return{type:22,value:Z.apply(void 0,e)};if(St(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===RA||this.peekCodePoint(0)===Pe?(this.consumeCodePoint(),{type:22,value:Z.apply(void 0,e)}):(this.consumeBadUrlRemnants(),Lt);if(r===Et||r===It||r===Ht||Bl(r))return this.consumeBadUrlRemnants(),Lt;if(r===je)if(ZA(r,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),Lt;else e.push(r)}},t.prototype.consumeWhiteSpace=function(){for(;St(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===Pe||e===RA)return;ZA(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var A=5e4,n="";e>0;){var r=Math.min(A,e);n+=Z.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},t.prototype.consumeStringToken=function(e){var A="",n=0;do{var r=this._value[n];if(r===RA||r===void 0||r===e)return A+=this.consumeStringSlice(n),{type:0,value:A};if(r===Jt)return this._value.splice(0,n),bl;if(r===je){var a=this._value[n+1];a!==RA&&a!==void 0&&(a===Jt?(A+=this.consumeStringSlice(n),n=-1,this._value.shift()):ZA(r,a)&&(A+=this.consumeStringSlice(n),A+=Z(this.consumeEscapedCodePoint()),n=-1))}n++}while(!0)},t.prototype.consumeNumber=function(){var e=[],A=lt,n=this.peekCodePoint(0);for((n===le||n===wA)&&e.push(this.consumeCodePoint());BA(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===st&&BA(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),A=la;BA(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var a=this.peekCodePoint(2);if((n===Us||n===Qs)&&((r===le||r===wA)&&BA(a)||BA(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),A=la;BA(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[gl(e),A]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),A=e[0],n=e[1],r=this.peekCodePoint(0),a=this.peekCodePoint(1),s=this.peekCodePoint(2);if(Dt(r,a,s)){var i=this.consumeName();return{type:15,number:A,flags:n,unit:i}}return r===Mc?(this.consumeCodePoint(),{type:16,number:A,flags:n}):{type:17,number:A,flags:n}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(we(e)){for(var A=Z(e);we(this.peekCodePoint(0))&&A.length<6;)A+=Z(this.consumeCodePoint());St(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(A,16);return n===0||ol(n)||n>1114111?Ba:n}return e===RA?Ba:e},t.prototype.consumeName=function(){for(var e="";;){var A=this.consumeCodePoint();if(ga(A))e+=Z(A);else if(ZA(A,this.peekCodePoint(0)))e+=Z(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(A),e}},t})(),Es=(function(){function t(e){this._tokens=e}return t.create=function(e){var A=new bs;return A.write(e),new t(A.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var A=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return A;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var A=this.consumeComponentValue();if(A.type===32)return e;e.push(A),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var A={type:e,values:[]},n=this.consumeToken();;){if(n.type===32||Ml(n,e))return A;this.reconsumeToken(n),A.values.push(this.consumeComponentValue()),n=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var A={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(n.type===32||n.type===3)return A;this.reconsumeToken(n),A.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?dr:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t})(),dt=function(t){return t.type===15},Le=function(t){return t.type===17},$=function(t){return t.type===20},Tl=function(t){return t.type===0},ur=function(t,e){return $(t)&&t.value===e},Is=function(t){return t.type!==31},xe=function(t){return t.type!==31&&t.type!==4},NA=function(t){var e=[],A=[];return t.forEach(function(n){if(n.type===4){if(A.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(A),A=[];return}n.type!==31&&A.push(n)}),A.length&&e.push(A),e},Ml=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},re=function(t){return t.type===17||t.type===15},AA=function(t){return t.type===16||re(t)},Hs=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},iA={type:17,number:0,flags:lt},yr={type:16,number:50,flags:lt},Ae={type:16,number:100,flags:lt},Xe=function(t,e,A){var n=t[0],r=t[1];return[X(n,e),X(typeof r<"u"?r:n,A)]},X=function(t,e){if(t.type===16)return t.number/100*e;if(dt(t))switch(t.unit){case"rem":case"em":return 16*t.number;default:return t.number}return t.number},xs="deg",Ss="grad",Ds="rad",Ls="turn",ln={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case xs:return Math.PI*e.number/180;case Ss:return Math.PI/200*e.number;case Ds:return e.number;case Ls:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},Ts=function(t){return t.type===15&&(t.unit===xs||t.unit===Ss||t.unit===Ds||t.unit===Ls)},Ms=function(t){var e=t.filter($).map(function(A){return A.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[iA,iA];case"to top":case"bottom":return IA(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[iA,Ae];case"to right":case"left":return IA(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Ae,Ae];case"to bottom":case"top":return IA(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Ae,iA];case"to left":case"right":return IA(270)}return 0},IA=function(t){return Math.PI*t/180},te={name:"color",parse:function(t,e){if(e.type===18){var A=Kl[e.name];if(typeof A>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return A(t,e.values)}if(e.type===5){if(e.value.length===3){var n=e.value.substring(0,1),r=e.value.substring(1,2),a=e.value.substring(2,3);return ee(parseInt(n+n,16),parseInt(r+r,16),parseInt(a+a,16),1)}if(e.value.length===4){var n=e.value.substring(0,1),r=e.value.substring(1,2),a=e.value.substring(2,3),s=e.value.substring(3,4);return ee(parseInt(n+n,16),parseInt(r+r,16),parseInt(a+a,16),parseInt(s+s,16)/255)}if(e.value.length===6){var n=e.value.substring(0,2),r=e.value.substring(2,4),a=e.value.substring(4,6);return ee(parseInt(n,16),parseInt(r,16),parseInt(a,16),1)}if(e.value.length===8){var n=e.value.substring(0,2),r=e.value.substring(2,4),a=e.value.substring(4,6),s=e.value.substring(6,8);return ee(parseInt(n,16),parseInt(r,16),parseInt(a,16),parseInt(s,16)/255)}}if(e.type===20){var i=XA[e.value.toUpperCase()];if(typeof i<"u")return i}return XA.TRANSPARENT}},ne=function(t){return(255&t)===0},rA=function(t){var e=255&t,A=255&t>>8,n=255&t>>16,r=255&t>>24;return e<255?"rgba("+r+","+n+","+A+","+e/255+")":"rgb("+r+","+n+","+A+")"},ee=function(t,e,A,n){return(t<<24|e<<16|A<<8|Math.round(n*255)<<0)>>>0},fa=function(t,e){if(t.type===17)return t.number;if(t.type===16){var A=e===3?1:255;return e===3?t.number/100*A:Math.round(t.number/100*A)}return 0},ha=function(t,e){var A=e.filter(xe);if(A.length===3){var n=A.map(fa),r=n[0],a=n[1],s=n[2];return ee(r,a,s,1)}if(A.length===4){var i=A.map(fa),r=i[0],a=i[1],s=i[2],o=i[3];return ee(r,a,s,o)}return 0};function kn(t,e,A){return A<0&&(A+=1),A>=1&&(A-=1),A<1/6?(e-t)*A*6+t:A<1/2?e:A<2/3?(e-t)*6*(2/3-A)+t:t}var pa=function(t,e){var A=e.filter(xe),n=A[0],r=A[1],a=A[2],s=A[3],i=(n.type===17?IA(n.number):ln.parse(t,n))/(Math.PI*2),o=AA(r)?r.number/100:0,c=AA(a)?a.number/100:0,l=typeof s<"u"&&AA(s)?X(s,1):1;if(o===0)return ee(c*255,c*255,c*255,1);var B=c<=.5?c*(o+1):c+o-c*o,g=c*2-B,w=kn(g,B,i+1/3),m=kn(g,B,i),h=kn(g,B,i-1/3);return ee(w*255,m*255,h*255,l)},Kl={hsl:pa,hsla:pa,rgb:ha,rgba:ha},At=function(t,e){return te.parse(t,Es.create(e).parseComponentValue())},XA={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},kl={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(A){if($(A))switch(A.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Ol={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},dn=function(t,e){var A=te.parse(t,e[0]),n=e[1];return n&&AA(n)?{color:A,stop:n}:{color:A,stop:null}},wa=function(t,e){var A=t[0],n=t[t.length-1];A.stop===null&&(A.stop=iA),n.stop===null&&(n.stop=Ae);for(var r=[],a=0,s=0;s<t.length;s++){var i=t[s].stop;if(i!==null){var o=X(i,e);o>a?r.push(o):r.push(a),a=o}else r.push(null)}for(var c=null,s=0;s<r.length;s++){var l=r[s];if(l===null)c===null&&(c=s);else if(c!==null){for(var B=s-c,g=r[c-1],w=(l-g)/(B+1),m=1;m<=B;m++)r[c+m-1]=w*m;c=null}}return t.map(function(h,H){var U=h.color;return{color:U,stop:Math.max(Math.min(1,r[H]/e),0)}})},_l=function(t,e,A){var n=e/2,r=A/2,a=X(t[0],e)-n,s=r-X(t[1],A);return(Math.atan2(s,a)+Math.PI*2)%(Math.PI*2)},Rl=function(t,e,A){var n=typeof t=="number"?t:_l(t,e,A),r=Math.abs(e*Math.sin(n))+Math.abs(A*Math.cos(n)),a=e/2,s=A/2,i=r/2,o=Math.sin(n-Math.PI/2)*i,c=Math.cos(n-Math.PI/2)*i;return[r,a-c,a+c,s-o,s+o]},LA=function(t,e){return Math.sqrt(t*t+e*e)},ma=function(t,e,A,n,r){var a=[[0,0],[0,e],[t,0],[t,e]];return a.reduce(function(s,i){var o=i[0],c=i[1],l=LA(A-o,n-c);return(r?l<s.optimumDistance:l>s.optimumDistance)?{optimumCorner:i,optimumDistance:l}:s},{optimumDistance:r?1/0:-1/0,optimumCorner:null}).optimumCorner},Nl=function(t,e,A,n,r){var a=0,s=0;switch(t.size){case 0:t.shape===0?a=s=Math.min(Math.abs(e),Math.abs(e-n),Math.abs(A),Math.abs(A-r)):t.shape===1&&(a=Math.min(Math.abs(e),Math.abs(e-n)),s=Math.min(Math.abs(A),Math.abs(A-r)));break;case 2:if(t.shape===0)a=s=Math.min(LA(e,A),LA(e,A-r),LA(e-n,A),LA(e-n,A-r));else if(t.shape===1){var i=Math.min(Math.abs(A),Math.abs(A-r))/Math.min(Math.abs(e),Math.abs(e-n)),o=ma(n,r,e,A,!0),c=o[0],l=o[1];a=LA(c-e,(l-A)/i),s=i*a}break;case 1:t.shape===0?a=s=Math.max(Math.abs(e),Math.abs(e-n),Math.abs(A),Math.abs(A-r)):t.shape===1&&(a=Math.max(Math.abs(e),Math.abs(e-n)),s=Math.max(Math.abs(A),Math.abs(A-r)));break;case 3:if(t.shape===0)a=s=Math.max(LA(e,A),LA(e,A-r),LA(e-n,A),LA(e-n,A-r));else if(t.shape===1){var i=Math.max(Math.abs(A),Math.abs(A-r))/Math.max(Math.abs(e),Math.abs(e-n)),B=ma(n,r,e,A,!1),c=B[0],l=B[1];a=LA(c-e,(l-A)/i),s=i*a}break}return Array.isArray(t.size)&&(a=X(t.size[0],n),s=t.size.length===2?X(t.size[1],r):a),[a,s]},Pl=function(t,e){var A=IA(180),n=[];return NA(e).forEach(function(r,a){if(a===0){var s=r[0];if(s.type===20&&s.value==="to"){A=Ms(r);return}else if(Ts(s)){A=ln.parse(t,s);return}}var i=dn(t,r);n.push(i)}),{angle:A,stops:n,type:1}},Tt=function(t,e){var A=IA(180),n=[];return NA(e).forEach(function(r,a){if(a===0){var s=r[0];if(s.type===20&&["top","left","right","bottom"].indexOf(s.value)!==-1){A=Ms(r);return}else if(Ts(s)){A=(ln.parse(t,s)+IA(270))%IA(360);return}}var i=dn(t,r);n.push(i)}),{angle:A,stops:n,type:1}},Gl=function(t,e){var A=IA(180),n=[],r=1,a=0,s=3,i=[];return NA(e).forEach(function(o,c){var l=o[0];if(c===0){if($(l)&&l.value==="linear"){r=1;return}else if($(l)&&l.value==="radial"){r=2;return}}if(l.type===18){if(l.name==="from"){var B=te.parse(t,l.values[0]);n.push({stop:iA,color:B})}else if(l.name==="to"){var B=te.parse(t,l.values[0]);n.push({stop:Ae,color:B})}else if(l.name==="color-stop"){var g=l.values.filter(xe);if(g.length===2){var B=te.parse(t,g[1]),w=g[0];Le(w)&&n.push({stop:{type:16,number:w.number*100,flags:w.flags},color:B})}}}}),r===1?{angle:(A+IA(180))%IA(360),stops:n,type:r}:{size:s,shape:a,stops:n,position:i,type:r}},Ks="closest-side",ks="farthest-side",Os="closest-corner",_s="farthest-corner",Rs="circle",Ns="ellipse",Ps="cover",Gs="contain",Vl=function(t,e){var A=0,n=3,r=[],a=[];return NA(e).forEach(function(s,i){var o=!0;if(i===0){var c=!1;o=s.reduce(function(B,g){if(c)if($(g))switch(g.value){case"center":return a.push(yr),B;case"top":case"left":return a.push(iA),B;case"right":case"bottom":return a.push(Ae),B}else(AA(g)||re(g))&&a.push(g);else if($(g))switch(g.value){case Rs:return A=0,!1;case Ns:return A=1,!1;case"at":return c=!0,!1;case Ks:return n=0,!1;case Ps:case ks:return n=1,!1;case Gs:case Os:return n=2,!1;case _s:return n=3,!1}else if(re(g)||AA(g))return Array.isArray(n)||(n=[]),n.push(g),!1;return B},o)}if(o){var l=dn(t,s);r.push(l)}}),{size:n,shape:A,stops:r,position:a,type:2}},Mt=function(t,e){var A=0,n=3,r=[],a=[];return NA(e).forEach(function(s,i){var o=!0;if(i===0?o=s.reduce(function(l,B){if($(B))switch(B.value){case"center":return a.push(yr),!1;case"top":case"left":return a.push(iA),!1;case"right":case"bottom":return a.push(Ae),!1}else if(AA(B)||re(B))return a.push(B),!1;return l},o):i===1&&(o=s.reduce(function(l,B){if($(B))switch(B.value){case Rs:return A=0,!1;case Ns:return A=1,!1;case Gs:case Ks:return n=0,!1;case ks:return n=1,!1;case Os:return n=2,!1;case Ps:case _s:return n=3,!1}else if(re(B)||AA(B))return Array.isArray(n)||(n=[]),n.push(B),!1;return l},o)),o){var c=dn(t,s);r.push(c)}}),{size:n,shape:A,stops:r,position:a,type:2}},$l=function(t){return t.type===1},Yl=function(t){return t.type===2},br={name:"image",parse:function(t,e){if(e.type===22){var A={url:e.value,type:0};return t.cache.addImage(e.value),A}if(e.type===18){var n=Vs[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return n(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function Jl(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!Vs[t.name])}var Vs={"linear-gradient":Pl,"-moz-linear-gradient":Tt,"-ms-linear-gradient":Tt,"-o-linear-gradient":Tt,"-webkit-linear-gradient":Tt,"radial-gradient":Vl,"-moz-radial-gradient":Mt,"-ms-radial-gradient":Mt,"-o-radial-gradient":Mt,"-webkit-radial-gradient":Mt,"-webkit-gradient":Gl},Xl={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var A=e[0];return A.type===20&&A.value==="none"?[]:e.filter(function(n){return xe(n)&&Jl(n)}).map(function(n){return br.parse(t,n)})}},ql={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(A){if($(A))switch(A.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Wl={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return NA(e).map(function(A){return A.filter(AA)}).map(Hs)}},zl={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return NA(e).map(function(A){return A.filter($).map(function(n){return n.value}).join(" ")}).map(Zl)}},Zl=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}},Ie;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Ie||(Ie={}));var jl={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return NA(e).map(function(A){return A.filter(Ad)})}},Ad=function(t){return $(t)||AA(t)},un=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},ed=un("top"),td=un("right"),nd=un("bottom"),rd=un("left"),Bn=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,A){return Hs(A.filter(AA))}}},ad=Bn("top-left"),sd=Bn("top-right"),id=Bn("bottom-right"),od=Bn("bottom-left"),gn=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,A){switch(A){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},cd=gn("top"),ld=gn("right"),dd=gn("bottom"),ud=gn("left"),fn=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,A){return dt(A)?A.number:0}}},Bd=fn("top"),gd=fn("right"),fd=fn("bottom"),hd=fn("left"),pd={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},wd={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){return e==="rtl"?1:0}},md={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter($).reduce(function(A,n){return A|Cd(n.value)},0)}},Cd=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},vd={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Qd={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},qt;(function(t){t.NORMAL="normal",t.STRICT="strict"})(qt||(qt={}));var Fd={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){return e==="strict"?qt.STRICT:qt.NORMAL}},Ud={name:"line-height",initialValue:"normal",prefix:!1,type:4},Ca=function(t,e){return $(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:AA(t)?X(t,e):e},yd={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:br.parse(t,e)}},bd={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){return e==="inside"?0:1}},Br={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},hn=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},Ed=hn("top"),Id=hn("right"),Hd=hn("bottom"),xd=hn("left"),Sd={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter($).map(function(A){switch(A.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},Dd={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){return e==="break-word"?"break-word":"normal"}},pn=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Ld=pn("top"),Td=pn("right"),Md=pn("bottom"),Kd=pn("left"),kd={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Od={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},_d={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&ur(e[0],"none")?[]:NA(e).map(function(A){for(var n={color:XA.TRANSPARENT,offsetX:iA,offsetY:iA,blur:iA},r=0,a=0;a<A.length;a++){var s=A[a];re(s)?(r===0?n.offsetX=s:r===1?n.offsetY=s:n.blur=s,r++):n.color=te.parse(t,s)}return n})}},Rd={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Nd={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var A=Vd[e.name];if(typeof A>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return A(e.values)}return null}},Pd=function(t){var e=t.filter(function(A){return A.type===17}).map(function(A){return A.number});return e.length===6?e:null},Gd=function(t){var e=t.filter(function(o){return o.type===17}).map(function(o){return o.number}),A=e[0],n=e[1];e[2],e[3];var r=e[4],a=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var s=e[12],i=e[13];return e[14],e[15],e.length===16?[A,n,r,a,s,i]:null},Vd={matrix:Pd,matrix3d:Gd},va={type:16,number:50,flags:lt},$d=[va,va],Yd={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var A=e.filter(AA);return A.length!==2?$d:[A[0],A[1]]}},Jd={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;default:return 0}}},et;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(et||(et={}));var Xd={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return et.BREAK_ALL;case"keep-all":return et.KEEP_ALL;default:return et.NORMAL}}},qd={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(Le(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},$s={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},Wd={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Le(e)?e.number:1}},zd={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Zd={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter($).map(function(A){switch(A.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(A){return A!==0})}},jd={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var A=[],n=[];return e.forEach(function(r){switch(r.type){case 20:case 0:A.push(r.value);break;case 17:A.push(r.number.toString());break;case 4:n.push(A.join(" ")),A.length=0;break}}),A.length&&n.push(A.join(" ")),n.map(function(r){return r.indexOf(" ")===-1?r:"'"+r+"'"})}},Au={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},eu={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){return Le(e)?e.number:$(e)&&e.value==="bold"?700:400}},tu={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter($).map(function(A){return A.value})}},nu={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},tA=function(t,e){return(t&e)!==0},ru={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var A=e[0];return A.type===20&&A.value==="none"?[]:e}},au={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var A=e[0];if(A.type===20&&A.value==="none")return null;for(var n=[],r=e.filter(Is),a=0;a<r.length;a++){var s=r[a],i=r[a+1];if(s.type===20){var o=i&&Le(i)?i.number:1;n.push({counter:s.value,increment:o})}}return n}},su={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var A=[],n=e.filter(Is),r=0;r<n.length;r++){var a=n[r],s=n[r+1];if($(a)&&a.value!=="none"){var i=s&&Le(s)?s.number:0;A.push({counter:a.value,reset:i})}}return A}},iu={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(dt).map(function(A){return $s.parse(t,A)})}},ou={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var A=e[0];if(A.type===20&&A.value==="none")return null;var n=[],r=e.filter(Tl);if(r.length%2!==0)return null;for(var a=0;a<r.length;a+=2){var s=r[a].value,i=r[a+1].value;n.push({open:s,close:i})}return n}},Qa=function(t,e,A){if(!t)return"";var n=t[Math.min(e,t.length-1)];return n?A?n.open:n.close:""},cu={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&ur(e[0],"none")?[]:NA(e).map(function(A){for(var n={color:255,offsetX:iA,offsetY:iA,blur:iA,spread:iA,inset:!1},r=0,a=0;a<A.length;a++){var s=A[a];ur(s,"inset")?n.inset=!0:re(s)?(r===0?n.offsetX=s:r===1?n.offsetY=s:r===2?n.blur=s:n.spread=s,r++):n.color=te.parse(t,s)}return n})}},lu={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var A=[0,1,2],n=[];return e.filter($).forEach(function(r){switch(r.value){case"stroke":n.push(1);break;case"fill":n.push(0);break;case"markers":n.push(2);break}}),A.forEach(function(r){n.indexOf(r)===-1&&n.push(r)}),n}},du={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},uu={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return dt(e)?e.number:0}},Bu=(function(){function t(e,A){var n,r;this.animationDuration=E(e,iu,A.animationDuration),this.backgroundClip=E(e,kl,A.backgroundClip),this.backgroundColor=E(e,Ol,A.backgroundColor),this.backgroundImage=E(e,Xl,A.backgroundImage),this.backgroundOrigin=E(e,ql,A.backgroundOrigin),this.backgroundPosition=E(e,Wl,A.backgroundPosition),this.backgroundRepeat=E(e,zl,A.backgroundRepeat),this.backgroundSize=E(e,jl,A.backgroundSize),this.borderTopColor=E(e,ed,A.borderTopColor),this.borderRightColor=E(e,td,A.borderRightColor),this.borderBottomColor=E(e,nd,A.borderBottomColor),this.borderLeftColor=E(e,rd,A.borderLeftColor),this.borderTopLeftRadius=E(e,ad,A.borderTopLeftRadius),this.borderTopRightRadius=E(e,sd,A.borderTopRightRadius),this.borderBottomRightRadius=E(e,id,A.borderBottomRightRadius),this.borderBottomLeftRadius=E(e,od,A.borderBottomLeftRadius),this.borderTopStyle=E(e,cd,A.borderTopStyle),this.borderRightStyle=E(e,ld,A.borderRightStyle),this.borderBottomStyle=E(e,dd,A.borderBottomStyle),this.borderLeftStyle=E(e,ud,A.borderLeftStyle),this.borderTopWidth=E(e,Bd,A.borderTopWidth),this.borderRightWidth=E(e,gd,A.borderRightWidth),this.borderBottomWidth=E(e,fd,A.borderBottomWidth),this.borderLeftWidth=E(e,hd,A.borderLeftWidth),this.boxShadow=E(e,cu,A.boxShadow),this.color=E(e,pd,A.color),this.direction=E(e,wd,A.direction),this.display=E(e,md,A.display),this.float=E(e,vd,A.cssFloat),this.fontFamily=E(e,jd,A.fontFamily),this.fontSize=E(e,Au,A.fontSize),this.fontStyle=E(e,nu,A.fontStyle),this.fontVariant=E(e,tu,A.fontVariant),this.fontWeight=E(e,eu,A.fontWeight),this.letterSpacing=E(e,Qd,A.letterSpacing),this.lineBreak=E(e,Fd,A.lineBreak),this.lineHeight=E(e,Ud,A.lineHeight),this.listStyleImage=E(e,yd,A.listStyleImage),this.listStylePosition=E(e,bd,A.listStylePosition),this.listStyleType=E(e,Br,A.listStyleType),this.marginTop=E(e,Ed,A.marginTop),this.marginRight=E(e,Id,A.marginRight),this.marginBottom=E(e,Hd,A.marginBottom),this.marginLeft=E(e,xd,A.marginLeft),this.opacity=E(e,Wd,A.opacity);var a=E(e,Sd,A.overflow);this.overflowX=a[0],this.overflowY=a[a.length>1?1:0],this.overflowWrap=E(e,Dd,A.overflowWrap),this.paddingTop=E(e,Ld,A.paddingTop),this.paddingRight=E(e,Td,A.paddingRight),this.paddingBottom=E(e,Md,A.paddingBottom),this.paddingLeft=E(e,Kd,A.paddingLeft),this.paintOrder=E(e,lu,A.paintOrder),this.position=E(e,Od,A.position),this.textAlign=E(e,kd,A.textAlign),this.textDecorationColor=E(e,zd,(n=A.textDecorationColor)!==null&&n!==void 0?n:A.color),this.textDecorationLine=E(e,Zd,(r=A.textDecorationLine)!==null&&r!==void 0?r:A.textDecoration),this.textShadow=E(e,_d,A.textShadow),this.textTransform=E(e,Rd,A.textTransform),this.transform=E(e,Nd,A.transform),this.transformOrigin=E(e,Yd,A.transformOrigin),this.visibility=E(e,Jd,A.visibility),this.webkitTextStrokeColor=E(e,du,A.webkitTextStrokeColor),this.webkitTextStrokeWidth=E(e,uu,A.webkitTextStrokeWidth),this.wordBreak=E(e,Xd,A.wordBreak),this.zIndex=E(e,qd,A.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return ne(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return tA(this.display,4)||tA(this.display,33554432)||tA(this.display,268435456)||tA(this.display,536870912)||tA(this.display,67108864)||tA(this.display,134217728)},t})(),gu=(function(){function t(e,A){this.content=E(e,ru,A.content),this.quotes=E(e,ou,A.quotes)}return t})(),Fa=(function(){function t(e,A){this.counterIncrement=E(e,au,A.counterIncrement),this.counterReset=E(e,su,A.counterReset)}return t})(),E=function(t,e,A){var n=new bs,r=A!==null&&typeof A<"u"?A.toString():e.initialValue;n.write(r);var a=new Es(n.read());switch(e.type){case 2:var s=a.parseComponentValue();return e.parse(t,$(s)?s.value:e.initialValue);case 0:return e.parse(t,a.parseComponentValue());case 1:return e.parse(t,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(e.format){case"angle":return ln.parse(t,a.parseComponentValue());case"color":return te.parse(t,a.parseComponentValue());case"image":return br.parse(t,a.parseComponentValue());case"length":var i=a.parseComponentValue();return re(i)?i:iA;case"length-percentage":var o=a.parseComponentValue();return AA(o)?o:iA;case"time":return $s.parse(t,a.parseComponentValue())}break}},fu="data-html2canvas-debug",hu=function(t){var e=t.getAttribute(fu);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},gr=function(t,e){var A=hu(t);return A===1||e===A},PA=(function(){function t(e,A){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,gr(A,3))debugger;this.styles=new Bu(e,window.getComputedStyle(A,null)),pr(A)&&(this.styles.animationDuration.some(function(n){return n>0})&&(A.style.animationDuration="0s"),this.styles.transform!==null&&(A.style.transform="none")),this.bounds=on(this.context,A),gr(A,4)&&(this.flags|=16)}return t})(),pu="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Ua="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",qe=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var Kt=0;Kt<Ua.length;Kt++)qe[Ua.charCodeAt(Kt)]=Kt;var wu=function(t){var e=t.length*.75,A=t.length,n,r=0,a,s,i,o;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),l=Array.isArray(c)?c:new Uint8Array(c);for(n=0;n<A;n+=4)a=qe[t.charCodeAt(n)],s=qe[t.charCodeAt(n+1)],i=qe[t.charCodeAt(n+2)],o=qe[t.charCodeAt(n+3)],l[r++]=a<<2|s>>4,l[r++]=(s&15)<<4|i>>2,l[r++]=(i&3)<<6|o&63;return c},mu=function(t){for(var e=t.length,A=[],n=0;n<e;n+=2)A.push(t[n+1]<<8|t[n]);return A},Cu=function(t){for(var e=t.length,A=[],n=0;n<e;n+=4)A.push(t[n+3]<<24|t[n+2]<<16|t[n+1]<<8|t[n]);return A},Be=5,Er=11,On=2,vu=Er-Be,Ys=65536>>Be,Qu=1<<Be,_n=Qu-1,Fu=1024>>Be,Uu=Ys+Fu,yu=Uu,bu=32,Eu=yu+bu,Iu=65536>>Er,Hu=1<<vu,xu=Hu-1,ya=function(t,e,A){return t.slice?t.slice(e,A):new Uint16Array(Array.prototype.slice.call(t,e,A))},Su=function(t,e,A){return t.slice?t.slice(e,A):new Uint32Array(Array.prototype.slice.call(t,e,A))},Du=function(t,e){var A=wu(t),n=Array.isArray(A)?Cu(A):new Uint32Array(A),r=Array.isArray(A)?mu(A):new Uint16Array(A),a=24,s=ya(r,a/2,n[4]/2),i=n[5]===2?ya(r,(a+n[4])/2):Su(n,Math.ceil((a+n[4])/4));return new Lu(n[0],n[1],n[2],n[3],s,i)},Lu=(function(){function t(e,A,n,r,a,s){this.initialValue=e,this.errorValue=A,this.highStart=n,this.highValueIndex=r,this.index=a,this.data=s}return t.prototype.get=function(e){var A;if(e>=0){if(e<55296||e>56319&&e<=65535)return A=this.index[e>>Be],A=(A<<On)+(e&_n),this.data[A];if(e<=65535)return A=this.index[Ys+(e-55296>>Be)],A=(A<<On)+(e&_n),this.data[A];if(e<this.highStart)return A=Eu-Iu+(e>>Er),A=this.index[A],A+=e>>Be&xu,A=this.index[A],A=(A<<On)+(e&_n),this.data[A];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t})(),ba="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Tu=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var kt=0;kt<ba.length;kt++)Tu[ba.charCodeAt(kt)]=kt;var Mu=1,Rn=2,Nn=3,Ea=4,Ia=5,Ku=7,Ha=8,Pn=9,Gn=10,xa=11,Sa=12,Da=13,La=14,Vn=15,ku=function(t){for(var e=[],A=0,n=t.length;A<n;){var r=t.charCodeAt(A++);if(r>=55296&&r<=56319&&A<n){var a=t.charCodeAt(A++);(a&64512)===56320?e.push(((r&1023)<<10)+(a&1023)+65536):(e.push(r),A--)}else e.push(r)}return e},Ou=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var A=t.length;if(!A)return"";for(var n=[],r=-1,a="";++r<A;){var s=t[r];s<=65535?n.push(s):(s-=65536,n.push((s>>10)+55296,s%1024+56320)),(r+1===A||n.length>16384)&&(a+=String.fromCharCode.apply(String,n),n.length=0)}return a},_u=Du(pu),bA="Ã—",$n="Ã·",Ru=function(t){return _u.get(t)},Nu=function(t,e,A){var n=A-2,r=e[n],a=e[A-1],s=e[A];if(a===Rn&&s===Nn)return bA;if(a===Rn||a===Nn||a===Ea||s===Rn||s===Nn||s===Ea)return $n;if(a===Ha&&[Ha,Pn,xa,Sa].indexOf(s)!==-1||(a===xa||a===Pn)&&(s===Pn||s===Gn)||(a===Sa||a===Gn)&&s===Gn||s===Da||s===Ia||s===Ku||a===Mu)return bA;if(a===Da&&s===La){for(;r===Ia;)r=e[--n];if(r===La)return bA}if(a===Vn&&s===Vn){for(var i=0;r===Vn;)i++,r=e[--n];if(i%2===0)return bA}return $n},Pu=function(t){var e=ku(t),A=e.length,n=0,r=0,a=e.map(Ru);return{next:function(){if(n>=A)return{done:!0,value:null};for(var s=bA;n<A&&(s=Nu(e,a,++n))===bA;);if(s!==bA||n===A){var i=Ou.apply(null,e.slice(r,n));return r=n,{value:i,done:!1}}return{done:!0,value:null}}}},Gu=function(t){for(var e=Pu(t),A=[],n;!(n=e.next()).done;)n.value&&A.push(n.value.slice());return A},Vu=function(t){var e=123;if(t.createRange){var A=t.createRange();if(A.getBoundingClientRect){var n=t.createElement("boundtest");n.style.height=e+"px",n.style.display="block",t.body.appendChild(n),A.selectNode(n);var r=A.getBoundingClientRect(),a=Math.round(r.height);if(t.body.removeChild(n),a===e)return!0}}return!1},$u=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var A=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var n=e.firstChild,r=cn(n.data).map(function(o){return Z(o)}),a=0,s={},i=r.every(function(o,c){A.setStart(n,a),A.setEnd(n,a+o.length);var l=A.getBoundingClientRect();a+=o.length;var B=l.x>s.x||l.y>s.y;return s=l,c===0?!0:B});return t.body.removeChild(e),i},Yu=function(){return typeof new Image().crossOrigin<"u"},Ju=function(){return typeof new XMLHttpRequest().responseType=="string"},Xu=function(t){var e=new Image,A=t.createElement("canvas"),n=A.getContext("2d");if(!n)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(e,0,0),A.toDataURL()}catch{return!1}return!0},Ta=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},qu=function(t){var e=t.createElement("canvas"),A=100;e.width=A,e.height=A;var n=e.getContext("2d");if(!n)return Promise.reject(!1);n.fillStyle="rgb(0, 255, 0)",n.fillRect(0,0,A,A);var r=new Image,a=e.toDataURL();r.src=a;var s=fr(A,A,0,0,r);return n.fillStyle="red",n.fillRect(0,0,A,A),Ma(s).then(function(i){n.drawImage(i,0,0);var o=n.getImageData(0,0,A,A).data;n.fillStyle="red",n.fillRect(0,0,A,A);var c=t.createElement("div");return c.style.backgroundImage="url("+a+")",c.style.height=A+"px",Ta(o)?Ma(fr(A,A,0,0,c)):Promise.reject(!1)}).then(function(i){return n.drawImage(i,0,0),Ta(n.getImageData(0,0,A,A).data)}).catch(function(){return!1})},fr=function(t,e,A,n,r){var a="http://www.w3.org/2000/svg",s=document.createElementNS(a,"svg"),i=document.createElementNS(a,"foreignObject");return s.setAttributeNS(null,"width",t.toString()),s.setAttributeNS(null,"height",e.toString()),i.setAttributeNS(null,"width","100%"),i.setAttributeNS(null,"height","100%"),i.setAttributeNS(null,"x",A.toString()),i.setAttributeNS(null,"y",n.toString()),i.setAttributeNS(null,"externalResourcesRequired","true"),s.appendChild(i),i.appendChild(r),s},Ma=function(t){return new Promise(function(e,A){var n=new Image;n.onload=function(){return e(n)},n.onerror=A,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},sA={get SUPPORT_RANGE_BOUNDS(){var t=Vu(document);return Object.defineProperty(sA,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=sA.SUPPORT_RANGE_BOUNDS&&$u(document);return Object.defineProperty(sA,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=Xu(document);return Object.defineProperty(sA,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?qu(document):Promise.resolve(!1);return Object.defineProperty(sA,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=Yu();return Object.defineProperty(sA,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=Ju();return Object.defineProperty(sA,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(sA,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(sA,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},tt=(function(){function t(e,A){this.text=e,this.bounds=A}return t})(),Wu=function(t,e,A,n){var r=ju(e,A),a=[],s=0;return r.forEach(function(i){if(A.textDecorationLine.length||i.trim().length>0)if(sA.SUPPORT_RANGE_BOUNDS){var o=Ka(n,s,i.length).getClientRects();if(o.length>1){var c=Ir(i),l=0;c.forEach(function(g){a.push(new tt(g,qA.fromDOMRectList(t,Ka(n,l+s,g.length).getClientRects()))),l+=g.length})}else a.push(new tt(i,qA.fromDOMRectList(t,o)))}else{var B=n.splitText(i.length);a.push(new tt(i,zu(t,n))),n=B}else sA.SUPPORT_RANGE_BOUNDS||(n=n.splitText(i.length));s+=i.length}),a},zu=function(t,e){var A=e.ownerDocument;if(A){var n=A.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var r=e.parentNode;if(r){r.replaceChild(n,e);var a=on(t,n);return n.firstChild&&r.replaceChild(n.firstChild,n),a}}return qA.EMPTY},Ka=function(t,e,A){var n=t.ownerDocument;if(!n)throw new Error("Node has no owner document");var r=n.createRange();return r.setStart(t,e),r.setEnd(t,e+A),r},Ir=function(t){if(sA.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(A){return A.segment})}return Gu(t)},Zu=function(t,e){if(sA.SUPPORT_NATIVE_TEXT_SEGMENTATION){var A=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(A.segment(t)).map(function(n){return n.segment})}return eB(t,e)},ju=function(t,e){return e.letterSpacing!==0?Ir(t):Zu(t,e)},AB=[32,160,4961,65792,65793,4153,4241],eB=function(t,e){for(var A=Ic(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),n=[],r,a=function(){if(r.value){var s=r.value.slice(),i=cn(s),o="";i.forEach(function(c){AB.indexOf(c)===-1?o+=Z(c):(o.length&&n.push(o),n.push(Z(c)),o="")}),o.length&&n.push(o)}};!(r=A.next()).done;)a();return n},tB=(function(){function t(e,A,n){this.text=nB(A.data,n.textTransform),this.textBounds=Wu(e,this.text,n,A)}return t})(),nB=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(rB,aB);case 2:return t.toUpperCase();default:return t}},rB=/(^|\s|:|-|\(|\))([a-z])/g,aB=function(t,e,A){return t.length>0?e+A.toUpperCase():t},Js=(function(t){TA(e,t);function e(A,n){var r=t.call(this,A,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return e})(PA),Xs=(function(t){TA(e,t);function e(A,n){var r=t.call(this,A,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return e})(PA),qs=(function(t){TA(e,t);function e(A,n){var r=t.call(this,A,n)||this,a=new XMLSerializer,s=on(A,n);return n.setAttribute("width",s.width+"px"),n.setAttribute("height",s.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(a.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return e})(PA),Ws=(function(t){TA(e,t);function e(A,n){var r=t.call(this,A,n)||this;return r.value=n.value,r}return e})(PA),hr=(function(t){TA(e,t);function e(A,n){var r=t.call(this,A,n)||this;return r.start=n.start,r.reversed=typeof n.reversed=="boolean"&&n.reversed===!0,r}return e})(PA),sB=[{type:15,flags:0,unit:"px",number:3}],iB=[{type:16,flags:0,number:50}],oB=function(t){return t.width>t.height?new qA(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new qA(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},cB=function(t){var e=t.type===lB?new Array(t.value.length+1).join("â€¢"):t.value;return e.length===0?t.placeholder||"":e},Wt="checkbox",zt="radio",lB="password",ka=707406591,Hr=(function(t){TA(e,t);function e(A,n){var r=t.call(this,A,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=cB(n),(r.type===Wt||r.type===zt)&&(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=oB(r.bounds)),r.type){case Wt:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=sB;break;case zt:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=iB;break}return r}return e})(PA),zs=(function(t){TA(e,t);function e(A,n){var r=t.call(this,A,n)||this,a=n.options[n.selectedIndex||0];return r.value=a&&a.text||"",r}return e})(PA),Zs=(function(t){TA(e,t);function e(A,n){var r=t.call(this,A,n)||this;return r.value=n.value,r}return e})(PA),js=(function(t){TA(e,t);function e(A,n){var r=t.call(this,A,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=ei(A,n.contentWindow.document.documentElement);var a=n.contentWindow.document.documentElement?At(A,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):XA.TRANSPARENT,s=n.contentWindow.document.body?At(A,getComputedStyle(n.contentWindow.document.body).backgroundColor):XA.TRANSPARENT;r.backgroundColor=ne(a)?ne(s)?r.styles.backgroundColor:s:a}}catch{}return r}return e})(PA),dB=["OL","UL","MENU"],Vt=function(t,e,A,n){for(var r=e.firstChild,a=void 0;r;r=a)if(a=r.nextSibling,ti(r)&&r.data.trim().length>0)A.textNodes.push(new tB(t,r,A.styles));else if(Ue(r))if(si(r)&&r.assignedNodes)r.assignedNodes().forEach(function(i){return Vt(t,i,A,n)});else{var s=Ai(t,r);s.styles.isVisible()&&(uB(r,s,n)?s.flags|=4:BB(s.styles)&&(s.flags|=2),dB.indexOf(r.tagName)!==-1&&(s.flags|=8),A.elements.push(s),r.slot,r.shadowRoot?Vt(t,r.shadowRoot,s,n):!Zt(r)&&!ni(r)&&!jt(r)&&Vt(t,r,s,n))}},Ai=function(t,e){return wr(e)?new Js(t,e):ri(e)?new Xs(t,e):ni(e)?new qs(t,e):gB(e)?new Ws(t,e):fB(e)?new hr(t,e):hB(e)?new Hr(t,e):jt(e)?new zs(t,e):Zt(e)?new Zs(t,e):ai(e)?new js(t,e):new PA(t,e)},ei=function(t,e){var A=Ai(t,e);return A.flags|=4,Vt(t,e,A,A),A},uB=function(t,e,A){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||xr(t)&&A.styles.isTransparent()},BB=function(t){return t.isPositioned()||t.isFloating()},ti=function(t){return t.nodeType===Node.TEXT_NODE},Ue=function(t){return t.nodeType===Node.ELEMENT_NODE},pr=function(t){return Ue(t)&&typeof t.style<"u"&&!$t(t)},$t=function(t){return typeof t.className=="object"},gB=function(t){return t.tagName==="LI"},fB=function(t){return t.tagName==="OL"},hB=function(t){return t.tagName==="INPUT"},pB=function(t){return t.tagName==="HTML"},ni=function(t){return t.tagName==="svg"},xr=function(t){return t.tagName==="BODY"},ri=function(t){return t.tagName==="CANVAS"},Oa=function(t){return t.tagName==="VIDEO"},wr=function(t){return t.tagName==="IMG"},ai=function(t){return t.tagName==="IFRAME"},_a=function(t){return t.tagName==="STYLE"},wB=function(t){return t.tagName==="SCRIPT"},Zt=function(t){return t.tagName==="TEXTAREA"},jt=function(t){return t.tagName==="SELECT"},si=function(t){return t.tagName==="SLOT"},Ra=function(t){return t.tagName.indexOf("-")>0},mB=(function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var A=this.counters[e];return A&&A.length?A[A.length-1]:1},t.prototype.getCounterValues=function(e){var A=this.counters[e];return A||[]},t.prototype.pop=function(e){var A=this;e.forEach(function(n){return A.counters[n].pop()})},t.prototype.parse=function(e){var A=this,n=e.counterIncrement,r=e.counterReset,a=!0;n!==null&&n.forEach(function(i){var o=A.counters[i.counter];o&&i.increment!==0&&(a=!1,o.length||o.push(1),o[Math.max(0,o.length-1)]+=i.increment)});var s=[];return a&&r.forEach(function(i){var o=A.counters[i.counter];s.push(i.counter),o||(o=A.counters[i.counter]=[]),o.push(i.reset)}),s},t})(),Na={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Pa={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Õ”","Õ“","Õ’","Õ‘","Õ","Õ","Õ","Õ","ÕŒ","Õ‹","ÕŠ","Õ‰","Õˆ","Õ‡","Õ†","Õ…","Õ„","Õƒ","Õ‚","Õ","Õ€","Ô¿","Ô¾","Ô½","Ô¼","Ô»","Ôº","Ô¹","Ô¸","Ô·","Ô¶","Ôµ","Ô´","Ô³","Ô²","Ô±"]},CB={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["×™×³","×˜×³","×—×³","×–×³","×•×³","×”×³","×“×³","×’×³","×‘×³","××³","×ª","×©","×¨","×§","×¦","×¤","×¢","×¡","× ","×","×œ","×›","×™×˜","×™×—","×™×–","×˜×–","×˜×•","×™","×˜","×—","×–","×•","×”","×“","×’","×‘","×"]},vB={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["áƒµ","áƒ°","áƒ¯","áƒ´","áƒ®","áƒ­","áƒ¬","áƒ«","áƒª","áƒ©","áƒ¨","áƒ§","áƒ¦","áƒ¥","áƒ¤","áƒ³","áƒ¢","áƒ¡","áƒ ","áƒŸ","áƒ","áƒ","áƒ²","áƒœ","áƒ›","áƒš","áƒ™","áƒ˜","áƒ—","áƒ±","áƒ–","áƒ•","áƒ”","áƒ“","áƒ’","áƒ‘","áƒ"]},me=function(t,e,A,n,r,a){return t<e||t>A?it(t,r,a.length>0):n.integers.reduce(function(s,i,o){for(;t>=i;)t-=i,s+=n.values[o];return s},"")+a},ii=function(t,e,A,n){var r="";do A||t--,r=n(t)+r,t/=e;while(t*e>=e);return r},z=function(t,e,A,n,r){var a=A-e+1;return(t<0?"-":"")+(ii(Math.abs(t),a,n,function(s){return Z(Math.floor(s%a)+e)})+r)},se=function(t,e,A){A===void 0&&(A=". ");var n=e.length;return ii(Math.abs(t),n,!1,function(r){return e[Math.floor(r%n)]})+A},Qe=1,WA=2,zA=4,We=8,JA=function(t,e,A,n,r,a){if(t<-9999||t>9999)return it(t,4,r.length>0);var s=Math.abs(t),i=r;if(s===0)return e[0]+i;for(var o=0;s>0&&o<=4;o++){var c=s%10;c===0&&tA(a,Qe)&&i!==""?i=e[c]+i:c>1||c===1&&o===0||c===1&&o===1&&tA(a,WA)||c===1&&o===1&&tA(a,zA)&&t>100||c===1&&o>1&&tA(a,We)?i=e[c]+(o>0?A[o-1]:"")+i:c===1&&o>0&&(i=A[o-1]+i),s=Math.floor(s/10)}return(t<0?n:"")+i},Ga="åç™¾åƒè¬",Va="æ‹¾ä½°ä»Ÿè¬",$a="ãƒã‚¤ãƒŠã‚¹",Yn="ë§ˆì´ë„ˆìŠ¤",it=function(t,e,A){var n=A?". ":"",r=A?"ã€":"",a=A?", ":"",s=A?" ":"";switch(e){case 0:return"â€¢"+s;case 1:return"â—¦"+s;case 2:return"â—¾"+s;case 5:var i=z(t,48,57,!0,n);return i.length<4?"0"+i:i;case 4:return se(t,"ã€‡ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹",r);case 6:return me(t,1,3999,Na,3,n).toLowerCase();case 7:return me(t,1,3999,Na,3,n);case 8:return z(t,945,969,!1,n);case 9:return z(t,97,122,!1,n);case 10:return z(t,65,90,!1,n);case 11:return z(t,1632,1641,!0,n);case 12:case 49:return me(t,1,9999,Pa,3,n);case 35:return me(t,1,9999,Pa,3,n).toLowerCase();case 13:return z(t,2534,2543,!0,n);case 14:case 30:return z(t,6112,6121,!0,n);case 15:return se(t,"å­ä¸‘å¯…å¯è¾°å·³åˆæœªç”³é…‰æˆŒäº¥",r);case 16:return se(t,"ç”²ä¹™ä¸™ä¸æˆŠå·±åºšè¾›å£¬ç™¸",r);case 17:case 48:return JA(t,"é›¶ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹",Ga,"è² ",r,WA|zA|We);case 47:return JA(t,"é›¶å£¹è²³åƒè‚†ä¼é™¸æŸ’æŒç–",Va,"è² ",r,Qe|WA|zA|We);case 42:return JA(t,"é›¶ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹",Ga,"è´Ÿ",r,WA|zA|We);case 41:return JA(t,"é›¶å£¹è´°åè‚†ä¼é™†æŸ’æŒç–",Va,"è´Ÿ",r,Qe|WA|zA|We);case 26:return JA(t,"ã€‡ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹","åç™¾åƒä¸‡",$a,r,0);case 25:return JA(t,"é›¶å£±å¼å‚å››ä¼å…­ä¸ƒå…«ä¹","æ‹¾ç™¾åƒä¸‡",$a,r,Qe|WA|zA);case 31:return JA(t,"ì˜ì¼ì´ì‚¼ì‚¬ì˜¤ìœ¡ì¹ íŒ”êµ¬","ì‹­ë°±ì²œë§Œ",Yn,a,Qe|WA|zA);case 33:return JA(t,"é›¶ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹","åç™¾åƒè¬",Yn,a,0);case 32:return JA(t,"é›¶å£¹è²³åƒå››äº”å…­ä¸ƒå…«ä¹","æ‹¾ç™¾åƒ",Yn,a,Qe|WA|zA);case 18:return z(t,2406,2415,!0,n);case 20:return me(t,1,19999,vB,3,n);case 21:return z(t,2790,2799,!0,n);case 22:return z(t,2662,2671,!0,n);case 22:return me(t,1,10999,CB,3,n);case 23:return se(t,"ã‚ã„ã†ãˆãŠã‹ããã‘ã“ã•ã—ã™ã›ããŸã¡ã¤ã¦ã¨ãªã«ã¬ã­ã®ã¯ã²ãµã¸ã»ã¾ã¿ã‚€ã‚ã‚‚ã‚„ã‚†ã‚ˆã‚‰ã‚Šã‚‹ã‚Œã‚ã‚ã‚ã‚‘ã‚’ã‚“");case 24:return se(t,"ã„ã‚ã¯ã«ã»ã¸ã¨ã¡ã‚Šã¬ã‚‹ã‚’ã‚ã‹ã‚ˆãŸã‚Œãã¤ã­ãªã‚‰ã‚€ã†ã‚ã®ãŠãã‚„ã¾ã‘ãµã“ãˆã¦ã‚ã•ãã‚†ã‚ã¿ã—ã‚‘ã²ã‚‚ã›ã™");case 27:return z(t,3302,3311,!0,n);case 28:return se(t,"ã‚¢ã‚¤ã‚¦ã‚¨ã‚ªã‚«ã‚­ã‚¯ã‚±ã‚³ã‚µã‚·ã‚¹ã‚»ã‚½ã‚¿ãƒãƒ„ãƒ†ãƒˆãƒŠãƒ‹ãƒŒãƒãƒãƒãƒ’ãƒ•ãƒ˜ãƒ›ãƒãƒŸãƒ ãƒ¡ãƒ¢ãƒ¤ãƒ¦ãƒ¨ãƒ©ãƒªãƒ«ãƒ¬ãƒ­ãƒ¯ãƒ°ãƒ±ãƒ²ãƒ³",r);case 29:return se(t,"ã‚¤ãƒ­ãƒãƒ‹ãƒ›ãƒ˜ãƒˆãƒãƒªãƒŒãƒ«ãƒ²ãƒ¯ã‚«ãƒ¨ã‚¿ãƒ¬ã‚½ãƒ„ãƒãƒŠãƒ©ãƒ ã‚¦ãƒ°ãƒã‚ªã‚¯ãƒ¤ãƒã‚±ãƒ•ã‚³ã‚¨ãƒ†ã‚¢ã‚µã‚­ãƒ¦ãƒ¡ãƒŸã‚·ãƒ±ãƒ’ãƒ¢ã‚»ã‚¹",r);case 34:return z(t,3792,3801,!0,n);case 37:return z(t,6160,6169,!0,n);case 38:return z(t,4160,4169,!0,n);case 39:return z(t,2918,2927,!0,n);case 40:return z(t,1776,1785,!0,n);case 43:return z(t,3046,3055,!0,n);case 44:return z(t,3174,3183,!0,n);case 45:return z(t,3664,3673,!0,n);case 46:return z(t,3872,3881,!0,n);default:return z(t,48,57,!0,n)}},oi="data-html2canvas-ignore",Ya=(function(){function t(e,A,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=A,this.counters=new mB,this.quoteDepth=0,!A.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(A.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,A){var n=this,r=QB(e,A);if(!r.contentWindow)return Promise.reject("Unable to find iframe window");var a=e.defaultView.pageXOffset,s=e.defaultView.pageYOffset,i=r.contentWindow,o=i.document,c=yB(r).then(function(){return hA(n,void 0,void 0,function(){var l,B;return dA(this,function(g){switch(g.label){case 0:return this.scrolledElements.forEach(HB),i&&(i.scrollTo(A.left,A.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(i.scrollY!==A.top||i.scrollX!==A.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(i.scrollX-A.left,i.scrollY-A.top,0,0))),l=this.options.onclone,B=this.clonedReferenceElement,typeof B>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:o.fonts&&o.fonts.ready?[4,o.fonts.ready]:[3,2];case 1:g.sent(),g.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,UB(o)]:[3,4];case 3:g.sent(),g.label=4;case 4:return typeof l=="function"?[2,Promise.resolve().then(function(){return l(o,B)}).then(function(){return r})]:[2,r]}})})});return o.open(),o.write(EB(document.doctype)+"<html></html>"),IB(this.referenceElement.ownerDocument,a,s),o.replaceChild(o.adoptNode(this.documentElement),o.documentElement),o.close(),c},t.prototype.createElementClone=function(e){if(gr(e,2))debugger;if(ri(e))return this.createCanvasClone(e);if(Oa(e))return this.createVideoClone(e);if(_a(e))return this.createStyleClone(e);var A=e.cloneNode(!1);return wr(A)&&(wr(e)&&e.currentSrc&&e.currentSrc!==e.src&&(A.src=e.currentSrc,A.srcset=""),A.loading==="lazy"&&(A.loading="eager")),Ra(A)?this.createCustomElementClone(A):A},t.prototype.createCustomElementClone=function(e){var A=document.createElement("html2canvascustomelement");return Jn(e.style,A),A},t.prototype.createStyleClone=function(e){try{var A=e.sheet;if(A&&A.cssRules){var n=[].slice.call(A.cssRules,0).reduce(function(a,s){return s&&typeof s.cssText=="string"?a+s.cssText:a},""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(a){if(this.context.logger.error("Unable to access cssRules property",a),a.name!=="SecurityError")throw a}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var A;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var a=e.getContext("2d"),s=r.getContext("2d");if(s)if(!this.options.allowTaint&&a)s.putImageData(a.getImageData(0,0,e.width,e.height),0,0);else{var i=(A=e.getContext("webgl2"))!==null&&A!==void 0?A:e.getContext("webgl");if(i){var o=i.getContextAttributes();o?.preserveDrawingBuffer===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}s.drawImage(e,0,0)}return r}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},t.prototype.createVideoClone=function(e){var A=e.ownerDocument.createElement("canvas");A.width=e.offsetWidth,A.height=e.offsetHeight;var n=A.getContext("2d");try{return n&&(n.drawImage(e,0,0,A.width,A.height),this.options.allowTaint||n.getImageData(0,0,A.width,A.height)),A}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},t.prototype.appendChildNode=function(e,A,n){(!Ue(A)||!wB(A)&&!A.hasAttribute(oi)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(A)))&&(!this.options.copyStyles||!Ue(A)||!_a(A))&&e.appendChild(this.cloneNode(A,n))},t.prototype.cloneChildNodes=function(e,A,n){for(var r=this,a=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;a;a=a.nextSibling)if(Ue(a)&&si(a)&&typeof a.assignedNodes=="function"){var s=a.assignedNodes();s.length&&s.forEach(function(i){return r.appendChildNode(A,i,n)})}else this.appendChildNode(A,a,n)},t.prototype.cloneNode=function(e,A){if(ti(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&Ue(e)&&(pr(e)||$t(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var a=n.getComputedStyle(e),s=n.getComputedStyle(e,":before"),i=n.getComputedStyle(e,":after");this.referenceElement===e&&pr(r)&&(this.clonedReferenceElement=r),xr(r)&&DB(r);var o=this.counters.parse(new Fa(this.context,a)),c=this.resolvePseudoContent(e,r,s,nt.BEFORE);Ra(e)&&(A=!0),Oa(e)||this.cloneChildNodes(e,r,A),c&&r.insertBefore(c,r.firstChild);var l=this.resolvePseudoContent(e,r,i,nt.AFTER);return l&&r.appendChild(l),this.counters.pop(o),(a&&(this.options.copyStyles||$t(e))&&!ai(e)||A)&&Jn(a,r),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(Zt(e)||jt(e))&&(Zt(r)||jt(r))&&(r.value=e.value),r}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,A,n,r){var a=this;if(n){var s=n.content,i=A.ownerDocument;if(!(!i||!s||s==="none"||s==="-moz-alt-content"||n.display==="none")){this.counters.parse(new Fa(this.context,n));var o=new gu(this.context,n),c=i.createElement("html2canvaspseudoelement");Jn(n,c),o.content.forEach(function(B){if(B.type===0)c.appendChild(i.createTextNode(B.value));else if(B.type===22){var g=i.createElement("img");g.src=B.value,g.style.opacity="1",c.appendChild(g)}else if(B.type===18){if(B.name==="attr"){var w=B.values.filter($);w.length&&c.appendChild(i.createTextNode(e.getAttribute(w[0].value)||""))}else if(B.name==="counter"){var m=B.values.filter(xe),h=m[0],H=m[1];if(h&&$(h)){var U=a.counters.getCounterValue(h.value),F=H&&$(H)?Br.parse(a.context,H.value):3;c.appendChild(i.createTextNode(it(U,F,!1)))}}else if(B.name==="counters"){var T=B.values.filter(xe),h=T[0],D=T[1],H=T[2];if(h&&$(h)){var S=a.counters.getCounterValues(h.value),v=H&&$(H)?Br.parse(a.context,H.value):3,K=D&&D.type===0?D.value:"",k=S.map(function(oA){return it(oA,v,!1)}).join(K);c.appendChild(i.createTextNode(k))}}}else if(B.type===20)switch(B.value){case"open-quote":c.appendChild(i.createTextNode(Qa(o.quotes,a.quoteDepth++,!0)));break;case"close-quote":c.appendChild(i.createTextNode(Qa(o.quotes,--a.quoteDepth,!1)));break;default:c.appendChild(i.createTextNode(B.value))}}),c.className=mr+" "+Cr;var l=r===nt.BEFORE?" "+mr:" "+Cr;return $t(A)?A.className.baseValue+=l:A.className+=l,c}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t})(),nt;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(nt||(nt={}));var QB=function(t,e){var A=t.createElement("iframe");return A.className="html2canvas-container",A.style.visibility="hidden",A.style.position="fixed",A.style.left="-10000px",A.style.top="0px",A.style.border="0",A.width=e.width.toString(),A.height=e.height.toString(),A.scrolling="no",A.setAttribute(oi,"true"),t.body.appendChild(A),A},FB=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},UB=function(t){return Promise.all([].slice.call(t.images,0).map(FB))},yB=function(t){return new Promise(function(e,A){var n=t.contentWindow;if(!n)return A("No window assigned for iframe");var r=n.document;n.onload=t.onload=function(){n.onload=t.onload=null;var a=setInterval(function(){r.body.childNodes.length>0&&r.readyState==="complete"&&(clearInterval(a),e(t))},50)}})},bB=["all","d","content"],Jn=function(t,e){for(var A=t.length-1;A>=0;A--){var n=t.item(A);bB.indexOf(n)===-1&&e.style.setProperty(n,t.getPropertyValue(n))}return e},EB=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},IB=function(t,e,A){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||A!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,A)},HB=function(t){var e=t[0],A=t[1],n=t[2];e.scrollLeft=A,e.scrollTop=n},xB=":before",SB=":after",mr="___html2canvas___pseudoelement_before",Cr="___html2canvas___pseudoelement_after",Ja=`{
    content: "" !important;
    display: none !important;
}`,DB=function(t){LB(t,"."+mr+xB+Ja+`
         .`+Cr+SB+Ja)},LB=function(t,e){var A=t.ownerDocument;if(A){var n=A.createElement("style");n.textContent=e,t.appendChild(n)}},ci=(function(){function t(){}return t.getOrigin=function(e){var A=t._link;return A?(A.href=e,A.href=A.href,A.protocol+A.hostname+A.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t})(),TB=(function(){function t(e,A){this.context=e,this._options=A,this._cache={}}return t.prototype.addImage=function(e){var A=Promise.resolve();return this.has(e)||(qn(e)||OB(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),A},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return hA(this,void 0,void 0,function(){var A,n,r,a,s=this;return dA(this,function(i){switch(i.label){case 0:return A=ci.isSameOrigin(e),n=!Xn(e)&&this._options.useCORS===!0&&sA.SUPPORT_CORS_IMAGES&&!A,r=!Xn(e)&&!A&&!qn(e)&&typeof this._options.proxy=="string"&&sA.SUPPORT_CORS_XHR&&!n,!A&&this._options.allowTaint===!1&&!Xn(e)&&!qn(e)&&!r&&!n?[2]:(a=e,r?[4,this.proxy(a)]:[3,2]);case 1:a=i.sent(),i.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(o,c){var l=new Image;l.onload=function(){return o(l)},l.onerror=c,(_B(a)||n)&&(l.crossOrigin="anonymous"),l.src=a,l.complete===!0&&setTimeout(function(){return o(l)},500),s._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+s._options.imageTimeout+"ms) loading image")},s._options.imageTimeout)})];case 3:return[2,i.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var A=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise(function(a,s){var i=sA.SUPPORT_RESPONSE_TYPE?"blob":"text",o=new XMLHttpRequest;o.onload=function(){if(o.status===200)if(i==="text")a(o.response);else{var B=new FileReader;B.addEventListener("load",function(){return a(B.result)},!1),B.addEventListener("error",function(g){return s(g)},!1),B.readAsDataURL(o.response)}else s("Failed to proxy resource "+r+" with status code "+o.status)},o.onerror=s;var c=n.indexOf("?")>-1?"&":"?";if(o.open("GET",""+n+c+"url="+encodeURIComponent(e)+"&responseType="+i),i!=="text"&&o instanceof XMLHttpRequest&&(o.responseType=i),A._options.imageTimeout){var l=A._options.imageTimeout;o.timeout=l,o.ontimeout=function(){return s("Timed out ("+l+"ms) proxying "+r)}}o.send()})},t})(),MB=/^data:image\/svg\+xml/i,KB=/^data:image\/.*;base64,/i,kB=/^data:image\/.*/i,OB=function(t){return sA.SUPPORT_SVG_DRAWING||!RB(t)},Xn=function(t){return kB.test(t)},_B=function(t){return KB.test(t)},qn=function(t){return t.substr(0,4)==="blob"},RB=function(t){return t.substr(-3).toLowerCase()==="svg"||MB.test(t)},y=(function(){function t(e,A){this.type=0,this.x=e,this.y=A}return t.prototype.add=function(e,A){return new t(this.x+e,this.y+A)},t})(),Ce=function(t,e,A){return new y(t.x+(e.x-t.x)*A,t.y+(e.y-t.y)*A)},Ot=(function(){function t(e,A,n,r){this.type=1,this.start=e,this.startControl=A,this.endControl=n,this.end=r}return t.prototype.subdivide=function(e,A){var n=Ce(this.start,this.startControl,e),r=Ce(this.startControl,this.endControl,e),a=Ce(this.endControl,this.end,e),s=Ce(n,r,e),i=Ce(r,a,e),o=Ce(s,i,e);return A?new t(this.start,n,s,o):new t(o,i,a,this.end)},t.prototype.add=function(e,A){return new t(this.start.add(e,A),this.startControl.add(e,A),this.endControl.add(e,A),this.end.add(e,A))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t})(),EA=function(t){return t.type===1},NB=(function(){function t(e){var A=e.styles,n=e.bounds,r=Xe(A.borderTopLeftRadius,n.width,n.height),a=r[0],s=r[1],i=Xe(A.borderTopRightRadius,n.width,n.height),o=i[0],c=i[1],l=Xe(A.borderBottomRightRadius,n.width,n.height),B=l[0],g=l[1],w=Xe(A.borderBottomLeftRadius,n.width,n.height),m=w[0],h=w[1],H=[];H.push((a+o)/n.width),H.push((m+B)/n.width),H.push((s+h)/n.height),H.push((c+g)/n.height);var U=Math.max.apply(Math,H);U>1&&(a/=U,s/=U,o/=U,c/=U,B/=U,g/=U,m/=U,h/=U);var F=n.width-o,T=n.height-g,D=n.width-B,S=n.height-h,v=A.borderTopWidth,K=A.borderRightWidth,k=A.borderBottomWidth,L=A.borderLeftWidth,J=X(A.paddingTop,e.bounds.width),oA=X(A.paddingRight,e.bounds.width),nA=X(A.paddingBottom,e.bounds.width),N=X(A.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=a>0||s>0?q(n.left+L/3,n.top+v/3,a-L/3,s-v/3,G.TOP_LEFT):new y(n.left+L/3,n.top+v/3),this.topRightBorderDoubleOuterBox=a>0||s>0?q(n.left+F,n.top+v/3,o-K/3,c-v/3,G.TOP_RIGHT):new y(n.left+n.width-K/3,n.top+v/3),this.bottomRightBorderDoubleOuterBox=B>0||g>0?q(n.left+D,n.top+T,B-K/3,g-k/3,G.BOTTOM_RIGHT):new y(n.left+n.width-K/3,n.top+n.height-k/3),this.bottomLeftBorderDoubleOuterBox=m>0||h>0?q(n.left+L/3,n.top+S,m-L/3,h-k/3,G.BOTTOM_LEFT):new y(n.left+L/3,n.top+n.height-k/3),this.topLeftBorderDoubleInnerBox=a>0||s>0?q(n.left+L*2/3,n.top+v*2/3,a-L*2/3,s-v*2/3,G.TOP_LEFT):new y(n.left+L*2/3,n.top+v*2/3),this.topRightBorderDoubleInnerBox=a>0||s>0?q(n.left+F,n.top+v*2/3,o-K*2/3,c-v*2/3,G.TOP_RIGHT):new y(n.left+n.width-K*2/3,n.top+v*2/3),this.bottomRightBorderDoubleInnerBox=B>0||g>0?q(n.left+D,n.top+T,B-K*2/3,g-k*2/3,G.BOTTOM_RIGHT):new y(n.left+n.width-K*2/3,n.top+n.height-k*2/3),this.bottomLeftBorderDoubleInnerBox=m>0||h>0?q(n.left+L*2/3,n.top+S,m-L*2/3,h-k*2/3,G.BOTTOM_LEFT):new y(n.left+L*2/3,n.top+n.height-k*2/3),this.topLeftBorderStroke=a>0||s>0?q(n.left+L/2,n.top+v/2,a-L/2,s-v/2,G.TOP_LEFT):new y(n.left+L/2,n.top+v/2),this.topRightBorderStroke=a>0||s>0?q(n.left+F,n.top+v/2,o-K/2,c-v/2,G.TOP_RIGHT):new y(n.left+n.width-K/2,n.top+v/2),this.bottomRightBorderStroke=B>0||g>0?q(n.left+D,n.top+T,B-K/2,g-k/2,G.BOTTOM_RIGHT):new y(n.left+n.width-K/2,n.top+n.height-k/2),this.bottomLeftBorderStroke=m>0||h>0?q(n.left+L/2,n.top+S,m-L/2,h-k/2,G.BOTTOM_LEFT):new y(n.left+L/2,n.top+n.height-k/2),this.topLeftBorderBox=a>0||s>0?q(n.left,n.top,a,s,G.TOP_LEFT):new y(n.left,n.top),this.topRightBorderBox=o>0||c>0?q(n.left+F,n.top,o,c,G.TOP_RIGHT):new y(n.left+n.width,n.top),this.bottomRightBorderBox=B>0||g>0?q(n.left+D,n.top+T,B,g,G.BOTTOM_RIGHT):new y(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=m>0||h>0?q(n.left,n.top+S,m,h,G.BOTTOM_LEFT):new y(n.left,n.top+n.height),this.topLeftPaddingBox=a>0||s>0?q(n.left+L,n.top+v,Math.max(0,a-L),Math.max(0,s-v),G.TOP_LEFT):new y(n.left+L,n.top+v),this.topRightPaddingBox=o>0||c>0?q(n.left+Math.min(F,n.width-K),n.top+v,F>n.width+K?0:Math.max(0,o-K),Math.max(0,c-v),G.TOP_RIGHT):new y(n.left+n.width-K,n.top+v),this.bottomRightPaddingBox=B>0||g>0?q(n.left+Math.min(D,n.width-L),n.top+Math.min(T,n.height-k),Math.max(0,B-K),Math.max(0,g-k),G.BOTTOM_RIGHT):new y(n.left+n.width-K,n.top+n.height-k),this.bottomLeftPaddingBox=m>0||h>0?q(n.left+L,n.top+Math.min(S,n.height-k),Math.max(0,m-L),Math.max(0,h-k),G.BOTTOM_LEFT):new y(n.left+L,n.top+n.height-k),this.topLeftContentBox=a>0||s>0?q(n.left+L+N,n.top+v+J,Math.max(0,a-(L+N)),Math.max(0,s-(v+J)),G.TOP_LEFT):new y(n.left+L+N,n.top+v+J),this.topRightContentBox=o>0||c>0?q(n.left+Math.min(F,n.width+L+N),n.top+v+J,F>n.width+L+N?0:o-L+N,c-(v+J),G.TOP_RIGHT):new y(n.left+n.width-(K+oA),n.top+v+J),this.bottomRightContentBox=B>0||g>0?q(n.left+Math.min(D,n.width-(L+N)),n.top+Math.min(T,n.height+v+J),Math.max(0,B-(K+oA)),g-(k+nA),G.BOTTOM_RIGHT):new y(n.left+n.width-(K+oA),n.top+n.height-(k+nA)),this.bottomLeftContentBox=m>0||h>0?q(n.left+L+N,n.top+S,Math.max(0,m-(L+N)),h-(k+nA),G.BOTTOM_LEFT):new y(n.left+L+N,n.top+n.height-(k+nA))}return t})(),G;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(G||(G={}));var q=function(t,e,A,n,r){var a=4*((Math.sqrt(2)-1)/3),s=A*a,i=n*a,o=t+A,c=e+n;switch(r){case G.TOP_LEFT:return new Ot(new y(t,c),new y(t,c-i),new y(o-s,e),new y(o,e));case G.TOP_RIGHT:return new Ot(new y(t,e),new y(t+s,e),new y(o,c-i),new y(o,c));case G.BOTTOM_RIGHT:return new Ot(new y(o,e),new y(o,e+i),new y(t+s,c),new y(t,c));case G.BOTTOM_LEFT:default:return new Ot(new y(o,c),new y(o-s,c),new y(t,e+i),new y(t,e))}},An=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},PB=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},en=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},GB=(function(){function t(e,A,n){this.offsetX=e,this.offsetY=A,this.matrix=n,this.type=0,this.target=6}return t})(),_t=(function(){function t(e,A){this.path=e,this.target=A,this.type=1}return t})(),VB=(function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t})(),$B=function(t){return t.type===0},li=function(t){return t.type===1},YB=function(t){return t.type===2},Xa=function(t,e){return t.length===e.length?t.some(function(A,n){return A===e[n]}):!1},JB=function(t,e,A,n,r){return t.map(function(a,s){switch(s){case 0:return a.add(e,A);case 1:return a.add(e+n,A);case 2:return a.add(e+n,A+r);case 3:return a.add(e,A+r)}return a})},di=(function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t})(),ui=(function(){function t(e,A){if(this.container=e,this.parent=A,this.effects=[],this.curves=new NB(this.container),this.container.styles.opacity<1&&this.effects.push(new VB(this.container.styles.opacity)),this.container.styles.transform!==null){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,a=this.container.styles.transform;this.effects.push(new GB(n,r,a))}if(this.container.styles.overflowX!==0){var s=An(this.curves),i=en(this.curves);Xa(s,i)?this.effects.push(new _t(s,6)):(this.effects.push(new _t(s,2)),this.effects.push(new _t(i,4)))}}return t.prototype.getEffects=function(e){for(var A=[2,3].indexOf(this.container.styles.position)===-1,n=this.parent,r=this.effects.slice(0);n;){var a=n.effects.filter(function(o){return!li(o)});if(A||n.container.styles.position!==0||!n.parent){if(r.unshift.apply(r,a),A=[2,3].indexOf(n.container.styles.position)===-1,n.container.styles.overflowX!==0){var s=An(n.curves),i=en(n.curves);Xa(s,i)||r.unshift(new _t(i,6))}}else r.unshift.apply(r,a);n=n.parent}return r.filter(function(o){return tA(o.target,e)})},t})(),vr=function(t,e,A,n){t.container.elements.forEach(function(r){var a=tA(r.flags,4),s=tA(r.flags,2),i=new ui(r,t);tA(r.styles.display,2048)&&n.push(i);var o=tA(r.flags,8)?[]:n;if(a||s){var c=a||r.styles.isPositioned()?A:e,l=new di(i);if(r.styles.isPositioned()||r.styles.opacity<1||r.styles.isTransformed()){var B=r.styles.zIndex.order;if(B<0){var g=0;c.negativeZIndex.some(function(m,h){return B>m.element.container.styles.zIndex.order?(g=h,!1):g>0}),c.negativeZIndex.splice(g,0,l)}else if(B>0){var w=0;c.positiveZIndex.some(function(m,h){return B>=m.element.container.styles.zIndex.order?(w=h+1,!1):w>0}),c.positiveZIndex.splice(w,0,l)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(l)}else r.styles.isFloating()?c.nonPositionedFloats.push(l):c.nonPositionedInlineLevel.push(l);vr(i,l,a?l:A,o)}else r.styles.isInlineLevel()?e.inlineLevel.push(i):e.nonInlineLevel.push(i),vr(i,e,A,o);tA(r.flags,8)&&Bi(r,o)})},Bi=function(t,e){for(var A=t instanceof hr?t.start:1,n=t instanceof hr?t.reversed:!1,r=0;r<e.length;r++){var a=e[r];a.container instanceof Ws&&typeof a.container.value=="number"&&a.container.value!==0&&(A=a.container.value),a.listValue=it(A,a.container.styles.listStyleType,!0),A+=n?-1:1}},XB=function(t){var e=new ui(t,null),A=new di(e),n=[];return vr(e,A,A,n),Bi(e.container,n),A},qa=function(t,e){switch(e){case 0:return HA(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return HA(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return HA(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);default:return HA(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},qB=function(t,e){switch(e){case 0:return HA(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return HA(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return HA(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);default:return HA(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},WB=function(t,e){switch(e){case 0:return HA(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return HA(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return HA(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);default:return HA(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},zB=function(t,e){switch(e){case 0:return Rt(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Rt(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Rt(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);default:return Rt(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},Rt=function(t,e){var A=[];return EA(t)?A.push(t.subdivide(.5,!1)):A.push(t),EA(e)?A.push(e.subdivide(.5,!0)):A.push(e),A},HA=function(t,e,A,n){var r=[];return EA(t)?r.push(t.subdivide(.5,!1)):r.push(t),EA(A)?r.push(A.subdivide(.5,!0)):r.push(A),EA(n)?r.push(n.subdivide(.5,!0).reverse()):r.push(n),EA(e)?r.push(e.subdivide(.5,!1).reverse()):r.push(e),r},gi=function(t){var e=t.bounds,A=t.styles;return e.add(A.borderLeftWidth,A.borderTopWidth,-(A.borderRightWidth+A.borderLeftWidth),-(A.borderTopWidth+A.borderBottomWidth))},tn=function(t){var e=t.styles,A=t.bounds,n=X(e.paddingLeft,A.width),r=X(e.paddingRight,A.width),a=X(e.paddingTop,A.width),s=X(e.paddingBottom,A.width);return A.add(n+e.borderLeftWidth,a+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+n+r),-(e.borderTopWidth+e.borderBottomWidth+a+s))},ZB=function(t,e){return t===0?e.bounds:t===2?tn(e):gi(e)},jB=function(t,e){return t===0?e.bounds:t===2?tn(e):gi(e)},Wn=function(t,e,A){var n=ZB(Fe(t.styles.backgroundOrigin,e),t),r=jB(Fe(t.styles.backgroundClip,e),t),a=Ag(Fe(t.styles.backgroundSize,e),A,n),s=a[0],i=a[1],o=Xe(Fe(t.styles.backgroundPosition,e),n.width-s,n.height-i),c=eg(Fe(t.styles.backgroundRepeat,e),o,a,n,r),l=Math.round(n.left+o[0]),B=Math.round(n.top+o[1]);return[c,l,B,s,i]},ve=function(t){return $(t)&&t.value===Ie.AUTO},Nt=function(t){return typeof t=="number"},Ag=function(t,e,A){var n=e[0],r=e[1],a=e[2],s=t[0],i=t[1];if(!s)return[0,0];if(AA(s)&&i&&AA(i))return[X(s,A.width),X(i,A.height)];var o=Nt(a);if($(s)&&(s.value===Ie.CONTAIN||s.value===Ie.COVER)){if(Nt(a)){var c=A.width/A.height;return c<a!=(s.value===Ie.COVER)?[A.width,A.width/a]:[A.height*a,A.height]}return[A.width,A.height]}var l=Nt(n),B=Nt(r),g=l||B;if(ve(s)&&(!i||ve(i))){if(l&&B)return[n,r];if(!o&&!g)return[A.width,A.height];if(g&&o){var w=l?n:r*a,m=B?r:n/a;return[w,m]}var h=l?n:A.width,H=B?r:A.height;return[h,H]}if(o){var U=0,F=0;return AA(s)?U=X(s,A.width):AA(i)&&(F=X(i,A.height)),ve(s)?U=F*a:(!i||ve(i))&&(F=U/a),[U,F]}var T=null,D=null;if(AA(s)?T=X(s,A.width):i&&AA(i)&&(D=X(i,A.height)),T!==null&&(!i||ve(i))&&(D=l&&B?T/n*r:A.height),D!==null&&ve(s)&&(T=l&&B?D/r*n:A.width),T!==null&&D!==null)return[T,D];throw new Error("Unable to calculate background-size for element")},Fe=function(t,e){var A=t[e];return typeof A>"u"?t[0]:A},eg=function(t,e,A,n,r){var a=e[0],s=e[1],i=A[0],o=A[1];switch(t){case 2:return[new y(Math.round(n.left),Math.round(n.top+s)),new y(Math.round(n.left+n.width),Math.round(n.top+s)),new y(Math.round(n.left+n.width),Math.round(o+n.top+s)),new y(Math.round(n.left),Math.round(o+n.top+s))];case 3:return[new y(Math.round(n.left+a),Math.round(n.top)),new y(Math.round(n.left+a+i),Math.round(n.top)),new y(Math.round(n.left+a+i),Math.round(n.height+n.top)),new y(Math.round(n.left+a),Math.round(n.height+n.top))];case 1:return[new y(Math.round(n.left+a),Math.round(n.top+s)),new y(Math.round(n.left+a+i),Math.round(n.top+s)),new y(Math.round(n.left+a+i),Math.round(n.top+s+o)),new y(Math.round(n.left+a),Math.round(n.top+s+o))];default:return[new y(Math.round(r.left),Math.round(r.top)),new y(Math.round(r.left+r.width),Math.round(r.top)),new y(Math.round(r.left+r.width),Math.round(r.height+r.top)),new y(Math.round(r.left),Math.round(r.height+r.top))]}},tg="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Wa="Hidden Text",ng=(function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,A){var n=this._document.createElement("div"),r=this._document.createElement("img"),a=this._document.createElement("span"),s=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=A,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",s.appendChild(n),r.src=tg,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",a.style.fontFamily=e,a.style.fontSize=A,a.style.margin="0",a.style.padding="0",a.appendChild(this._document.createTextNode(Wa)),n.appendChild(a),n.appendChild(r);var i=r.offsetTop-a.offsetTop+2;n.removeChild(a),n.appendChild(this._document.createTextNode(Wa)),n.style.lineHeight="normal",r.style.verticalAlign="super";var o=r.offsetTop-n.offsetTop+2;return s.removeChild(n),{baseline:i,middle:o}},t.prototype.getMetrics=function(e,A){var n=e+" "+A;return typeof this._data[n]>"u"&&(this._data[n]=this.parseMetrics(e,A)),this._data[n]},t})(),fi=(function(){function t(e,A){this.context=e,this.options=A}return t})(),rg=1e4,ag=(function(t){TA(e,t);function e(A,n){var r=t.call(this,A,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new ng(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return e.prototype.applyEffects=function(A){for(var n=this;this._activeEffects.length;)this.popEffect();A.forEach(function(r){return n.applyEffect(r)})},e.prototype.applyEffect=function(A){this.ctx.save(),YB(A)&&(this.ctx.globalAlpha=A.opacity),$B(A)&&(this.ctx.translate(A.offsetX,A.offsetY),this.ctx.transform(A.matrix[0],A.matrix[1],A.matrix[2],A.matrix[3],A.matrix[4],A.matrix[5]),this.ctx.translate(-A.offsetX,-A.offsetY)),li(A)&&(this.path(A.path),this.ctx.clip()),this._activeEffects.push(A)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(A){return hA(this,void 0,void 0,function(){var n;return dA(this,function(r){switch(r.label){case 0:return n=A.element.container.styles,n.isVisible()?[4,this.renderStackContent(A)]:[3,2];case 1:r.sent(),r.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(A){return hA(this,void 0,void 0,function(){return dA(this,function(n){switch(n.label){case 0:if(tA(A.container.flags,16))debugger;return A.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(A)]:[3,3];case 1:return n.sent(),[4,this.renderNodeContent(A)];case 2:n.sent(),n.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(A,n,r){var a=this;if(n===0)this.ctx.fillText(A.text,A.bounds.left,A.bounds.top+r);else{var s=Ir(A.text);s.reduce(function(i,o){return a.ctx.fillText(o,i,A.bounds.top+r),i+a.ctx.measureText(o).width},A.bounds.left)}},e.prototype.createFontStyle=function(A){var n=A.fontVariant.filter(function(s){return s==="normal"||s==="small-caps"}).join(""),r=lg(A.fontFamily).join(", "),a=dt(A.fontSize)?""+A.fontSize.number+A.fontSize.unit:A.fontSize.number+"px";return[[A.fontStyle,n,A.fontWeight,a,r].join(" "),r,a]},e.prototype.renderTextNode=function(A,n){return hA(this,void 0,void 0,function(){var r,a,s,i,o,c,l,B,g=this;return dA(this,function(w){return r=this.createFontStyle(n),a=r[0],s=r[1],i=r[2],this.ctx.font=a,this.ctx.direction=n.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",o=this.fontMetrics.getMetrics(s,i),c=o.baseline,l=o.middle,B=n.paintOrder,A.textBounds.forEach(function(m){B.forEach(function(h){switch(h){case 0:g.ctx.fillStyle=rA(n.color),g.renderTextWithLetterSpacing(m,n.letterSpacing,c);var H=n.textShadow;H.length&&m.text.trim().length&&(H.slice(0).reverse().forEach(function(U){g.ctx.shadowColor=rA(U.color),g.ctx.shadowOffsetX=U.offsetX.number*g.options.scale,g.ctx.shadowOffsetY=U.offsetY.number*g.options.scale,g.ctx.shadowBlur=U.blur.number,g.renderTextWithLetterSpacing(m,n.letterSpacing,c)}),g.ctx.shadowColor="",g.ctx.shadowOffsetX=0,g.ctx.shadowOffsetY=0,g.ctx.shadowBlur=0),n.textDecorationLine.length&&(g.ctx.fillStyle=rA(n.textDecorationColor||n.color),n.textDecorationLine.forEach(function(U){switch(U){case 1:g.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top+c),m.bounds.width,1);break;case 2:g.ctx.fillRect(m.bounds.left,Math.round(m.bounds.top),m.bounds.width,1);break;case 3:g.ctx.fillRect(m.bounds.left,Math.ceil(m.bounds.top+l),m.bounds.width,1);break}}));break;case 1:n.webkitTextStrokeWidth&&m.text.trim().length&&(g.ctx.strokeStyle=rA(n.webkitTextStrokeColor),g.ctx.lineWidth=n.webkitTextStrokeWidth,g.ctx.lineJoin=window.chrome?"miter":"round",g.ctx.strokeText(m.text,m.bounds.left,m.bounds.top+c)),g.ctx.strokeStyle="",g.ctx.lineWidth=0,g.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(A,n,r){if(r&&A.intrinsicWidth>0&&A.intrinsicHeight>0){var a=tn(A),s=en(n);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(r,0,0,A.intrinsicWidth,A.intrinsicHeight,a.left,a.top,a.width,a.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(A){return hA(this,void 0,void 0,function(){var n,r,a,s,i,o,F,F,c,l,B,g,D,w,m,S,h,H,U,F,T,D,S;return dA(this,function(v){switch(v.label){case 0:this.applyEffects(A.getEffects(4)),n=A.container,r=A.curves,a=n.styles,s=0,i=n.textNodes,v.label=1;case 1:return s<i.length?(o=i[s],[4,this.renderTextNode(o,a)]):[3,4];case 2:v.sent(),v.label=3;case 3:return s++,[3,1];case 4:if(!(n instanceof Js))return[3,8];v.label=5;case 5:return v.trys.push([5,7,,8]),[4,this.context.cache.match(n.src)];case 6:return F=v.sent(),this.renderReplacedElement(n,r,F),[3,8];case 7:return v.sent(),this.context.logger.error("Error loading image "+n.src),[3,8];case 8:if(n instanceof Xs&&this.renderReplacedElement(n,r,n.canvas),!(n instanceof qs))return[3,12];v.label=9;case 9:return v.trys.push([9,11,,12]),[4,this.context.cache.match(n.svg)];case 10:return F=v.sent(),this.renderReplacedElement(n,r,F),[3,12];case 11:return v.sent(),this.context.logger.error("Error loading svg "+n.svg.substring(0,255)),[3,12];case 12:return n instanceof js&&n.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:n.backgroundColor,x:0,y:0,width:n.width,height:n.height}),[4,c.render(n.tree)]):[3,14];case 13:l=v.sent(),n.width&&n.height&&this.ctx.drawImage(l,0,0,n.width,n.height,n.bounds.left,n.bounds.top,n.bounds.width,n.bounds.height),v.label=14;case 14:if(n instanceof Hr&&(B=Math.min(n.bounds.width,n.bounds.height),n.type===Wt?n.checked&&(this.ctx.save(),this.path([new y(n.bounds.left+B*.39363,n.bounds.top+B*.79),new y(n.bounds.left+B*.16,n.bounds.top+B*.5549),new y(n.bounds.left+B*.27347,n.bounds.top+B*.44071),new y(n.bounds.left+B*.39694,n.bounds.top+B*.5649),new y(n.bounds.left+B*.72983,n.bounds.top+B*.23),new y(n.bounds.left+B*.84,n.bounds.top+B*.34085),new y(n.bounds.left+B*.39363,n.bounds.top+B*.79)]),this.ctx.fillStyle=rA(ka),this.ctx.fill(),this.ctx.restore()):n.type===zt&&n.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(n.bounds.left+B/2,n.bounds.top+B/2,B/4,0,Math.PI*2,!0),this.ctx.fillStyle=rA(ka),this.ctx.fill(),this.ctx.restore())),sg(n)&&n.value.length){switch(g=this.createFontStyle(a),D=g[0],w=g[1],m=this.fontMetrics.getMetrics(D,w).baseline,this.ctx.font=D,this.ctx.fillStyle=rA(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=og(n.styles.textAlign),S=tn(n),h=0,n.styles.textAlign){case 1:h+=S.width/2;break;case 2:h+=S.width;break}H=S.add(h,0,0,-S.height/2+1),this.ctx.save(),this.path([new y(S.left,S.top),new y(S.left+S.width,S.top),new y(S.left+S.width,S.top+S.height),new y(S.left,S.top+S.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new tt(n.value,H),a.letterSpacing,m),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!tA(n.styles.display,2048))return[3,20];if(n.styles.listStyleImage===null)return[3,19];if(U=n.styles.listStyleImage,U.type!==0)return[3,18];F=void 0,T=U.url,v.label=15;case 15:return v.trys.push([15,17,,18]),[4,this.context.cache.match(T)];case 16:return F=v.sent(),this.ctx.drawImage(F,n.bounds.left-(F.width+10),n.bounds.top),[3,18];case 17:return v.sent(),this.context.logger.error("Error loading list-style-image "+T),[3,18];case 18:return[3,20];case 19:A.listValue&&n.styles.listStyleType!==-1&&(D=this.createFontStyle(a)[0],this.ctx.font=D,this.ctx.fillStyle=rA(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",S=new qA(n.bounds.left,n.bounds.top+X(n.styles.paddingTop,n.bounds.width),n.bounds.width,Ca(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new tt(A.listValue,S),a.letterSpacing,Ca(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),v.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(A){return hA(this,void 0,void 0,function(){var n,r,U,a,s,U,i,o,U,c,l,U,B,g,U,w,m,U,h,H,U;return dA(this,function(F){switch(F.label){case 0:if(tA(A.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(A.element)];case 1:F.sent(),n=0,r=A.negativeZIndex,F.label=2;case 2:return n<r.length?(U=r[n],[4,this.renderStack(U)]):[3,5];case 3:F.sent(),F.label=4;case 4:return n++,[3,2];case 5:return[4,this.renderNodeContent(A.element)];case 6:F.sent(),a=0,s=A.nonInlineLevel,F.label=7;case 7:return a<s.length?(U=s[a],[4,this.renderNode(U)]):[3,10];case 8:F.sent(),F.label=9;case 9:return a++,[3,7];case 10:i=0,o=A.nonPositionedFloats,F.label=11;case 11:return i<o.length?(U=o[i],[4,this.renderStack(U)]):[3,14];case 12:F.sent(),F.label=13;case 13:return i++,[3,11];case 14:c=0,l=A.nonPositionedInlineLevel,F.label=15;case 15:return c<l.length?(U=l[c],[4,this.renderStack(U)]):[3,18];case 16:F.sent(),F.label=17;case 17:return c++,[3,15];case 18:B=0,g=A.inlineLevel,F.label=19;case 19:return B<g.length?(U=g[B],[4,this.renderNode(U)]):[3,22];case 20:F.sent(),F.label=21;case 21:return B++,[3,19];case 22:w=0,m=A.zeroOrAutoZIndexOrTransformedOrOpacity,F.label=23;case 23:return w<m.length?(U=m[w],[4,this.renderStack(U)]):[3,26];case 24:F.sent(),F.label=25;case 25:return w++,[3,23];case 26:h=0,H=A.positiveZIndex,F.label=27;case 27:return h<H.length?(U=H[h],[4,this.renderStack(U)]):[3,30];case 28:F.sent(),F.label=29;case 29:return h++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(A){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(A.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(A){this.ctx.beginPath(),this.formatPath(A),this.ctx.closePath()},e.prototype.formatPath=function(A){var n=this;A.forEach(function(r,a){var s=EA(r)?r.start:r;a===0?n.ctx.moveTo(s.x,s.y):n.ctx.lineTo(s.x,s.y),EA(r)&&n.ctx.bezierCurveTo(r.startControl.x,r.startControl.y,r.endControl.x,r.endControl.y,r.end.x,r.end.y)})},e.prototype.renderRepeat=function(A,n,r,a){this.path(A),this.ctx.fillStyle=n,this.ctx.translate(r,a),this.ctx.fill(),this.ctx.translate(-r,-a)},e.prototype.resizeImage=function(A,n,r){var a;if(A.width===n&&A.height===r)return A;var s=(a=this.canvas.ownerDocument)!==null&&a!==void 0?a:document,i=s.createElement("canvas");i.width=Math.max(1,n),i.height=Math.max(1,r);var o=i.getContext("2d");return o.drawImage(A,0,0,A.width,A.height,0,0,n,r),i},e.prototype.renderBackgroundImage=function(A){return hA(this,void 0,void 0,function(){var n,r,a,s,i,o;return dA(this,function(c){switch(c.label){case 0:n=A.styles.backgroundImage.length-1,r=function(l){var B,g,w,J,cA,lA,N,eA,k,m,J,cA,lA,N,eA,h,H,U,F,T,D,S,v,K,k,L,J,oA,nA,N,eA,xA,cA,lA,MA,mA,KA,SA,GA,DA,VA,gA;return dA(this,function(kA){switch(kA.label){case 0:if(l.type!==0)return[3,5];B=void 0,g=l.url,kA.label=1;case 1:return kA.trys.push([1,3,,4]),[4,a.context.cache.match(g)];case 2:return B=kA.sent(),[3,4];case 3:return kA.sent(),a.context.logger.error("Error loading background-image "+g),[3,4];case 4:return B&&(w=Wn(A,n,[B.width,B.height,B.width/B.height]),J=w[0],cA=w[1],lA=w[2],N=w[3],eA=w[4],k=a.ctx.createPattern(a.resizeImage(B,N,eA),"repeat"),a.renderRepeat(J,k,cA,lA)),[3,6];case 5:$l(l)?(m=Wn(A,n,[null,null,null]),J=m[0],cA=m[1],lA=m[2],N=m[3],eA=m[4],h=Rl(l.angle,N,eA),H=h[0],U=h[1],F=h[2],T=h[3],D=h[4],S=document.createElement("canvas"),S.width=N,S.height=eA,v=S.getContext("2d"),K=v.createLinearGradient(U,T,F,D),wa(l.stops,H).forEach(function(OA){return K.addColorStop(OA.stop,rA(OA.color))}),v.fillStyle=K,v.fillRect(0,0,N,eA),N>0&&eA>0&&(k=a.ctx.createPattern(S,"repeat"),a.renderRepeat(J,k,cA,lA))):Yl(l)&&(L=Wn(A,n,[null,null,null]),J=L[0],oA=L[1],nA=L[2],N=L[3],eA=L[4],xA=l.position.length===0?[yr]:l.position,cA=X(xA[0],N),lA=X(xA[xA.length-1],eA),MA=Nl(l,cA,lA,N,eA),mA=MA[0],KA=MA[1],mA>0&&KA>0&&(SA=a.ctx.createRadialGradient(oA+cA,nA+lA,0,oA+cA,nA+lA,mA),wa(l.stops,mA*2).forEach(function(OA){return SA.addColorStop(OA.stop,rA(OA.color))}),a.path(J),a.ctx.fillStyle=SA,mA!==KA?(GA=A.bounds.left+.5*A.bounds.width,DA=A.bounds.top+.5*A.bounds.height,VA=KA/mA,gA=1/VA,a.ctx.save(),a.ctx.translate(GA,DA),a.ctx.transform(1,0,0,VA,0,0),a.ctx.translate(-GA,-DA),a.ctx.fillRect(oA,gA*(nA-DA)+DA,N,eA*gA),a.ctx.restore()):a.ctx.fill())),kA.label=6;case 6:return n--,[2]}})},a=this,s=0,i=A.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return s<i.length?(o=i[s],[5,r(o)]):[3,4];case 2:c.sent(),c.label=3;case 3:return s++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(A,n,r){return hA(this,void 0,void 0,function(){return dA(this,function(a){return this.path(qa(r,n)),this.ctx.fillStyle=rA(A),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(A,n,r,a){return hA(this,void 0,void 0,function(){var s,i;return dA(this,function(o){switch(o.label){case 0:return n<3?[4,this.renderSolidBorder(A,r,a)]:[3,2];case 1:return o.sent(),[2];case 2:return s=qB(a,r),this.path(s),this.ctx.fillStyle=rA(A),this.ctx.fill(),i=WB(a,r),this.path(i),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(A){return hA(this,void 0,void 0,function(){var n,r,a,s,i,o,c,l,B=this;return dA(this,function(g){switch(g.label){case 0:return this.applyEffects(A.getEffects(2)),n=A.container.styles,r=!ne(n.backgroundColor)||n.backgroundImage.length,a=[{style:n.borderTopStyle,color:n.borderTopColor,width:n.borderTopWidth},{style:n.borderRightStyle,color:n.borderRightColor,width:n.borderRightWidth},{style:n.borderBottomStyle,color:n.borderBottomColor,width:n.borderBottomWidth},{style:n.borderLeftStyle,color:n.borderLeftColor,width:n.borderLeftWidth}],s=ig(Fe(n.backgroundClip,0),A.curves),r||n.boxShadow.length?(this.ctx.save(),this.path(s),this.ctx.clip(),ne(n.backgroundColor)||(this.ctx.fillStyle=rA(n.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(A.container)]):[3,2];case 1:g.sent(),this.ctx.restore(),n.boxShadow.slice(0).reverse().forEach(function(w){B.ctx.save();var m=An(A.curves),h=w.inset?0:rg,H=JB(m,-h+(w.inset?1:-1)*w.spread.number,(w.inset?1:-1)*w.spread.number,w.spread.number*(w.inset?-2:2),w.spread.number*(w.inset?-2:2));w.inset?(B.path(m),B.ctx.clip(),B.mask(H)):(B.mask(m),B.ctx.clip(),B.path(H)),B.ctx.shadowOffsetX=w.offsetX.number+h,B.ctx.shadowOffsetY=w.offsetY.number,B.ctx.shadowColor=rA(w.color),B.ctx.shadowBlur=w.blur.number,B.ctx.fillStyle=w.inset?rA(w.color):"rgba(0,0,0,1)",B.ctx.fill(),B.ctx.restore()}),g.label=2;case 2:i=0,o=0,c=a,g.label=3;case 3:return o<c.length?(l=c[o],l.style!==0&&!ne(l.color)&&l.width>0?l.style!==2?[3,5]:[4,this.renderDashedDottedBorder(l.color,l.width,i,A.curves,2)]:[3,11]):[3,13];case 4:return g.sent(),[3,11];case 5:return l.style!==3?[3,7]:[4,this.renderDashedDottedBorder(l.color,l.width,i,A.curves,3)];case 6:return g.sent(),[3,11];case 7:return l.style!==4?[3,9]:[4,this.renderDoubleBorder(l.color,l.width,i,A.curves)];case 8:return g.sent(),[3,11];case 9:return[4,this.renderSolidBorder(l.color,i,A.curves)];case 10:g.sent(),g.label=11;case 11:i++,g.label=12;case 12:return o++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(A,n,r,a,s){return hA(this,void 0,void 0,function(){var i,o,c,l,B,g,w,m,h,H,U,F,T,D,S,v,S,v;return dA(this,function(K){return this.ctx.save(),i=zB(a,r),o=qa(a,r),s===2&&(this.path(o),this.ctx.clip()),EA(o[0])?(c=o[0].start.x,l=o[0].start.y):(c=o[0].x,l=o[0].y),EA(o[1])?(B=o[1].end.x,g=o[1].end.y):(B=o[1].x,g=o[1].y),r===0||r===2?w=Math.abs(c-B):w=Math.abs(l-g),this.ctx.beginPath(),s===3?this.formatPath(i):this.formatPath(o.slice(0,2)),m=n<3?n*3:n*2,h=n<3?n*2:n,s===3&&(m=n,h=n),H=!0,w<=m*2?H=!1:w<=m*2+h?(U=w/(2*m+h),m*=U,h*=U):(F=Math.floor((w+h)/(m+h)),T=(w-F*m)/(F-1),D=(w-(F+1)*m)/F,h=D<=0||Math.abs(h-T)<Math.abs(h-D)?T:D),H&&(s===3?this.ctx.setLineDash([0,m+h]):this.ctx.setLineDash([m,h])),s===3?(this.ctx.lineCap="round",this.ctx.lineWidth=n):this.ctx.lineWidth=n*2+1.1,this.ctx.strokeStyle=rA(A),this.ctx.stroke(),this.ctx.setLineDash([]),s===2&&(EA(o[0])&&(S=o[3],v=o[0],this.ctx.beginPath(),this.formatPath([new y(S.end.x,S.end.y),new y(v.start.x,v.start.y)]),this.ctx.stroke()),EA(o[1])&&(S=o[1],v=o[2],this.ctx.beginPath(),this.formatPath([new y(S.end.x,S.end.y),new y(v.start.x,v.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(A){return hA(this,void 0,void 0,function(){var n;return dA(this,function(r){switch(r.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=rA(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),n=XB(A),[4,this.renderStack(n)];case 1:return r.sent(),this.applyEffects([]),[2,this.canvas]}})})},e})(fi),sg=function(t){return t instanceof Zs||t instanceof zs?!0:t instanceof Hr&&t.type!==zt&&t.type!==Wt},ig=function(t,e){switch(t){case 0:return An(e);case 2:return PB(e);default:return en(e)}},og=function(t){switch(t){case 1:return"center";case 2:return"right";default:return"left"}},cg=["-apple-system","system-ui"],lg=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return cg.indexOf(e)===-1}):t},dg=(function(t){TA(e,t);function e(A,n){var r=t.call(this,A,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return e.prototype.render=function(A){return hA(this,void 0,void 0,function(){var n,r;return dA(this,function(a){switch(a.label){case 0:return n=fr(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,A),[4,ug(n)];case 1:return r=a.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=rA(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(r,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e})(fi),ug=function(t){return new Promise(function(e,A){var n=new Image;n.onload=function(){e(n)},n.onerror=A,n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Bg=(function(){function t(e){var A=e.id,n=e.enabled;this.id=A,this.enabled=n,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,mt([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,mt([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,mt([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],A=0;A<arguments.length;A++)e[A]=arguments[A];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,mt([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t})(),gg=(function(){function t(e,A){var n;this.windowBounds=A,this.instanceName="#"+t.instanceCount++,this.logger=new Bg({id:this.instanceName,enabled:e.logging}),this.cache=(n=e.cache)!==null&&n!==void 0?n:new TB(this,e)}return t.instanceCount=1,t})(),fg=function(t,e){return e===void 0&&(e={}),hg(t,e)};typeof window<"u"&&ci.setContext(window);var hg=function(t,e){return hA(void 0,void 0,void 0,function(){var A,n,r,a,s,i,o,c,l,B,g,w,m,h,H,U,F,T,D,S,K,v,K,k,L,J,oA,nA,N,eA,xA,cA,lA,MA,mA,KA,SA,GA,DA,VA;return dA(this,function(gA){switch(gA.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(A=t.ownerDocument,!A)throw new Error("Element is not attached to a Document");if(n=A.defaultView,!n)throw new Error("Document is not attached to a Window");return r={allowTaint:(k=e.allowTaint)!==null&&k!==void 0?k:!1,imageTimeout:(L=e.imageTimeout)!==null&&L!==void 0?L:15e3,proxy:e.proxy,useCORS:(J=e.useCORS)!==null&&J!==void 0?J:!1},a=Ar({logging:(oA=e.logging)!==null&&oA!==void 0?oA:!0,cache:e.cache},r),s={windowWidth:(nA=e.windowWidth)!==null&&nA!==void 0?nA:n.innerWidth,windowHeight:(N=e.windowHeight)!==null&&N!==void 0?N:n.innerHeight,scrollX:(eA=e.scrollX)!==null&&eA!==void 0?eA:n.pageXOffset,scrollY:(xA=e.scrollY)!==null&&xA!==void 0?xA:n.pageYOffset},i=new qA(s.scrollX,s.scrollY,s.windowWidth,s.windowHeight),o=new gg(a,i),c=(cA=e.foreignObjectRendering)!==null&&cA!==void 0?cA:!1,l={allowTaint:(lA=e.allowTaint)!==null&&lA!==void 0?lA:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},o.logger.debug("Starting document clone with size "+i.width+"x"+i.height+" scrolled to "+-i.left+","+-i.top),B=new Ya(o,t,l),g=B.clonedReferenceElement,g?[4,B.toIFrame(A,i)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return w=gA.sent(),m=xr(g)||pB(g)?Jo(g.ownerDocument):on(o,g),h=m.width,H=m.height,U=m.left,F=m.top,T=pg(o,g,e.backgroundColor),D={canvas:e.canvas,backgroundColor:T,scale:(mA=(MA=e.scale)!==null&&MA!==void 0?MA:n.devicePixelRatio)!==null&&mA!==void 0?mA:1,x:((KA=e.x)!==null&&KA!==void 0?KA:0)+U,y:((SA=e.y)!==null&&SA!==void 0?SA:0)+F,width:(GA=e.width)!==null&&GA!==void 0?GA:Math.ceil(h),height:(DA=e.height)!==null&&DA!==void 0?DA:Math.ceil(H)},c?(o.logger.debug("Document cloned, using foreign object rendering"),K=new dg(o,D),[4,K.render(g)]):[3,3];case 2:return S=gA.sent(),[3,5];case 3:return o.logger.debug("Document cloned, element located at "+U+","+F+" with size "+h+"x"+H+" using computed rendering"),o.logger.debug("Starting DOM parsing"),v=ei(o,g),T===v.styles.backgroundColor&&(v.styles.backgroundColor=XA.TRANSPARENT),o.logger.debug("Starting renderer for element at "+D.x+","+D.y+" with size "+D.width+"x"+D.height),K=new ag(o,D),[4,K.render(v)];case 4:S=gA.sent(),gA.label=5;case 5:return(!((VA=e.removeContainer)!==null&&VA!==void 0)||VA)&&(Ya.destroy(w)||o.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),o.logger.debug("Finished rendering"),[2,S]}})})},pg=function(t,e,A){var n=e.ownerDocument,r=n.documentElement?At(t,getComputedStyle(n.documentElement).backgroundColor):XA.TRANSPARENT,a=n.body?At(t,getComputedStyle(n.body).backgroundColor):XA.TRANSPARENT,s=typeof A=="string"?At(t,A):A===null?XA.TRANSPARENT:4294967295;return e===n.documentElement?ne(r)?ne(a)?s:a:r:s};class wg{constructor(e){if(this.matchType=UA(e.type),this.resultData=window.appState.tarotInterpretResult||null,!this.matchType||!this.resultData){window.router.navigate("/");return}}render(){if(!this.resultData)return"";const{question:e,simpleVersion:A,lunarDate:n}=this.resultData;return`
      <div class="page tarot-result-page">
        ${aA({title:"è§£è¯»ç»“æœ",showBack:!0,showHistory:!1,showProfile:!1})}
        
        <main class="page-content">
          <div class="app-container">
            
            <!-- å¯æˆªå›¾åŒºåŸŸ -->
            <div id="resultCaptureArea">
              <!-- é—®é¢˜å¡ç‰‡ -->
              <section class="result-question-card animate-fade-in-up">
                <div class="result-question-label">åŒ¹é…äº‹é¡¹</div>
                <div class="result-question-title">${e}</div>
                ${n?`<div class="result-question-date">${n}</div>`:""}
              </section>

              <!-- è§£è¯»å†…å®¹å¡ç‰‡ -->
              <section class="result-interpretation-card animate-fade-in-up animate-delay-50">
                <div class="result-interpretation-header">
                  <span class="result-interpretation-icon">ğŸ’¡</span>
                  <span class="result-interpretation-title">è§£è¯»</span>
                </div>
                
                <div class="result-interpretation-content" id="resultContent">
                  ${this.formatContent(A)}
                </div>
              </section>

              <div class="result-disclaimer">
                ä»…ä¾›å¨±ä¹å‚è€ƒï¼Œä¸ä½œä¸ºä»»ä½•å†³ç­–ä¾æ®
              </div>
            </div>

            <!-- æŒ‰é’®æ ï¼ˆå†…åµŒåœ¨å†…å®¹åŒºï¼‰ -->
            <div class="result-bottom-bar">
              <button class="result-bottom-btn result-bottom-btn--restart" id="btnRestart">
                <span class="result-bottom-btn-icon">ğŸ”„</span>
                <span>é‡æ–°å¼€å§‹</span>
              </button>
              <button class="result-bottom-btn result-bottom-btn--save" id="btnSave">
                <span class="result-bottom-btn-icon">ğŸ’¾</span>
                <span>ä¿å­˜</span>
              </button>
            </div>

            <div class="safe-area-bottom"></div>
          </div>
        </main>
      </div>
    `}formatContent(e){return e?e.split(`
`).filter(A=>A.trim()).map(A=>`<p>${A}</p>`).join(""):"<p>æš‚æ— è§£è¯»å†…å®¹</p>"}attachEvents(){const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{window.router.navigate("/")});const A=document.getElementById("btnRestart");A&&A.addEventListener("click",()=>{delete window.appState.tarotInterpretResult,delete window.appState.divinationResult,window.appState.set&&window.appState.set("selectedCards",null),window.appState.set&&window.appState.set("yaos",null),window.appState.set&&window.appState.set("guaData",null),window.router.navigate("/")});const n=document.getElementById("btnSave");n&&n.addEventListener("click",()=>{this.handleSaveImage()})}async handleSaveImage(){const e=document.getElementById("resultCaptureArea");if(!e){window.showToast("ä¿å­˜å¤±è´¥","error");return}const A=document.getElementById("btnSave");A&&(A.disabled=!0,A.querySelector("span:last-child").textContent="ä¿å­˜ä¸­...");try{e.classList.add("capture-mode"),await new Promise(a=>setTimeout(a,50));const n=await fg(e,{backgroundColor:null,scale:2,useCORS:!0,logging:!1,windowWidth:e.scrollWidth,windowHeight:e.scrollHeight});e.classList.remove("capture-mode");const r=document.createElement("a");r.download=`å¡”ç½—è§£è¯»_${new Date().toLocaleDateString("zh-CN").replace(/\//g,"-")}.png`,r.href=n.toDataURL("image/png"),document.body.appendChild(r),r.click(),document.body.removeChild(r),window.showToast("å›¾ç‰‡å·²ä¿å­˜","success")}catch(n){console.error("ä¿å­˜å›¾ç‰‡å¤±è´¥:",n),window.showToast("ä¿å­˜å¤±è´¥ï¼Œè¯·é‡è¯•","error"),e.classList.remove("capture-mode")}finally{A&&(A.disabled=!1,A.querySelector("span:last-child").textContent="ä¿å­˜")}}}const mg="modulepreload",Cg=function(t){return"/"+t},za={},vg=function(e,A,n){let r=Promise.resolve();if(A&&A.length>0){let c=function(l){return Promise.all(l.map(B=>Promise.resolve(B).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var s=c;document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=i?.nonce||i?.getAttribute("nonce");r=c(A.map(l=>{if(l=Cg(l),l in za)return;za[l]=!0;const B=l.endsWith(".css"),g=B?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${g}`))return;const w=document.createElement("link");if(w.rel=B?"stylesheet":mg,B||(w.as="script"),w.crossOrigin="",w.href=l,o&&w.setAttribute("nonce",o),document.head.appendChild(w),B)return new Promise((m,h)=>{w.addEventListener("load",m),w.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return r.then(i=>{for(const o of i||[])o.status==="rejected"&&a(o.reason);return e().catch(a)})},Se=[{index:0,name:"ç”²",element:"æœ¨",nature:"é˜³",color:"#4CAF50"},{index:1,name:"ä¹™",element:"æœ¨",nature:"é˜´",color:"#8BC34A"},{index:2,name:"ä¸™",element:"ç«",nature:"é˜³",color:"#F44336"},{index:3,name:"ä¸",element:"ç«",nature:"é˜´",color:"#E91E63"},{index:4,name:"æˆŠ",element:"åœŸ",nature:"é˜³",color:"#795548"},{index:5,name:"å·±",element:"åœŸ",nature:"é˜´",color:"#A1887F"},{index:6,name:"åºš",element:"é‡‘",nature:"é˜³",color:"#FFD700"},{index:7,name:"è¾›",element:"é‡‘",nature:"é˜´",color:"#FFC107"},{index:8,name:"å£¬",element:"æ°´",nature:"é˜³",color:"#2196F3"},{index:9,name:"ç™¸",element:"æ°´",nature:"é˜´",color:"#03A9F4"}],De=[{index:0,name:"å­",element:"æ°´",nature:"é˜³",animal:"é¼ "},{index:1,name:"ä¸‘",element:"åœŸ",nature:"é˜´",animal:"ç‰›"},{index:2,name:"å¯…",element:"æœ¨",nature:"é˜³",animal:"è™"},{index:3,name:"å¯",element:"æœ¨",nature:"é˜´",animal:"å…”"},{index:4,name:"è¾°",element:"åœŸ",nature:"é˜³",animal:"é¾™"},{index:5,name:"å·³",element:"ç«",nature:"é˜´",animal:"è›‡"},{index:6,name:"åˆ",element:"ç«",nature:"é˜³",animal:"é©¬"},{index:7,name:"æœª",element:"åœŸ",nature:"é˜´",animal:"ç¾Š"},{index:8,name:"ç”³",element:"é‡‘",nature:"é˜³",animal:"çŒ´"},{index:9,name:"é…‰",element:"é‡‘",nature:"é˜´",animal:"é¸¡"},{index:10,name:"æˆŒ",element:"åœŸ",nature:"é˜³",animal:"ç‹—"},{index:11,name:"äº¥",element:"æ°´",nature:"é˜´",animal:"çŒª"}],ze={æœ¨:{generates:"ç«",overcomes:"åœŸ",generatedBy:"æ°´",overcomedBy:"é‡‘",color:"#4CAF50",emoji:"ğŸŒ³"},ç«:{generates:"åœŸ",overcomes:"é‡‘",generatedBy:"æœ¨",overcomedBy:"æ°´",color:"#F44336",emoji:"ğŸ”¥"},åœŸ:{generates:"é‡‘",overcomes:"æ°´",generatedBy:"ç«",overcomedBy:"æœ¨",color:"#795548",emoji:"ğŸ”ï¸"},é‡‘:{generates:"æ°´",overcomes:"æœ¨",generatedBy:"åœŸ",overcomedBy:"ç«",color:"#FFD700",emoji:"ğŸ”¶"},æ°´:{generates:"æœ¨",overcomes:"ç«",generatedBy:"é‡‘",overcomedBy:"åœŸ",color:"#2196F3",emoji:"ğŸ’§"}},Qr=[{name:"ç«‹æ˜¥",month:1,day:4},{name:"æƒŠè›°",month:2,day:6},{name:"æ¸…æ˜",month:3,day:5},{name:"ç«‹å¤",month:4,day:6},{name:"èŠ’ç§",month:5,day:6},{name:"å°æš‘",month:6,day:7},{name:"ç«‹ç§‹",month:7,day:8},{name:"ç™½éœ²",month:8,day:8},{name:"å¯’éœ²",month:9,day:9},{name:"ç«‹å†¬",month:10,day:8},{name:"å¤§é›ª",month:11,day:7},{name:"å°å¯’",month:12,day:6}];function Qg(t,e,A){const n=Qr[0];(e<n.month+1||e===n.month+1&&A<n.day)&&(t-=1);const r=(t-4)%10,a=(t-4)%12;return{tiangan:Se[r],dizhi:De[a],ganzhi:Se[r].name+De[a].name}}function Fg(t,e,A){let n=e-1;for(let c=Qr.length-1;c>=0;c--){const l=Qr[c];if(e>l.month+1||e===l.month+1&&A>=l.day){n=c;break}}n===11&&e===1&&(t-=1);const r=(t-4)%10,i=([2,4,6,8,0][r%5]+n)%10,o=(n+2)%12;return{tiangan:Se[i],dizhi:De[o],ganzhi:Se[i].name+De[o].name}}function Ug(t,e,A){const n=new Date(1900,0,31),a=new Date(t,e-1,A).getTime()-n.getTime(),s=Math.floor(a/(1e3*60*60*24)),i=(s%10+10)%10,o=(s%12+12)%12;return{tiangan:Se[i],dizhi:De[o],ganzhi:Se[i].name+De[o].name}}function Za(t){const e=new Date(t),A=e.getFullYear(),n=e.getMonth()+1,r=e.getDate(),a=Qg(A,n,r),s=Fg(A,n,r),i=Ug(A,n,r);return{year:a,month:s,day:i,fullName:`${a.ganzhi} ${s.ganzhi} ${i.ganzhi}`,elements:yg(a,s,i)}}function yg(t,e,A){const n={é‡‘:0,æœ¨:0,æ°´:0,ç«:0,åœŸ:0};[t,e,A].forEach(s=>{n[s.tiangan.element]+=1,n[s.dizhi.element]+=1});let r={element:"",count:0},a={element:"",count:1/0};return Object.entries(n).forEach(([s,i])=>{i>r.count&&(r={element:s,count:i}),i<a.count&&(a={element:s,count:i})}),{distribution:n,strongest:r,weakest:a,yongshen:a.element}}function bg(t,e){const A={score:0,details:[],conclusion:""};Eg(t.day.tiangan.name,e.day.tiangan.name).isHe&&(A.score+=10,A.details.push({type:"positive",title:"æ—¥å¹²ç›¸åˆ",description:`${t.day.tiangan.name}${e.day.tiangan.name}ç›¸åˆï¼Œæ€§æ ¼ç‰¹è´¨é«˜åº¦å¥‘åˆ`})),Ig(t.year.dizhi.name,e.year.dizhi.name).isLiuhe&&(A.score+=8,A.details.push({type:"positive",title:"å¹´æ”¯å…­åˆ",description:`${t.year.dizhi.name}${e.year.dizhi.name}å…­åˆï¼Œå®¶åº­èƒŒæ™¯èæ´½`}));const a=Hg(t.elements,e.elements);A.score+=a.score,A.details.push(...a.details);const s=xg(t,e);return A.score-=s.penalty,A.details.push(...s.details),A.score=Math.max(0,Math.min(100,A.score+50)),A.conclusion=Sg(A.score,A.details),A}function Eg(t,e){const A={ç”²å·±:"åœŸ",å·±ç”²:"åœŸ",ä¹™åºš:"é‡‘",åºšä¹™:"é‡‘",ä¸™è¾›:"æ°´",è¾›ä¸™:"æ°´",ä¸å£¬:"æœ¨",å£¬ä¸:"æœ¨",æˆŠç™¸:"ç«",ç™¸æˆŠ:"ç«"},n=t+e;return{isHe:n in A,element:A[n]||null}}function Ig(t,e){const A={å­ä¸‘:"åœŸ",ä¸‘å­:"åœŸ",å¯…äº¥:"æœ¨",äº¥å¯…:"æœ¨",å¯æˆŒ:"ç«",æˆŒå¯:"ç«",è¾°é…‰:"é‡‘",é…‰è¾°:"é‡‘",å·³ç”³:"æ°´",ç”³å·³:"æ°´",åˆæœª:"åœŸ",æœªåˆ:"åœŸ"},n=t+e;return{isLiuhe:n in A,element:A[n]||null}}function Hg(t,e){const A={score:0,details:[]},n=t.weakest.element,r=e.weakest.element,a=t.strongest.element,s=e.strongest.element;return n===s&&(A.score+=8,A.details.push({type:"positive",title:"äº”è¡Œäº’è¡¥",description:`å¯¹æ–¹${ze[s].emoji}${s}å¯ä»¥å¼¥è¡¥ä½ ${ze[n].emoji}${n}çš„ä¸è¶³`})),r===a&&(A.score+=8,A.details.push({type:"positive",title:"äº”è¡Œäº’è¡¥",description:`ä½ çš„${ze[a].emoji}${a}å¯ä»¥å¼¥è¡¥å¯¹æ–¹${ze[r].emoji}${r}çš„ä¸è¶³`})),A}function xg(t,e){const A={penalty:0,details:[]},n=["å­åˆ","ä¸‘æœª","å¯…ç”³","å¯é…‰","è¾°æˆŒ","å·³äº¥"];return[{pillarsA:t.year,pillarsB:e.year,name:"å¹´æŸ±"},{pillarsA:t.day,pillarsB:e.day,name:"æ—¥æŸ±"}].forEach(({pillarsA:a,pillarsB:s,name:i})=>{const o=a.dizhi.name+s.dizhi.name,c=s.dizhi.name+a.dizhi.name;(n.includes(o)||n.includes(c))&&(A.penalty+=5,A.details.push({type:"negative",title:`${i}ç›¸å†²`,description:`${a.dizhi.name}${s.dizhi.name}ç›¸å†²ï¼Œå¯èƒ½ä¼šæœ‰æ„è§åˆ†æ­§`}))}),A}function Sg(t,e){const A=e.filter(r=>r.type==="positive").length,n=e.filter(r=>r.type==="negative").length;return t>=80?"Aå’ŒBäº’åˆ©ï¼šåŒæ–¹æ€§æ ¼ç‰¹è´¨é«˜åº¦å¥‘åˆï¼Œéå¸¸é€‚åˆå»ºç«‹è‰¯å¥½å…³ç³»ã€‚":t>=60?A>n?"Aåˆ©Bï¼ŒBä¸åˆ©Aï¼šä½ åœ¨è¿™æ®µå…³ç³»ä¸­ä»˜å‡ºè¾ƒå¤šï¼Œä½†æ•´ä½“æ˜¯ç§¯æçš„ã€‚":"Aä¸åˆ©Bï¼ŒBåˆ©Aï¼šå¯¹æ–¹åœ¨è¿™æ®µå…³ç³»ä¸­è·ç›Šæ›´å¤šã€‚":t>=40?"Aå’ŒBç›¸äº’ä¸åˆ©ï¼šåŒæ–¹æ€§æ ¼æœ‰ä¸€å®šå·®å¼‚ï¼Œéœ€è¦æ›´å¤šåŒ…å®¹å’Œç†è§£ã€‚":"Aå’ŒBç›¸äº’ä¸åˆ©ï¼šåˆ†ææ˜¾ç¤ºåŒæ–¹å·®å¼‚è¾ƒå¤§ï¼Œå»ºè®®è°¨æ…è€ƒè™‘ã€‚"}function Dg(t,e,A=50){return new Promise(n=>{let r=0;t.textContent="";const a=setInterval(()=>{r<e.length?(t.textContent+=e.charAt(r),r++):(clearInterval(a),n())},A)})}class Lg{constructor(e){if(this.method=e.id,this.testData=window.appState.get("currentTest"),!this.testData){window.router.navigate("/");return}this.matchType=UA(this.testData.type),this.result=null,this.isAnalyzing=!0,this.streamContent="",this.useAiAnalysis=!0,this.isStreamComplete=!1,this.isInitialized=!1,this.abortController=null}render(){return`
      <div class="page result-page">
        ${aA({title:"åˆ†æç»“æœ",showBack:!0,showHistory:!1,showProfile:!1})}
        
        <main class="page-content">
          <div class="app-container">
            
            <!-- åŒ¹é…ç±»å‹æ ‡é¢˜ -->
            <section class="result-header mt-4 mb-6 animate-fade-in-up">
              <div class="glass-card text-center">
                <span class="result-header__icon">${this.matchType?.icon||"âœ¨"}</span>
                <h2 class="heading-2 mb-1">${this.matchType?.title||"åŒ¹é…åˆ†æ"}</h2>
                <p class="small-text" style="color: var(--color-text-tertiary);">
                  ${this.method==="birthday"?"ç”Ÿæ—¥åŒ¹é…åˆ†æ":"ç›´è§‰å¡”ç½—åˆ†æ"}
                </p>
              </div>
            </section>

            <!-- åˆ†æä¸­çŠ¶æ€ -->
            <section class="analysis-section" id="analysis-container">
              ${this.isAnalyzing?this.renderAnalyzing():this.renderResult()}
            </section>

          </div>
        </main>

        <!-- åº•éƒ¨æ“ä½œæ  -->
        ${this.renderBottomBar()}
      </div>
    `}renderAnalyzing(){return`
      <div class="analyzing-state animate-fade-in-up">
        <!-- AIå¤´åƒæ¶ˆæ¯ -->
        <div class="message message--ai">
          <div class="message__avatar">âœ¨</div>
          <div class="message__bubble">
            <div class="loading-dots">
              <span class="loading-dots__dot"></span>
              <span class="loading-dots__dot"></span>
              <span class="loading-dots__dot"></span>
            </div>
          </div>
        </div>
        
        <div class="analyzing-tips text-center mt-6">
          <p class="body-text-secondary" id="analyzing-text">æ­£åœ¨åˆ†æä¸­...</p>
          <div class="analyzing-steps mt-4">
            <div class="step-item active" data-step="1">
              <span class="step-icon">ğŸ“Š</span>
              <span>æ”¶é›†ä¿¡æ¯</span>
            </div>
            <div class="step-item" data-step="2">
              <span class="step-icon">ğŸ§®</span>
              <span>ç‰¹è´¨è®¡ç®—</span>
            </div>
            <div class="step-item" data-step="3">
              <span class="step-icon">ğŸ¤–</span>
              <span>åˆ†æä¸­</span>
            </div>
            <div class="step-item" data-step="4">
              <span class="step-icon">ğŸ“</span>
              <span>ç”ŸæˆæŠ¥å‘Š</span>
            </div>
          </div>
        </div>
      </div>
    `}renderResult(){if(!this.result&&!this.streamContent)return"";if(this.useAiAnalysis&&this.method==="birthday")return this.renderAiResult();const{score:e,conclusion:A,details:n,personA:r,personB:a}=this.result;return this.getConclusionType(e),`
      <div class="result-content animate-fade-in-up">
        <!-- åŒ¹é…åˆ†æ•° -->
        <div class="glass-card score-card mb-4">
          <div class="score-circle-container">
            <svg class="score-circle" viewBox="0 0 100 100">
              <defs>
                <linearGradient id="scoreGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                  <stop offset="0%" style="stop-color:#8B7FD8"/>
                  <stop offset="100%" style="stop-color:#FFB5D8"/>
                </linearGradient>
              </defs>
              <circle 
                class="score-circle__track" 
                cx="50" cy="50" r="45"
                fill="none" stroke-width="8"
              />
              <circle 
                class="score-circle__fill progress-ring__circle" 
                cx="50" cy="50" r="45"
                fill="none" stroke-width="8"
                stroke="url(#scoreGradient)"
                stroke-dasharray="${e*2.83} 283"
                transform="rotate(-90 50 50)"
              />
            </svg>
            <!-- åˆ†æ•°æ˜¾ç¤ºåœ¨åœ†åœˆä¸­é—´ -->
            <div class="score-value">
              <span class="score-number-gradient">${e}</span>
              <span class="score-unit-gradient">%</span>
            </div>
          </div>
          <p class="score-label">åŒ¹é…åº¦</p>
        </div>

        <!-- ç»“è®ºå¡ç‰‡ -->
        <div class="glass-card conclusion-card-simple mb-4">
          <p class="body-text">${A}</p>
        </div>

        <!-- è¯¦ç»†åˆ†æ -->
        <div class="glass-card details-card mb-4">
          <h4 class="heading-3 mb-4">ğŸ“‹ è¯¦ç»†åˆ†æ</h4>
          
          ${this.method==="birthday"?this.renderBaziDetails():this.renderHexagramDetails()}
          
          <div class="analysis-points mt-4">
            ${n.map(s=>`
              <div class="analysis-point ${s.type}">
                <span class="point-icon">${s.type==="positive"?"âœ…":"âš ï¸"}</span>
                <div class="point-content">
                  <p class="point-title">${s.title}</p>
                  <p class="point-description">${s.description}</p>
                </div>
              </div>
            `).join("")}
          </div>
        </div>

        <!-- æ¸©é¦¨æç¤º -->
        <div class="glass-card suggestion-card mb-4">
          <h4 class="heading-3 mb-3">ğŸ’¡ æ¸©é¦¨æç¤º</h4>
          <div class="suggestion-content" id="suggestion-text">
            ${this.result.suggestion||""}
          </div>
        </div>

        <!-- åˆ†äº«æç¤º -->
        <div class="glass-card glass-card--light share-prompt mb-4">
          <p class="small-text text-center">
            ğŸ“± åˆ†äº«ç»™å¥½å‹ï¼Œé‚€è¯·TAä¸€èµ·æµ‹è¯•
          </p>
        </div>
      </div>
    `}renderBaziDetails(){const{personA:e,personB:A,pillarsA:n,pillarsB:r}=this.result;return!n||!r?"":`
      <div class="bazi-comparison">
        <!-- äººç‰©A -->
        <div class="person-bazi">
          <div class="person-header">
            <span class="person-avatar">${e.gender==="male"?"ğŸ‘¨":"ğŸ‘©"}</span>
            <span class="person-name">${e.name||"ä½ "}</span>
          </div>
          <div class="pillars-display">
            ${this.renderPillars(n)}
          </div>
          <div class="elements-display">
            ${this.renderElements(n.elements)}
          </div>
        </div>
        
        <div class="vs-divider">
          <span>VS</span>
        </div>
        
        <!-- äººç‰©B -->
        <div class="person-bazi">
          <div class="person-header">
            <span class="person-avatar">${A.gender==="male"?"ğŸ‘¨":"ğŸ‘©"}</span>
            <span class="person-name">${A.name||"å¯¹æ–¹"}</span>
          </div>
          <div class="pillars-display">
            ${this.renderPillars(r)}
          </div>
          <div class="elements-display">
            ${this.renderElements(r.elements)}
          </div>
        </div>
      </div>
    `}renderPillars(e){return`
      <div class="pillars-row">
        <div class="pillar">
          <span class="pillar-label">å¹´æŸ±</span>
          <span class="pillar-ganzhi">${e.year.ganzhi}</span>
        </div>
        <div class="pillar">
          <span class="pillar-label">æœˆæŸ±</span>
          <span class="pillar-ganzhi">${e.month.ganzhi}</span>
        </div>
        <div class="pillar">
          <span class="pillar-label">æ—¥æŸ±</span>
          <span class="pillar-ganzhi">${e.day.ganzhi}</span>
        </div>
      </div>
    `}renderElements(e){return`
      <div class="elements-bar">
        ${Object.entries(e.distribution).map(([A,n])=>`
          <div class="element-item">
            <span class="element-emoji">${ze[A].emoji}</span>
            <span class="element-name">${A}</span>
            <span class="element-count">${n}</span>
          </div>
        `).join("")}
      </div>
    `}renderHexagramDetails(){if(this.testData.allCards&&this.testData.reading)return this.renderTarotDetails();const{hexagram:e}=this.testData;return e?`
      <div class="hexagram-display">
        <div class="hexagram-main">
          <div class="hexagram-symbol text-center">
            <span class="hexagram-icon">${e.upper?.symbol||"â˜°"}${e.lower?.symbol||"â˜·"}</span>
            <h4 class="hexagram-name">${e.name}ç¬¦å·</h4>
            <p class="hexagram-meaning">${e.meaning}</p>
          </div>
        </div>
      </div>
    `:""}renderTarotDetails(){const{allCards:e,reading:A}=this.testData;return`
      <div class="tarot-display">
        <!-- èƒ½é‡ç±»å‹ -->
        <div class="energy-type text-center mb-4">
          <span class="energy-symbol">${A.energy.symbol}</span>
          <h4 class="energy-name">${A.energy.name}</h4>
          <p class="energy-desc small-text">${A.energy.description}</p>
        </div>
        
        <!-- æŠ½å–çš„ç‰Œ -->
        <div class="tarot-cards-detail mt-4">
          <p class="small-text mb-3" style="color: var(--color-primary);">æŠ½å–çš„å¡ç‰Œï¼š</p>
          <div class="tarot-cards-grid">
            ${e.map((n,r)=>`
              <div class="tarot-card-item">
                <div class="card-header">
                  <span class="card-num">${r+1}</span>
                  <span class="card-symbol">${n.symbol}</span>
                </div>
                <div class="card-body">
                  <p class="card-name">${n.name}</p>
                  <p class="card-position ${n.isUpright?"upright":"reversed"}">${n.position}</p>
                </div>
                <p class="card-meaning small-text">${n.meaning}</p>
              </div>
            `).join("")}
          </div>
        </div>
      </div>
    `}getConclusionType(e){return e>=80?{class:"conclusion--excellent",icon:"ğŸŒŸ",title:"Aå’ŒBäº’åˆ©"}:e>=60?{class:"conclusion--good",icon:"ğŸ‘",title:e>70?"Aåˆ©Bï¼ŒBä¸åˆ©A":"Aä¸åˆ©Bï¼ŒBåˆ©A"}:e>=40?{class:"conclusion--neutral",icon:"âš–ï¸",title:"Aå’ŒBç›¸äº’ä¸åˆ©"}:{class:"conclusion--caution",icon:"âš ï¸",title:"Aå’ŒBç›¸äº’ä¸åˆ©"}}renderBottomBar(){return this.isAnalyzing?"":`
      <div class="bottom-action-bar safe-area-bottom">
        <div class="action-bar__buttons">
          <div class="btn-group-left">
            <button class="btn btn--secondary btn--sm" data-action="share">
              <span>ğŸ“¤</span> åˆ†äº«
            </button>
            <button class="btn btn--secondary btn--sm" data-action="export-png">
              <span>ğŸ–¼ï¸</span> å¯¼å‡ºç»“æœ
            </button>
          </div>
          <button class="btn btn--primary btn--sm" data-action="new-test">
            å†æµ‹ä¸€æ¬¡
          </button>
        </div>
      </div>
    `}attachEvents(){const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{window.router.navigate("/")});const A=document.querySelector('[data-action="share"]');A&&A.addEventListener("click",()=>{this.handleShare()});const n=document.querySelector('[data-action="export-png"]');n&&n.addEventListener("click",()=>{this.handleExportPng()});const r=document.querySelector('[data-action="new-test"]');r&&r.addEventListener("click",()=>{window.router.navigate("/")})}async init(){if(this.testData){if(this.isInitialized){console.log("é¡µé¢å·²åˆå§‹åŒ–ï¼Œè·³è¿‡é‡å¤åˆå§‹åŒ–");return}if(this.isInitialized=!0,this.method==="birthday"&&this.useAiAnalysis){await this.analyzeWithAi();return}await this.simulateAnalysis(),this.method==="birthday"?this.analyzeBirthday():this.analyzeHexagram(),this.isAnalyzing=!1,this.rerender(),setTimeout(()=>{const e=document.getElementById("suggestion-text");e&&this.result?.suggestion&&Dg(e,this.result.suggestion,30)},500)}}async simulateAnalysis(){const e=["1","2","3","4"],A=["æ­£åœ¨æ”¶é›†ä¿¡æ¯...","æ­£åœ¨è¿›è¡Œç‰¹è´¨è®¡ç®—...","æ­£åœ¨åˆ†æä¸­...","æ­£åœ¨ç”ŸæˆæŠ¥å‘Š..."];for(let n=0;n<e.length;n++){await this.delay(800);const r=document.getElementById("analyzing-text");r&&(r.textContent=A[n]);const a=document.querySelector(`[data-step="${e[n]}"]`);a&&a.classList.add("active")}await this.delay(500)}analyzeBirthday(){const{personA:e,personB:A}=this.testData,n=Za(e.birthDate),r=Za(A.birthDate),a=bg(n,r);this.result={personA:e,personB:A,pillarsA:n,pillarsB:r,score:a.score,conclusion:a.conclusion,details:a.details,suggestion:this.generateSuggestion(a)}}analyzeHexagram(){if(this.testData.reading){const{reading:n,allCards:r}=this.testData;this.result={allCards:r,reading:n,score:n.score,conclusion:n.reading,details:this.getTarotDetails(r),suggestion:n.reading+`

`+n.disclaimer};return}const{hexagram:e}=this.testData;if(!e){this.result={score:50,conclusion:"æ•°æ®è§£æå¼‚å¸¸ï¼Œè¯·é‡æ–°æµ‹è¯•ã€‚",details:[],suggestion:"å»ºè®®é‡æ–°è¿›è¡Œæµ‹è¯•ã€‚"};return}const A=this.calculateHexagramScore(e);this.result={hexagram:e,score:A,conclusion:this.getHexagramConclusion(e,A),details:this.getHexagramDetails(e),suggestion:this.generateHexagramSuggestion(e)}}getTarotDetails(e){const A=[],n=e.filter(a=>a.isUpright),r=e.filter(a=>!a.isUpright);return n.length>0&&A.push({type:"positive",title:`æ­£ä½ç‰Œ (${n.length}å¼ )`,description:n.map(a=>`${a.name}ï¼š${a.upright}`).join("ï¼›")}),r.length>0&&A.push({type:r.length<=3?"positive":"negative",title:`é€†ä½ç‰Œ (${r.length}å¼ )`,description:r.map(a=>`${a.name}ï¼š${a.reversed}`).join("ï¼›")}),A}calculateHexagramScore(e){const A=["ä¹¾","å¤","æ³°","åŒäºº","å¤§æœ‰","è°¦","å’¸","æ’","ç›Š","èƒ"],n=["å¦","è®¼","å‰¥","å›°","è¹‡","ç½","æ˜å¤·"];let r=60;return A.includes(e.name)?r+=20:n.includes(e.name)&&(r-=15),e.hasChanging&&(r+=e.changingPositions.length<=2?5:-5),Math.max(20,Math.min(95,r))}getHexagramConclusion(e,A){return A>=75?`${e.name}ç¬¦å·æ˜¾ç¤ºåŒæ–¹å…³ç³»ç§¯æå‘å¥½ï¼Œæœ‰äº’åˆ©å…±èµ¢çš„è¶‹åŠ¿ã€‚`:A>=55?`${e.name}ç¬¦å·æç¤ºéœ€è¦åŒæ–¹å…±åŒåŠªåŠ›ï¼Œå…³ç³»å¯ä»¥æ”¹å–„ã€‚`:`${e.name}ç¬¦å·æš—ç¤ºå½“å‰æ—¶æœºä¸å¤ªé€‚åˆï¼Œå»ºè®®è°¨æ…è¡Œäº‹ã€‚`}getHexagramDetails(e){const A=[];return A.push({type:"positive",title:`${e.name}ç¬¦å·`,description:e.meaning}),e.upper&&e.lower&&A.push({type:"positive",title:"ä¸Šä¸‹ç¬¦å·åˆ†æ",description:`ä¸Šç¬¦å·${e.upper.name}ï¼ˆ${e.upper.nature}ï¼‰ï¼Œä¸‹ç¬¦å·${e.lower.name}ï¼ˆ${e.lower.nature}ï¼‰`}),e.hasChanging&&A.push({type:e.changingPositions.length<=2?"positive":"negative",title:"å˜åŒ–åˆ†æ",description:`ç¬¬${e.changingPositions.join("ã€")}è½®ä¸ºå˜åŒ–è½®ï¼Œè¡¨ç¤ºäº‹æƒ…ä¼šæœ‰å˜åŒ–`}),A}generateSuggestion(e){const{score:A,details:n}=e;n.filter(s=>s.type==="positive");const r=n.filter(s=>s.type==="negative");let a="";return A>=80?a="è¿™æ˜¯éå¸¸å¥½çš„å¥‘åˆåº¦ï¼åŒæ–¹åœ¨æ€§æ ¼ç‰¹è´¨ä¸Šé«˜åº¦äº’è¡¥ï¼Œå»ºè®®çæƒœè¿™ä»½å…³ç³»ï¼Œå…±åŒç»´æŠ¤ã€‚æ³¨æ„ä¿æŒæ²Ÿé€šï¼Œäº’ç›¸ç†è§£å’ŒåŒ…å®¹ã€‚":A>=60?(a="æ•´ä½“å…³ç³»æ˜¯ç§¯æçš„ï¼Œä½†ä¹Ÿå­˜åœ¨ä¸€äº›éœ€è¦æ³¨æ„çš„åœ°æ–¹ã€‚",r.length>0&&(a+=`ç‰¹åˆ«æ˜¯${r[0].title}æ–¹é¢ï¼Œéœ€è¦åŒæ–¹å¤šä¸€äº›è€å¿ƒå’Œç†è§£ã€‚`),a+="åªè¦ç”¨å¿ƒç»è¥ï¼Œè¿™æ®µå…³ç³»ä¼šè¶Šæ¥è¶Šå¥½ã€‚"):A>=40?a="åŒæ–¹å­˜åœ¨ä¸€å®šçš„å·®å¼‚ï¼Œä½†å¹¶éä¸å¯è°ƒå’Œã€‚å»ºè®®ï¼š1) å¢åŠ æ²Ÿé€šé¢‘ç‡ï¼›2) å°Šé‡å¯¹æ–¹çš„å·®å¼‚ï¼›3) å¯»æ‰¾å…±åŒå…´è¶£ã€‚å¦‚æœåŒæ–¹éƒ½æ„¿æ„ä»˜å‡ºåŠªåŠ›ï¼Œå…³ç³»æ˜¯å¯ä»¥æ”¹å–„çš„ã€‚":a="ä»æ€§æ ¼åˆ†æè§’åº¦çœ‹ï¼ŒåŒæ–¹ç¡®å®å­˜åœ¨è¾ƒå¤§çš„å·®å¼‚ã€‚å»ºè®®åœ¨åšé‡è¦å†³å®šå‰ï¼Œå¤šè§‚å¯Ÿã€å¤šäº†è§£å¯¹æ–¹ã€‚å¦‚æœæ˜¯åˆä½œå…³ç³»ï¼Œå»ºè®®å¯»æ‰¾å…¶ä»–æœºä¼šï¼›å¦‚æœæ˜¯æ„Ÿæƒ…å…³ç³»ï¼Œè¯·è°¨æ…è€ƒè™‘ã€‚",a}generateHexagramSuggestion(e){return`${e.name}ç¬¦å·çš„æ ¸å¿ƒå«ä¹‰æ˜¯"${e.meaning}"ã€‚æ ¹æ®åˆ†æç»“æœæç¤ºï¼Œå½“å‰æœ€é‡è¦çš„æ˜¯ä¿æŒå¹³å’Œçš„å¿ƒæ€ï¼Œä¸è¦æ€¥äºæ±‚æˆã€‚é‡äº‹å¤šæ€è€ƒï¼Œå¬ä»å†…å¿ƒçš„æŒ‡å¼•ã€‚å¦‚æœæœ‰å˜åŒ–ï¼Œè¯´æ˜äº‹æƒ…ä¼šæœ‰è½¬æœºï¼Œä¿æŒè€å¿ƒç­‰å¾…åˆé€‚çš„æ—¶æœºã€‚`}delay(e){return new Promise(A=>setTimeout(A,e))}async analyzeWithAi(){const{personA:e,personB:A}=this.testData;this.abortController=new AbortController;const n=["1","2","3"],r=["æ­£åœ¨æ”¶é›†ä¿¡æ¯...","æ­£åœ¨è¿›è¡Œç‰¹è´¨è®¡ç®—...","æ­£åœ¨è¯·æ±‚è¿›è¡ŒåŒ¹é…åˆ†æ..."];for(let a=0;a<n.length;a++){await this.delay(600);const s=document.getElementById("analyzing-text");s&&(s.textContent=r[a]);const i=document.querySelector(`[data-step="${n[a]}"]`);i&&i.classList.add("active")}try{await Vi.birthMatchStream({partyA:e,partyB:A},{onChunk:(a,s)=>{if(this.streamContent=s,this.isAnalyzing){this.isAnalyzing=!1;const i=document.querySelector('[data-step="4"]');i&&i.classList.add("active"),this.updateToResultView()}else this.updateStreamContent()},onDone:a=>{this.streamContent=a,this.isAnalyzing=!1,this.isStreamComplete=!0,this.updateMatchRecordStatus(1,{content:a}),this.consumeRedeemCode();const s=document.getElementById("ai-stream-content");s&&(s.innerHTML=this.formatMarkdown(this.streamContent)+this.renderCompleteIndicator(),this.scrollToBottom(),setTimeout(()=>{const i=document.getElementById("stream-complete-indicator");i&&(i.style.opacity="0",setTimeout(()=>i.remove(),300))},1e3)),this.rerender()},onError:a=>{if(a.name==="AbortError"){console.log("è¯·æ±‚å·²å–æ¶ˆ");return}console.error("AI åˆ†æå¤±è´¥:",a),this.streamContent="åˆ†æå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•ï¼",this.isAnalyzing=!1,this.isStreamComplete=!0,this.updateMatchRecordStatus(2,{error:a.message||"åˆ†æå¤±è´¥"});const s=document.getElementById("stream-loading-indicator");s&&s.remove(),this.rerender()},signal:this.abortController.signal})}catch(a){if(a.name==="AbortError"){console.log("è¯·æ±‚å·²å–æ¶ˆ");return}console.error("AI åˆ†æå¤±è´¥:",a),this.streamContent="åˆ†æå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•ã€‚",this.isAnalyzing=!1,this.isStreamComplete=!0,this.updateMatchRecordStatus(2,{error:a.message||"åˆ†æå¤±è´¥"}),this.rerender()}}updateToResultView(){const e=document.getElementById("analysis-container");e&&(e.innerHTML=this.renderResult())}renderAiResult(){const{personA:e,personB:A}=this.testData;return`
      <div class="result-content animate-fade-in-up">
        <!-- åŒæ–¹ä¿¡æ¯ -->
        <div class="glass-card persons-card mb-4">
          <div class="persons-row">
            <div class="person-info">
              <span class="person-avatar">${e.gender==="ç”·"?"ğŸ‘¨":"ğŸ‘©"}</span>
              <span class="person-name">${e.name||"ä½ "}</span>
              <span class="person-birth small-text">${e.birthDate}</span>
            </div>
            <div class="vs-badge">VS</div>
            <div class="person-info">
              <span class="person-avatar">${A.gender==="ç”·"?"ğŸ‘¨":"ğŸ‘©"}</span>
              <span class="person-name">${A.name||"å¯¹æ–¹"}</span>
              <span class="person-birth small-text">${A.birthDate}</span>
            </div>
          </div>
        </div>

        <!-- AI åˆ†æç»“æœ -->
        <div class="glass-card ai-result-card mb-4">
          <h4 class="heading-3 mb-4">ğŸ¤– åˆ†ææŠ¥å‘Š</h4>
          <p class="ai-intro-text">æˆ‘å°†æ ¹æ®æ‚¨æä¾›çš„ä¿¡æ¯ï¼Œå¯¹åŒ¹é…æƒ…å†µè¿›è¡Œè¯¦ç»†åˆ†æï¼Œè¯·ç¨ç­‰...</p>
          <div class="ai-content" id="ai-stream-content">
            ${this.formatMarkdown(this.streamContent)}${this.isStreamComplete?"":this.renderLoadingIndicator()}
          </div>
        </div>

        <!-- æ¸©é¦¨æç¤º -->
        <div class="glass-card glass-card--light disclaimer-card mb-4">
          <p class="small-text text-center" style="color: var(--color-text-tertiary);">
            âš ï¸ ä»¥ä¸Šåˆ†æä»…ä¾›å¨±ä¹å‚è€ƒï¼Œä¸æ„æˆä»»ä½•å†³ç­–å»ºè®®
          </p>
        </div>
      </div>
    `}renderLoadingIndicator(){return`
      <div class="stream-loading-indicator" id="stream-loading-indicator">
        <span class="loading-dot"></span>
        <span class="loading-text">åˆ†æä¸­...</span>
      </div>
    `}updateStreamContent(){const e=document.getElementById("ai-stream-content");if(!e)return;const A=this.formatMarkdown(this.streamContent),n=this.renderLoadingIndicator(),r=document.createElement("div");r.innerHTML=A;const a=Array.from(r.children),s=Array.from(e.children).filter(i=>!i.classList.contains("stream-loading-indicator"));if(a.length>s.length){for(let o=s.length;o<a.length;o++){const c=a[o].cloneNode(!0);c.classList.add("stream-fade-in");const l=e.querySelector(".stream-loading-indicator");l?e.insertBefore(c,l):e.appendChild(c)}e.querySelector(".stream-loading-indicator")||e.insertAdjacentHTML("beforeend",n)}else if(s.length>0){const i=s[s.length-1],o=a[a.length-1];o&&i.innerHTML!==o.innerHTML&&(i.innerHTML=o.innerHTML)}else e.innerHTML=A+n;this.scrollToBottom()}renderCompleteIndicator(){return`
      <div class="stream-complete-indicator" id="stream-complete-indicator">
        <span class="complete-icon">âœ…</span>
        <span class="complete-text">å·²å®Œæˆ</span>
      </div>
    `}scrollToBottom(){const e=document.getElementById("ai-stream-content");e&&(e.scrollTop=e.scrollHeight),window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}formatMarkdown(e){return e?this.splitIntoSections(e).map((n,r)=>{const a=this.formatSectionContent(n);return a.replace(/<[^>]*>/g,"").replace(/\s+/g,"").trim()?`
        <div class="analysis-block animate-fade-in-up" style="animation-delay: ${r*.1}s;">
          ${a}
        </div>
      `:""}).filter(Boolean).join(""):""}splitIntoSections(e){const A=[];let n="";const r=e.split(`
`);for(const a of r){if(/^æ€»ç»“[ï¼š:.]?\s*$/.test(a.trim())||/^\*?\*?æ€»ç»“\*?\*?[ï¼š:.]?\s*$/.test(a.trim()))continue;/^ã€[^ã€‘]+ã€‘/.test(a)?(n.trim()&&A.push(n.trim()),n=a):n+=`
`+a}return n.trim()&&A.push(n.trim()),A.length<=1&&e.includes(`

`)?e.split(/\n\n+/).filter(a=>a.trim()):A.length>0?A:[e]}formatSectionContent(e){const A=r=>r.includes("ç¬¬ä¸€æ­¥")||r.includes("åæ ‡")||r.includes("ç¡®ç«‹")?"ğŸ“":r.includes("ç¬¬äºŒæ­¥")||r.includes("è¾“å‡º")||r.includes("åˆ¤å®š")?"ğŸ”":r.includes("ç¬¬ä¸‰æ­¥")||r.includes("æ‰“åˆ†")||r.includes("é‡åŒ–")?"â­":r.includes("ç¬¬å››æ­¥")||r.includes("åˆ¤è¯")||r.includes("ç»“è®º")||r.includes("ç»¼åˆ")?"ğŸ¯":r.includes("éœ€æ±‚")||r.includes("ç”¨ç¥")||r.includes("æ¸…å•")?"ğŸ“‹":r.includes("èµ„äº§")||r.includes("æ ¸å®š")?"ğŸ’":r.includes("è¯„åˆ†")||r.includes("ç»†åˆ™")?"â­":r.includes("å»ºè®®")||r.includes("æç¤º")?"ğŸ’¡":r.includes("ç”²æ–¹")||r.includes("ä¹™æ–¹")?"":"ğŸ“Œ";let n=e.replace(/^[\*\-]?\s*\*?\*?ç¬¬([ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹å]+)æ­¥[ï¼š:]\s*(.+)$/gm,(r,a,s)=>`<div class="block-header"><span class="block-icon">${A(`ç¬¬${a}æ­¥`)}</span><span class="block-title">ç¬¬${a}æ­¥ï¼š${s}</span></div>`).replace(/^[\*\-]?\s*\*?\*?([ç”²ä¹™])æ–¹\*?\*?$/gm,(r,a)=>`<div class="person-header"><span class="person-emoji">${a==="ç”²"?"ğŸ‘¨":"ğŸ‘©"}</span><span class="person-label">${a}æ–¹</span></div>`).replace(/^\[([^\]]+)\](?![\(\[])/gm,(r,a)=>`<div class="block-subheader"><span class="block-icon">${A(a)}</span><span class="block-subtitle">${a}</span></div>`).replace(/^ã€([^ã€‘]+)ã€‘/gm,(r,a)=>`<div class="block-header"><span class="block-icon">${A(a)}</span><span class="block-title">${a}</span></div>`).replace(/^###\s+(.+)$/gm,'<div class="block-header"><span class="block-icon">ğŸ“Œ</span><span class="block-title">$1</span></div>').replace(/^##\s+(.+)$/gm,'<div class="block-header"><span class="block-icon">ğŸ“‹</span><span class="block-title">$1</span></div>').replace(/^#\s+(.+)$/gm,'<div class="block-header main-header"><span class="block-icon">ğŸ“Š</span><span class="block-title">$1</span></div>').replace(/^([ä¸€äºŒä¸‰å››äº”å…­ä¸ƒå…«ä¹å]+)[ã€.]\s*(.+)$/gm,'<div class="block-subheader"><span class="block-num">$1</span><span class="block-subtitle">$2</span></div>').replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/^\*\s{3}(.+)$/gm,'<li class="sub-item">$1</li>').replace(/^[-*â€¢]\s*([^\s].*)$/gm,"<li>$1</li>").replace(/^(\d+)[.)ã€]\s*(.+)$/gm,'<li class="numbered"><span class="list-num">$1.</span> $2</li>').replace(/([^<>\n]+?)ï¼š([^<>\n]+)/g,'<span class="label-text">$1ï¼š</span><span class="value-text">$2</span>').replace(/\n/g,"<br>");return n=n.replace(/(<li[^>]*>.*?<\/li>)(<br>)?/g,"$1"),n=n.replace(/(<li[^>]*>.*?<\/li>)+/g,r=>'<ul class="block-list">'+r+"</ul>"),n=n.replace(/(<br>){2,}/g,"<br>"),n=n.replace(/^(<br>|\s)+/,""),n=n.replace(/(<br>|\s)+$/,""),n=n.replace(/<li[^>]*>\s*<\/li>/g,""),n=n.replace(/<li[^>]*>\s*[-â€“â€”]+\s*<\/li>/g,""),n=n.replace(/<ul class="block-list">\s*<\/ul>/g,""),n=n.replace(/<br>\s*[-â€“â€”]+\s*<br>/g,"<br>"),n=n.replace(/<br>\s*[â€¢â—â—‹]\s*[-â€“â€”]*\s*<br>/g,"<br>"),n=n.replace(/(<\/div>)(<br>)+/g,"$1"),n=n.replace(/(<br>)+(<div)/g,"$2"),`<div class="block-content">${n}</div>`}async updateMatchRecordStatus(e,A=null){const n=this.testData?.sessionId;if(!n){console.log("æ—  sessionIdï¼Œè·³è¿‡åŒ¹é…è®°å½•çŠ¶æ€æ›´æ–°");return}let r=null;try{const a=localStorage.getItem("user");if(a){const s=JSON.parse(a);r=s.id||s.userId||null}}catch{}try{await an.updateStatus(n,r,e,A),console.log(`âœ… åŒ¹é…è®°å½•çŠ¶æ€å·²æ›´æ–°ä¸º ${e===1?"æˆåŠŸ":"å¤±è´¥"}`)}catch(a){console.error("æ›´æ–°åŒ¹é…è®°å½•çŠ¶æ€å¤±è´¥:",a)}}async consumeRedeemCode(){const e=window.appState.get("redeemCode");if(!e){console.log("æ— å…‘æ¢ç ï¼Œè·³è¿‡æ¶ˆè€—");return}try{const A=rn(),r=await(await fetch(`${A}/redeem/use`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e})})).json();r.success?(console.log("âœ… å…‘æ¢ç å·²æ¶ˆè€—:",e),window.appState.set("redeemCode",null)):console.warn("å…‘æ¢ç æ¶ˆè€—å¤±è´¥:",r.message)}catch(A){console.error("æ¶ˆè€—å…‘æ¢ç å¤±è´¥:",A)}}rerender(){const e=document.getElementById("app");e.innerHTML=this.render(),this.attachEvents()}handleShare(){const e=`æˆ‘åˆšåˆšåœ¨åŒ¹é…æ¸¸æˆè¿›è¡Œäº†${this.matchType?.title}æµ‹è¯•ï¼ŒåŒ¹é…åº¦${this.result?.score}%ï¼å¿«æ¥è¯•è¯•å§~`;navigator.share?navigator.share({title:"åŒ¹é…æ¸¸æˆ - è¶£å‘³æ€§æ ¼æµ‹è¯•",text:e,url:window.location.origin}):navigator.clipboard.writeText(e).then(()=>{window.showToast("é“¾æ¥å·²å¤åˆ¶ï¼Œå¿«å»åˆ†äº«å§ï¼")})}async handleExportPng(){const e=this.testData?.personA?.name||"ç”²æ–¹",A=this.testData?.personB?.name||"ä¹™æ–¹",n=this.matchType?.title||"åŒ¹é…",r=`${e}_${A}_${n}ç»“æœ.png`;window.showToast("æ­£åœ¨ç”Ÿæˆå›¾ç‰‡ï¼Œè¯·ç¨å€™...");try{const a=document.querySelector(".page-content");if(!a){window.showToast("å¯¼å‡ºå¤±è´¥ï¼šæ‰¾ä¸åˆ°å†…å®¹åŒºåŸŸ");return}const s=document.querySelector(".bottom-action-bar");s&&(s.style.display="none"),a.classList.add("export-mode");const o=(await vg(()=>import("https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.esm.js"),[])).default,c=await o(a,{scale:2,useCORS:!0,allowTaint:!0,backgroundColor:null,logging:!1});a.classList.remove("export-mode"),s&&(s.style.display="");const l=c.toDataURL("image/png"),B=document.createElement("a");B.download=r,B.href=l,B.click(),window.showToast("å›¾ç‰‡å¯¼å‡ºæˆåŠŸï¼")}catch(a){console.error("å¯¼å‡ºå›¾ç‰‡å¤±è´¥:",a);const s=document.querySelector(".page-content");s&&s.classList.remove("export-mode");const i=document.querySelector(".bottom-action-bar");i&&(i.style.display=""),window.showToast("å¯¼å‡ºå¤±è´¥ï¼Œè¯·ç¨åé‡è¯•")}}}class Tg{constructor(e){this.testType=e.type,this.matchType=UA(this.testType),this.orderId=null,this.paymentMethod="alipay",this.qrCodeData=null,this.redeemCode=null,this.status="selecting",this.pollingTimer=null}render(){return`
      <div class="page payment-page">
        ${aA({title:"æ”¯ä»˜",showBack:!0,showHistory:!1,showProfile:!1})}
        
        <main class="page-content">
          <div class="app-container">
            ${this.renderContent()}
          </div>
        </main>
      </div>
    `}renderContent(){switch(this.status){case"selecting":return this.renderPaymentSelect();case"paying":return this.renderPaymentQR();case"success":return this.renderSuccess();default:return""}}renderPaymentSelect(){const e=this.matchType||{title:"æµ‹è¯•æœåŠ¡",price:29.9};return`
      <section class="payment-info mt-4 mb-6 animate-fade-in-up">
        <div class="glass-card">
          <div class="payment-product">
            <span class="product-icon">${e.icon||"ğŸ”®"}</span>
            <div class="product-info">
              <h3 class="product-name">${e.title}</h3>
              <p class="product-desc">${e.description||""}</p>
            </div>
            <div class="product-price">
              <span class="price-symbol">Â¥</span>
              <span class="price-value">${e.price||29.9}</span>
            </div>
          </div>
        </div>
      </section>

      <section class="payment-method-section mb-6 animate-fade-in-up animate-delay-100">
        <h4 class="section-title mb-4">é€‰æ‹©æ”¯ä»˜æ–¹å¼</h4>
        
        <div class="payment-methods">
          <div class="payment-method-card ${this.paymentMethod==="alipay"?"active":""}" 
               data-method="alipay">
            <div class="method-icon alipay-icon">
              <svg viewBox="0 0 24 24" width="32" height="32" fill="#1677FF">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
                <text x="12" y="16" text-anchor="middle" font-size="10" font-weight="bold">æ”¯</text>
              </svg>
            </div>
            <div class="method-name">æ”¯ä»˜å®</div>
            <div class="method-check">âœ“</div>
          </div>

          <div class="payment-method-card ${this.paymentMethod==="wechat"?"active":""}" 
               data-method="wechat">
            <div class="method-icon wechat-icon">
              <svg viewBox="0 0 24 24" width="32" height="32" fill="#07C160">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"/>
                <text x="12" y="16" text-anchor="middle" font-size="10" font-weight="bold">å¾®</text>
              </svg>
            </div>
            <div class="method-name">å¾®ä¿¡æ”¯ä»˜</div>
            <div class="method-check">âœ“</div>
          </div>
        </div>
      </section>

      <section class="payment-notice mb-6 animate-fade-in-up animate-delay-200">
        <div class="glass-card glass-card--light">
          <div class="notice-header">
            <span>ğŸ’¡</span>
            <span class="small-text">æ”¯ä»˜è¯´æ˜</span>
          </div>
          <ul class="notice-list">
            <li>æ”¯ä»˜æˆåŠŸåå°†è·å¾—ä¸€ä¸ª8ä½æ ¸é”€ç </li>
            <li>æ ¸é”€ç å¯ç”¨äºè§£é”æµ‹è¯•ç»“æœ</li>
            <li>è¯·å¦¥å–„ä¿ç®¡æ ¸é”€ç ï¼Œæ¯ä¸ªç åªèƒ½ä½¿ç”¨ä¸€æ¬¡</li>
          </ul>
        </div>
      </section>

      <div class="bottom-action-bar safe-area-bottom">
        <div class="action-bar__buttons">
          <button class="btn btn--primary btn--full" data-action="create-order">
            ç«‹å³æ”¯ä»˜ Â¥${e.price||29.9}
          </button>
        </div>
      </div>
    `}renderPaymentQR(){return`
      <section class="qr-section mt-4 animate-fade-in-up">
        <div class="glass-card text-center">
          <h3 class="heading-3 mb-4">
            ${this.paymentMethod==="alipay"?"æ”¯ä»˜å®":"å¾®ä¿¡"}æ‰«ç æ”¯ä»˜
          </h3>
          
          <div class="qr-container">
            <div class="qr-code">
              <img src="${this.qrCodeData}" alt="æ”¯ä»˜äºŒç»´ç " />
            </div>
            <p class="qr-tip small-text mt-3">
              è¯·ä½¿ç”¨${this.paymentMethod==="alipay"?"æ”¯ä»˜å®":"å¾®ä¿¡"}æ‰«æäºŒç»´ç å®Œæˆæ”¯ä»˜
            </p>
          </div>
          
          <div class="payment-amount mt-4">
            <span class="amount-label">æ”¯ä»˜é‡‘é¢</span>
            <span class="amount-value">Â¥ ${this.matchType?.price||29.9}</span>
          </div>
          
          <div class="order-info mt-4">
            <p class="small-text">è®¢å•å·: ${this.orderId}</p>
          </div>
        </div>
      </section>

      <section class="payment-status mt-4 animate-fade-in-up animate-delay-100">
        <div class="glass-card glass-card--light">
          <div class="status-indicator">
            <div class="loading-dots">
              <span class="loading-dots__dot"></span>
              <span class="loading-dots__dot"></span>
              <span class="loading-dots__dot"></span>
            </div>
            <p class="status-text">ç­‰å¾…æ”¯ä»˜ä¸­...</p>
          </div>
        </div>
      </section>

      <!-- å¼€å‘ç¯å¢ƒï¼šæ¨¡æ‹Ÿæ”¯ä»˜æŒ‰é’® -->
      ${this.renderDevPayButton()}
      
      <div class="bottom-action-bar safe-area-bottom">
        <div class="action-bar__buttons">
          <button class="btn btn--secondary" data-action="cancel-order">
            å–æ¶ˆæ”¯ä»˜
          </button>
          <button class="btn btn--primary" data-action="check-status">
            æˆ‘å·²æ”¯ä»˜
          </button>
        </div>
      </div>
    `}renderDevPayButton(){return`
      <section class="dev-section mt-4">
        <div class="glass-card text-center" style="border: 2px dashed var(--color-warning);">
          <p class="small-text mb-3" style="color: var(--color-warning);">ğŸ› ï¸ å¼€å‘æ¨¡å¼</p>
          <button class="btn btn--primary btn--sm" data-action="simulate-pay">
            æ¨¡æ‹Ÿæ”¯ä»˜æˆåŠŸ
          </button>
        </div>
      </section>
    `}renderSuccess(){return`
      <section class="success-section mt-6 animate-fade-in-up">
        <div class="glass-card text-center">
          <div class="success-icon animate-bounce-in">âœ…</div>
          <h2 class="heading-2 mb-2">æ”¯ä»˜æˆåŠŸ</h2>
          <p class="body-text-secondary mb-6">æ„Ÿè°¢æ‚¨çš„è´­ä¹°ï¼</p>
          
          <div class="redeem-code-card">
            <p class="small-text mb-2">æ‚¨çš„æ ¸é”€ç </p>
            <div class="redeem-code">${this.redeemCode}</div>
            <button class="btn btn--secondary btn--sm mt-3" data-action="copy-code">
              ğŸ“‹ å¤åˆ¶æ ¸é”€ç 
            </button>
          </div>
          
          <div class="code-notice mt-4">
            <p class="small-text" style="color: var(--color-text-tertiary);">
              è¯·å¦¥å–„ä¿ç®¡æ­¤æ ¸é”€ç ï¼Œç”¨äºè§£é”æµ‹è¯•ç»“æœ
            </p>
          </div>
        </div>
      </section>

      <div class="bottom-action-bar safe-area-bottom">
        <div class="action-bar__buttons">
          <button class="btn btn--secondary" data-action="back-home">
            è¿”å›é¦–é¡µ
          </button>
          <button class="btn btn--primary" data-action="use-code">
            ç«‹å³ä½¿ç”¨
          </button>
        </div>
      </div>
    `}attachEvents(){const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{this.cleanup(),window.router.back()}),document.querySelectorAll(".payment-method-card").forEach(c=>{c.addEventListener("click",()=>{this.selectPaymentMethod(c.dataset.method)})});const A=document.querySelector('[data-action="create-order"]');A&&A.addEventListener("click",()=>this.createOrder());const n=document.querySelector('[data-action="cancel-order"]');n&&n.addEventListener("click",()=>this.cancelOrder());const r=document.querySelector('[data-action="check-status"]');r&&r.addEventListener("click",()=>this.checkPaymentStatus());const a=document.querySelector('[data-action="simulate-pay"]');a&&a.addEventListener("click",()=>this.simulatePay());const s=document.querySelector('[data-action="copy-code"]');s&&s.addEventListener("click",()=>this.copyRedeemCode());const i=document.querySelector('[data-action="back-home"]');i&&i.addEventListener("click",()=>{window.router.navigate("/")});const o=document.querySelector('[data-action="use-code"]');o&&o.addEventListener("click",()=>{window.appState.set("redeemCode",this.redeemCode),window.router.navigate(`/result/${this.testType}?code=${this.redeemCode}`)})}selectPaymentMethod(e){this.paymentMethod=e,document.querySelectorAll(".payment-method-card").forEach(A=>{A.classList.toggle("active",A.dataset.method===e)})}async createOrder(){try{window.showToast("æ­£åœ¨åˆ›å»ºè®¢å•...");const e=await Fn.createOrder({productId:"test-standard",paymentMethod:this.paymentMethod,testType:this.testType});e.success&&(this.orderId=e.data.orderId,this.qrCodeData=e.data.qrCode,this.status="paying",this.rerender(),this.startPolling())}catch(e){window.showToast(e.message||"åˆ›å»ºè®¢å•å¤±è´¥","error")}}cancelOrder(){this.cleanup(),this.status="selecting",this.orderId=null,this.qrCodeData=null,this.rerender()}startPolling(){this.pollingTimer=setInterval(()=>{this.checkPaymentStatus(!0)},3e3)}stopPolling(){this.pollingTimer&&(clearInterval(this.pollingTimer),this.pollingTimer=null)}async checkPaymentStatus(e=!1){try{const A=await Fn.getOrderStatus(this.orderId);A.success&&A.data.status==="paid"?(this.stopPolling(),this.redeemCode=A.data.redeemCode,this.status="success",this.rerender(),e||window.showToast("æ”¯ä»˜æˆåŠŸï¼","success")):e||window.showToast("æš‚æœªæ”¶åˆ°æ”¯ä»˜ï¼Œè¯·ç¨å€™é‡è¯•")}catch{e||window.showToast("æŸ¥è¯¢å¤±è´¥ï¼Œè¯·ç¨å€™é‡è¯•","error")}}async simulatePay(){try{const e=await Fn.simulatePay(this.orderId);e.success&&(this.stopPolling(),this.redeemCode=e.data.redeemCode,this.status="success",this.rerender(),window.showToast("æ¨¡æ‹Ÿæ”¯ä»˜æˆåŠŸï¼","success"))}catch(e){window.showToast(e.message||"æ¨¡æ‹Ÿæ”¯ä»˜å¤±è´¥","error")}}copyRedeemCode(){this.redeemCode&&navigator.clipboard.writeText(this.redeemCode).then(()=>{window.showToast("æ ¸é”€ç å·²å¤åˆ¶ï¼","success")}).catch(()=>{window.showToast("å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨å¤åˆ¶")})}cleanup(){this.stopPolling()}rerender(){const e=document.getElementById("app");e.innerHTML=this.render(),this.attachEvents()}}let C={question:"",lunarDate:"",benGuaInfo:null,bianGuaInfo:null,hasMovingYao:!1,movingPositions:[],yaos:[],aiResponse:"",professionalVersion:"",simpleVersion:"",aiPrompt:"",isLoading:!1,showPrompt:!1,viewMode:"simple",remainingTime:60,progressPercent:0,loadingTip:"æ­£åœ¨è¿æ¥æœåŠ¡å™¨..."};const ja=["æ­£åœ¨åˆ†æå¦è±¡...","æ¨æ¼”å…­äº²å…³ç³»...","è®¡ç®—ä¸–åº”ä½ç½®...","è§£è¯»å…­ç¥å«ä¹‰...","ç»¼åˆåŠ¨çˆ»å˜åŒ–...","ç”Ÿæˆä¸“ä¸šè§£è¯»...","æ•´ç†é€šä¿—ç‰ˆæœ¬...","å³å°†å®Œæˆ..."];function de(t,e={}){Mg(e),t.innerHTML=`
        <div class="divination-result-page">
            <!-- é—®é¢˜æ˜¾ç¤º -->
            <div class="question-card">
                <span class="question-label">æ‰€é—®äº‹é¡¹</span>
                <span class="question-text">${C.question||"æœªçŸ¥é—®é¢˜"}</span>
                <span class="date-text">${C.lunarDate||""}</span>
            </div>

            <!-- å¦è±¡å±•ç¤ºåŒºåŸŸ -->
            ${kg()}

            <!-- åŠ¨çˆ»è¯´æ˜ -->
            ${Rg()}

            <!-- è§£è¯»åŒºåŸŸ -->
            <div class="ai-section">
                <div class="section-title">ğŸ”® è§£è¯»ç»“æœ</div>
                
                <!-- è§†å›¾åˆ‡æ¢ -->
                <div class="view-mode-tabs">
                    <button class="mode-tab ${C.viewMode==="simple"?"active":""}" 
                            data-mode="simple">ğŸ’¡ é€šä¿—ç‰ˆ</button>
                    <button class="mode-tab ${C.viewMode==="professional"?"active":""}" 
                            data-mode="professional">ğŸ“š ä¸“ä¸šç‰ˆ</button>
                    <button class="mode-tab ${C.viewMode==="both"?"active":""}" 
                            data-mode="both">ğŸ“– åŒç‰ˆæœ¬</button>
                </div>

                <!-- AIæç¤ºè¯ï¼ˆå¯æŠ˜å ï¼‰ -->
                <div class="prompt-card">
                    <div class="prompt-header" id="toggle-prompt">
                        <span>è§£è¯»æç¤ºè¯</span>
                        <span class="prompt-arrow">${C.showPrompt?"â–¼":"â–¶"}</span>
                    </div>
                    <div class="prompt-content ${C.showPrompt?"show":""}">
                        <pre class="prompt-text">${hi(C.aiPrompt||"æš‚æ— æç¤ºè¯")}</pre>
                        <button class="btn-copy" id="copy-prompt">å¤åˆ¶æç¤ºè¯</button>
                    </div>
                </div>

                <!-- åŠ è½½çŠ¶æ€ -->
                ${Ng()}

                <!-- AIå“åº”ç»“æœ -->
                ${Pg()}
            </div>

            <!-- å…è´£å£°æ˜ -->
            <div class="disclaimer">
                ä»…ä¾›å¨±ä¹å‚è€ƒï¼Œä¸ä½œä¸ºä»»ä½•å†³ç­–ä¾æ®
            </div>

            <!-- åº•éƒ¨æŒ‰é’® -->
            <div class="bottom-buttons">
                <button class="btn-restart" id="btn-restart">ğŸ”„ é‡æ–°å¼€å§‹</button>
                <button class="btn-share" id="btn-share">ğŸ“¤ åˆ†äº«ç»“æœ</button>
            </div>
        </div>
    `,Gg(t)}function Mg(t){if(t.data){const A=t.data;C.question=A.question||"",C.aiResponse=A.result||"",C.professionalVersion=A.professionalVersion||"",C.simpleVersion=A.simpleVersion||"",C.aiPrompt=A.aiPrompt||""}const e=localStorage.getItem("divinationResult");if(e&&!t.data)try{const A=JSON.parse(e);A.success&&A.data&&(C.aiResponse=A.data.result||"",C.professionalVersion=A.data.professionalVersion||"",C.simpleVersion=A.data.simpleVersion||"",C.aiPrompt=A.data.aiPrompt||"")}catch(A){console.error("è§£æç¼“å­˜æ•°æ®å¤±è´¥:",A)}C.aiPrompt&&Kg(C.aiPrompt)}function Kg(t){const e=t.match(/æˆ‘è¦é—®"([^"]+)"çš„é—®é¢˜/);e&&(C.question=e[1]);const A=t.match(/åœ¨å†œå†([^\s]+)é—®äº‹/);A&&(C.lunarDate=A[1]);const n=t.match(/å¾—åˆ°([^ï¼ˆ]+)ï¼ˆ([^ï¼Œ]+)ï¼Œå±([^ï¼‰]+)ï¼‰ä¸ºæœ¬å¦/);n&&(C.benGuaInfo={name:n[1],palace:n[2],wuxing:n[3]});const r=t.match(/ã€å¦è¾ã€‘([^\n]+)/);r&&C.benGuaInfo&&(C.benGuaInfo.info=r[1]);const a=t.match(/ä¸–çˆ»åœ¨ç¬¬(\d)çˆ»ï¼Œåº”çˆ»åœ¨ç¬¬(\d)çˆ»/);a&&C.benGuaInfo&&(C.benGuaInfo.shi=parseInt(a[1]),C.benGuaInfo.ying=parseInt(a[2]));const s=/(ä¸Šçˆ»|äº”çˆ»|å››çˆ»|ä¸‰çˆ»|äºŒçˆ»|åˆçˆ»)ï¼š([^\s]+)\s+(é˜³|é˜´)çˆ»ï¼Œ([^ï¼Œ\n]+)/g,i=[];let o;for(;(o=s.exec(t))!==null;)i.push({position:o[1],liuShen:o[2],type:o[3],info:o[4]});i.length>0&&(C.yaos=i),C.hasMovingYao=t.includes("åŠ¨çˆ»")&&!t.includes("æ— åŠ¨çˆ»")}function kg(){return C.benGuaInfo?`
        <div class="gua-section">
            <!-- æœ¬å¦ -->
            <div class="gua-card">
                <div class="gua-title">æœ¬å¦</div>
                <div class="gua-name">${C.benGuaInfo.name||""}</div>
                <div class="gua-palace">${C.benGuaInfo.palace||""} Â· ${C.benGuaInfo.wuxing||""}</div>
                
                <!-- å…­çˆ»å›¾å½¢ -->
                <div class="gua-diagram">
                    ${Og()}
                </div>
                
                <div class="gua-ci">${C.benGuaInfo.info||""}</div>
            </div>

            <!-- å˜å¦ï¼ˆå¦‚æœæœ‰åŠ¨çˆ»ï¼‰ -->
            ${C.hasMovingYao&&C.bianGuaInfo?`
                <div class="gua-card">
                    <div class="gua-title">å˜å¦</div>
                    <div class="gua-name">${C.bianGuaInfo.name||""}</div>
                    <div class="gua-palace">${C.bianGuaInfo.palace||""} Â· ${C.bianGuaInfo.wuxing||""}</div>
                    <div class="gua-diagram">
                        ${_g()}
                    </div>
                    <div class="gua-ci">${C.bianGuaInfo.info||""}</div>
                </div>
            `:""}
        </div>
    `:""}function Og(){return!C.yaos||C.yaos.length===0?'<div class="no-yao-info">æš‚æ— å…­çˆ»è¯¦ç»†ä¿¡æ¯</div>':C.yaos.map((t,e)=>{const A=C.benGuaInfo?.shi===6-e,n=C.benGuaInfo?.ying===6-e,r=t.type==="é˜³"?"â–¬â–¬â–¬":"â–¬ â–¬";return`
            <div class="yao-line ${A?"shi":""} ${n?"ying":""}">
                <span class="yao-liushen">${t.liuShen||""}</span>
                <span class="yao-symbol">${r}</span>
                <span class="yao-info">${t.info||""}</span>
                ${A?'<span class="yao-tag shi-tag">ä¸–</span>':""}
                ${n?'<span class="yao-tag ying-tag">åº”</span>':""}
            </div>
        `}).join("")}function _g(){return'<div class="no-yao-info">å˜å¦ä¿¡æ¯</div>'}function Rg(){return C.hasMovingYao?`
            <div class="moving-info">
                <span class="moving-label">åŠ¨çˆ»ï¼š</span>
                <span class="moving-text">${C.movingPositions.length>0?C.movingPositions.map(e=>`ç¬¬${e}çˆ»`).join("ã€"):"æœ‰åŠ¨çˆ»"}</span>
            </div>
        `:`
            <div class="moving-info">
                <span class="moving-text">é™å¦ï¼ˆæ— åŠ¨çˆ»ï¼‰</span>
            </div>
        `}function Ng(){return C.isLoading?`
        <div class="loading-overlay">
            <div class="loading-content">
                <div class="loading-spinner"></div>
                <span class="loading-title">å¸ˆå‚…æ­£åœ¨æ¨ç®—ä¸­...</span>
                <span class="loading-hint">é¢„è®¡éœ€è¦ ${C.remainingTime} ç§’</span>
                <div class="progress-bar">
                    <div class="progress-fill" style="width: ${C.progressPercent}%"></div>
                </div>
                <span class="loading-tip">${C.loadingTip}</span>
            </div>
        </div>
    `:""}function Pg(){if(!C.aiResponse&&!C.simpleVersion&&!C.professionalVersion)return`
            <div class="no-response">
                <p>æš‚æ— è§£è¯»ç»“æœ</p>
                <button class="btn-ai" id="btn-ask-ai">ğŸ”® å¼€å§‹è§£è¯»</button>
            </div>
        `;const t=C.viewMode==="professional"||C.viewMode==="both",e=C.viewMode==="simple"||C.viewMode==="both";return`
        <div class="ai-response">
            <!-- ä¸“ä¸šç‰ˆè§£è¯» -->
            ${t?`
                <div class="version-section professional">
                    <div class="response-title">ğŸ“š ä¸“ä¸šç‰ˆè§£è¯»</div>
                    <div class="response-content">${As(C.professionalVersion||C.aiResponse)}</div>
                </div>
            `:""}
            
            <!-- é€šä¿—ç‰ˆè§£è¯» -->
            ${e?`
                <div class="version-section simple">
                    <div class="response-title">ğŸ’¡ é€šä¿—ç‰ˆè§£è¯»</div>
                    <div class="response-content">${As(C.simpleVersion||C.aiResponse)}</div>
                </div>
            `:""}
            
            <!-- å’¨è¯¢å…¥å£ -->
            <div class="consult-section">
                <div class="consult-title">ğŸ’¬ æœ‰ç–‘æƒ‘ï¼Ÿæ¬¢è¿å’¨è¯¢</div>
                <p class="consult-tip">å¦‚éœ€è¿›ä¸€æ­¥è§£è¯»ï¼Œè¯·è”ç³»ä¸“ä¸šé¡¾é—®</p>
            </div>
        </div>
    `}function As(t){if(!t)return"";let e=hi(t);return e=e.replace(/### (.+)/g,"<h4>$1</h4>"),e=e.replace(/## (.+)/g,"<h3>$1</h3>"),e=e.replace(/# (.+)/g,"<h2>$1</h2>"),e=e.replace(/\*\*([^*]+)\*\*/g,"<strong>$1</strong>"),e=e.replace(/^\* (.+)/gm,"<li>$1</li>"),e=e.replace(/^- (.+)/gm,"<li>$1</li>"),e=e.replace(/^\d+\.\s+(.+)/gm,"<li>$1</li>"),e=e.replace(/^---$/gm,"<hr>"),e=e.replace(/\n\n/g,"</p><p>"),e=e.replace(/\n/g,"<br>"),`<p>${e}</p>`}function hi(t){if(!t)return"";const e=document.createElement("div");return e.textContent=t,e.innerHTML}function Gg(t){t.querySelectorAll(".mode-tab").forEach(s=>{s.addEventListener("click",i=>{const o=i.target.dataset.mode;C.viewMode=o,de(t,{data:C})})});const e=t.querySelector("#toggle-prompt");e&&e.addEventListener("click",()=>{C.showPrompt=!C.showPrompt,de(t,{data:C})});const A=t.querySelector("#copy-prompt");A&&A.addEventListener("click",()=>{navigator.clipboard.writeText(C.aiPrompt).then(()=>{alert("æç¤ºè¯å·²å¤åˆ¶åˆ°å‰ªè´´æ¿")}).catch(s=>{console.error("å¤åˆ¶å¤±è´¥:",s)})});const n=t.querySelector("#btn-restart");n&&n.addEventListener("click",()=>{confirm("ç¡®å®šè¦é‡æ–°å¼€å§‹å—ï¼Ÿ")&&(localStorage.removeItem("divinationResult"),Xi("home"))});const r=t.querySelector("#btn-share");r&&r.addEventListener("click",()=>{Vg()});const a=t.querySelector("#btn-ask-ai");a&&a.addEventListener("click",()=>{$g(t)})}function Vg(){const t=`ğŸ”® å…­çˆ»è§£è¯»ç»“æœ

é—®ï¼š${C.question}

${C.simpleVersion||C.aiResponse}`;navigator.share?navigator.share({title:"å…­çˆ»è§£è¯»ç»“æœ",text:t}).catch(e=>{console.log("åˆ†äº«å–æ¶ˆ:",e),es(t)}):es(t)}function es(t){navigator.clipboard.writeText(t).then(()=>{alert("ç»“æœå·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼Œå¯ä»¥ç²˜è´´åˆ†äº«")}).catch(e=>{console.error("å¤åˆ¶å¤±è´¥:",e)})}async function $g(t){C.isLoading=!0,C.progressPercent=0,C.remainingTime=60;const e=()=>{C.isLoading&&(C.remainingTime=Math.max(0,C.remainingTime-1),C.progressPercent=Math.min(95,C.progressPercent+1.5),C.loadingTip=ja[Math.floor(C.progressPercent/12)]||ja[0],de(t,{data:C}),C.isLoading&&setTimeout(e,1e3))};de(t,{data:C}),setTimeout(e,1e3);try{C.isLoading=!1,C.progressPercent=100,de(t,{data:C})}catch(A){console.error("è§£å¦å¤±è´¥:",A),C.isLoading=!1,alert("è§£å¦å¤±è´¥ï¼Œè¯·é‡è¯•"),de(t,{data:C})}}function Yg(t,e={}){return de(t,e)}class Jg{constructor(){this.records=[],this.total=0,this.page=1,this.pageSize=20,this.isLoading=!0,this.hasMore=!1}render(){return`
      <div class="page history-page">
        ${aA({title:"å†å²è®°å½•",showBack:!0,showHistory:!1,showProfile:!1})}
        
        <main class="page-content">
          <div class="app-container">
            <div id="history-content">
              ${is("åŠ è½½å†å²è®°å½•...")}
            </div>
          </div>
        </main>
      </div>
    `}attachEvents(){const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{window.router.back()}),this.loadRecords()}getLocalIdentity(){let e=null,A=null;const n=localStorage.getItem("user");if(n)try{const r=JSON.parse(n);e=r.id||r.userId||null}catch{}return A=localStorage.getItem("sessionId")||null,console.log(`[å†å²è®°å½•] æœ¬åœ°æ ‡è¯† - userId: ${e}, sessionId: ${A?A.slice(0,8)+"...":"null"}`),{userId:e,sessionId:A}}async loadRecords(){try{this.isLoading=!0;const e=document.getElementById("history-content");if(!e)return;const{userId:A,sessionId:n}=this.getLocalIdentity();if(!A&&!n){this.isLoading=!1,e.innerHTML=this.renderError("æœªæ‰¾åˆ°ç”¨æˆ·æ ‡è¯†ï¼Œè¯·å…ˆå®Œæˆä¸€æ¬¡æµ‹è¯•"),this.attachContentEvents();return}const r={page:this.page,pageSize:this.pageSize};A?r.userId=A:r.sessionId=n;const a=await zn.getRecords(r);a.success&&a.data&&(this.records=a.data.records||[],this.total=a.data.total||0,this.hasMore=this.records.length<this.total),this.isLoading=!1,e.innerHTML=this.renderContent(),this.attachContentEvents()}catch(e){console.error("åŠ è½½å†å²è®°å½•å¤±è´¥:",e),this.isLoading=!1;const A=document.getElementById("history-content");A&&(A.innerHTML=this.renderError(e.message),this.attachContentEvents())}}renderContent(){return this.records.length===0?`
        <div class="history-empty animate-fade-in-up">
          ${Ji({icon:"ğŸ“­",title:"æš‚æ— å†å²è®°å½•",description:"å®Œæˆä¸€æ¬¡åŒ¹é…æµ‹è¯•åï¼Œè®°å½•å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ",actionText:"è¿”å›é¦–é¡µ"})}
        </div>
      `:`
      <div class="history-list animate-fade-in-up">
        <div class="history-table">
          <!-- è¡¨å¤´ -->
          <div class="history-table__header">
            <div class="history-table__cell history-table__cell--no">åºå·</div>
            <div class="history-table__cell history-table__cell--question">é—®é¢˜</div>
            <div class="history-table__cell history-table__cell--action">æµ‹ç®—ç»“æœ</div>
          </div>
          
          <!-- è¡¨ä½“ -->
          ${this.records.map(e=>`
            <div class="history-table__row" data-record-id="${e.id}">
              <div class="history-table__cell history-table__cell--no">${e.serialNumber}</div>
              <div class="history-table__cell history-table__cell--question">
                <span class="history-question-text" title="${this.escapeHtml(e.question)}">
                  ${this.truncateText(e.question,50)}
                </span>
              </div>
              <div class="history-table__cell history-table__cell--action">
                <span class="history-status history-status--success">${e.status}</span>
                <button class="btn btn--primary btn--xs history-detail-btn" 
                        data-record-id="${e.id}"
                        data-session-id="${e.sessionId||""}">
                  æŸ¥çœ‹è¯¦æƒ…
                </button>
              </div>
            </div>
          `).join("")}
        </div>

        <!-- åˆ†é¡µä¿¡æ¯ -->
        <div class="history-pagination">
          <span class="history-pagination__info">å…± ${this.total} æ¡è®°å½•</span>
          ${this.hasMore?`
            <button class="btn btn--outline btn--sm history-load-more">
              åŠ è½½æ›´å¤š
            </button>
          `:""}
        </div>
      </div>
    `}renderError(e){return`
      <div class="history-error text-center mt-8 animate-fade-in-up">
        <div class="history-error__icon">ğŸ˜¥</div>
        <p class="body-text-secondary mb-4">åŠ è½½å¤±è´¥ï¼š${e||"ç½‘ç»œé”™è¯¯"}</p>
        <button class="btn btn--primary btn--sm" id="history-retry-btn">
          é‡è¯•
        </button>
      </div>
    `}attachContentEvents(){document.querySelectorAll(".history-detail-btn").forEach(r=>{r.addEventListener("click",a=>{const s=r.dataset.recordId;r.dataset.sessionId,window.router.navigate(`/history/detail/${s}`)})});const e=document.querySelector('[data-action="empty-action"]');e&&e.addEventListener("click",()=>{window.router.navigate("/")});const A=document.getElementById("history-retry-btn");A&&A.addEventListener("click",()=>{this.loadRecords()});const n=document.querySelector(".history-load-more");n&&n.addEventListener("click",()=>{this.page++,this.loadMoreRecords()})}async loadMoreRecords(){try{const{userId:e,sessionId:A}=this.getLocalIdentity(),n={page:this.page,pageSize:this.pageSize};e?n.userId=e:n.sessionId=A;const r=await zn.getRecords(n);r.success&&r.data&&(this.records=[...this.records,...r.data.records||[]],this.total=r.data.total||0,this.hasMore=this.records.length<this.total);const a=document.getElementById("history-content");a&&(a.innerHTML=this.renderContent(),this.attachContentEvents())}catch(e){console.error("åŠ è½½æ›´å¤šè®°å½•å¤±è´¥:",e),window.showToast("åŠ è½½å¤±è´¥ï¼Œè¯·é‡è¯•","error")}}truncateText(e,A){return e?e.length>A?e.substring(0,A)+"...":e:""}escapeHtml(e){if(!e)return"";const A=document.createElement("div");return A.textContent=e,A.innerHTML}}class Xg{constructor(e){this.recordId=e.id,this.record=null,this.isLoading=!0,this.error=null}render(){return`
      <div class="page history-detail-page">
        ${aA({title:"è®°å½•è¯¦æƒ…",showBack:!0,showHistory:!1,showProfile:!1})}
        
        <main class="page-content">
          <div class="app-container">
            <div id="detail-content">
              ${is("åŠ è½½è®°å½•è¯¦æƒ…...")}
            </div>
          </div>
        </main>
      </div>
    `}attachEvents(){const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{window.router.back()}),this.loadDetail()}getLocalIdentity(){let e=null,A=null;const n=localStorage.getItem("user");if(n)try{const r=JSON.parse(n);e=r.id||r.userId||null}catch{}return A=localStorage.getItem("sessionId")||null,{userId:e,sessionId:A}}async loadDetail(){try{this.isLoading=!0;const e=document.getElementById("detail-content");if(!e)return;const{userId:A,sessionId:n}=this.getLocalIdentity();console.log(`[å†å²è¯¦æƒ…] åŠ è½½è®°å½• ${this.recordId}, userId: ${A}, sessionId: ${n?n.slice(0,8)+"...":"null"}`);const r=await zn.getRecordDetail(this.recordId,{sessionId:n,userId:A});r.success&&r.data?this.record=r.data:this.error=r.message||"åŠ è½½å¤±è´¥",this.isLoading=!1,e.innerHTML=this.renderContent(),this.attachContentEvents()}catch(e){console.error("åŠ è½½è®°å½•è¯¦æƒ…å¤±è´¥:",e),this.error=e.message||"ç½‘ç»œé”™è¯¯",this.isLoading=!1;const A=document.getElementById("detail-content");A&&(A.innerHTML=this.renderError(),this.attachContentEvents())}}renderContent(){if(this.error)return this.renderError();if(!this.record)return this.renderError();const{question:e,result:A,reqData:n,createTime:r,status:a}=this.record;let s=null,i=null;n&&(n.personA?s=n.personA:n.person1_name&&(s={name:n.person1_name,birthDate:n.person1_birthday},i={name:n.person2_name,birthDate:n.person2_birthday}),n.personB&&(i=n.personB));let o="";A&&(typeof A=="string"?o=this.formatMarkdown(A):A.content?o=this.formatMarkdown(A.content):A.text?o=this.formatMarkdown(A.text):A.result?o=this.formatMarkdown(typeof A.result=="string"?A.result:JSON.stringify(A.result)):o=this.formatMarkdown(JSON.stringify(A,null,2)));const c=r?new Date(r).toLocaleString("zh-CN"):"";return`
      <div class="result-content animate-fade-in-up">
        <!-- è®°å½•ä¿¡æ¯å¤´ -->
        <div class="glass-card mb-4">
          <div class="history-detail-header">
            <div class="history-detail-meta">
              <span class="history-status history-status--success">${a}</span>
              <span class="history-detail-time">${c}</span>
            </div>
            <h3 class="heading-3 mt-2">${this.escapeHtml(e)}</h3>
          </div>
        </div>

        ${s&&i?`
        <!-- åŒæ–¹ä¿¡æ¯ -->
        <div class="glass-card persons-card mb-4">
          <div class="persons-row">
            <div class="person-info">
              <span class="person-avatar">${s.gender==="ç”·"?"ğŸ‘¨":"ğŸ‘©"}</span>
              <span class="person-name">${s.name||"ä½ "}</span>
              ${s.birthDate?`<span class="person-birth small-text">${s.birthDate}</span>`:""}
            </div>
            <div class="vs-badge">VS</div>
            <div class="person-info">
              <span class="person-avatar">${i.gender==="ç”·"?"ğŸ‘¨":"ğŸ‘©"}</span>
              <span class="person-name">${i.name||"å¯¹æ–¹"}</span>
              ${i.birthDate?`<span class="person-birth small-text">${i.birthDate}</span>`:""}
            </div>
          </div>
        </div>
        `:""}

        <!-- åˆ†æç»“æœ -->
        <div class="glass-card ai-result-card mb-4">
          <h4 class="heading-3 mb-4">ğŸ¤– åˆ†ææŠ¥å‘Š</h4>
          <div class="ai-content">
            ${o||'<p class="body-text-secondary">æš‚æ— åˆ†æç»“æœ</p>'}
          </div>
        </div>

        <!-- æ¸©é¦¨æç¤º -->
        <div class="glass-card glass-card--light disclaimer-card mb-4">
          <p class="small-text text-center" style="color: var(--color-text-tertiary);">
            âš ï¸ ä»¥ä¸Šåˆ†æä»…ä¾›å¨±ä¹å‚è€ƒï¼Œä¸æ„æˆä»»ä½•å†³ç­–å»ºè®®
          </p>
        </div>

        <!-- åº•éƒ¨æ“ä½œ -->
        <div class="history-detail-actions mb-8">
          <button class="btn btn--outline btn--md" id="back-to-history-btn">
            â† è¿”å›å†å²è®°å½•
          </button>
          <button class="btn btn--primary btn--md" id="back-to-home-btn">
            å†æ¥ä¸€æ¬¡
          </button>
        </div>
      </div>
    `}renderError(){return`
      <div class="history-error text-center mt-8 animate-fade-in-up">
        <div class="history-error__icon">ğŸ˜¥</div>
        <p class="body-text-secondary mb-4">${this.error||"è®°å½•ä¸å­˜åœ¨"}</p>
        <button class="btn btn--outline btn--sm" id="back-to-history-btn">
          è¿”å›å†å²è®°å½•
        </button>
      </div>
    `}attachContentEvents(){const e=document.getElementById("back-to-history-btn");e&&e.addEventListener("click",()=>{window.router.navigate("/history")});const A=document.getElementById("back-to-home-btn");A&&A.addEventListener("click",()=>{window.router.navigate("/")})}formatMarkdown(e){if(!e)return"";let A=e;return A=A.replace(/^### (.+)$/gm,'<h4 class="heading-4 mt-4 mb-2">$1</h4>'),A=A.replace(/^## (.+)$/gm,'<h3 class="heading-3 mt-4 mb-2">$1</h3>'),A=A.replace(/^# (.+)$/gm,'<h2 class="heading-2 mt-4 mb-2">$1</h2>'),A=A.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>"),A=A.replace(/\*(.+?)\*/g,"<em>$1</em>"),A=A.replace(/^[-*] (.+)$/gm,"<li>$1</li>"),A=A.replace(/((?:<li>.*<\/li>\n?)+)/g,'<ul class="ai-list">$1</ul>'),A=A.replace(/^\d+\. (.+)$/gm,"<li>$1</li>"),A=A.replace(/^---$/gm,'<hr class="divider">'),A=A.replace(/^(?!<[a-z])((?!\s*$).+)$/gm,'<p class="body-text mb-2">$1</p>'),A=A.replace(/\n{3,}/g,`

`),A}escapeHtml(e){if(!e)return"";const A=document.createElement("div");return A.textContent=e,A.innerHTML}}class qg{constructor(){this.user=ce.getLocalUser(),this.gender=localStorage.getItem("user_gender")||"æœªçŸ¥",this.isEditing=!1}render(){const e=this.user?.phone||"",A=e?e.replace(/(\d{3})\d{4}(\d{4})/,"$1****$2"):"æœªç»‘å®š",n=this.user?.nickname||"æœªè®¾ç½®";return`
      <div class="page profile-page">
        ${aA({title:"æˆ‘çš„",showBack:!0,showHistory:!1,showProfile:!1})}
        
        <main class="page-content">
          <div class="app-container">
            
            <!-- å¤´åƒåŒºåŸŸ -->
            <section class="profile-header animate-fade-in-up">
              <div class="glass-card text-center" style="padding: 2rem 1.5rem;">
                <div class="profile-avatar">ğŸ‘¤</div>
                <h2 class="profile-nickname">${n}</h2>
              </div>
            </section>

            <!-- ä¿¡æ¯åˆ—è¡¨ -->
            <section class="profile-info-section animate-fade-in-up animate-delay-100">
              <div class="glass-card" style="padding: 0;">
                
                <!-- ç§°å‘¼ -->
                <div class="profile-info-item">
                  <div class="profile-info-label">ç§°å‘¼</div>
                  <div class="profile-info-value">
                    ${this.isEditing?`
                      <input type="text" id="edit-nickname" class="profile-edit-input" 
                             value="${n}" maxlength="20" placeholder="è¯·è¾“å…¥ç§°å‘¼">
                    `:`
                      <span id="display-nickname">${n}</span>
                      <button class="profile-edit-btn" data-action="edit-nickname">âœï¸</button>
                    `}
                  </div>
                </div>

                <!-- æ‰‹æœºå· -->
                <div class="profile-info-item">
                  <div class="profile-info-label">æ‰‹æœºå·</div>
                  <div class="profile-info-value">
                    <span>${A}</span>
                  </div>
                </div>

                <!-- æ€§åˆ« -->
                <div class="profile-info-item" style="border-bottom: none;">
                  <div class="profile-info-label">æ€§åˆ«</div>
                  <div class="profile-info-value">
                    <div class="profile-gender-selector">
                      <button class="gender-option ${this.gender==="ç”·"?"active":""}" data-gender="ç”·">â™‚ ç”·</button>
                      <button class="gender-option ${this.gender==="å¥³"?"active":""}" data-gender="å¥³">â™€ å¥³</button>
                      <button class="gender-option ${this.gender==="æœªçŸ¥"?"active":""}" data-gender="æœªçŸ¥">æœªçŸ¥</button>
                    </div>
                  </div>
                </div>
              </div>
            </section>

            <!-- ä¿å­˜æŒ‰é’®ï¼ˆç¼–è¾‘æ—¶æ˜¾ç¤ºï¼‰ -->
            ${this.isEditing?`
              <section class="animate-fade-in-up animate-delay-200" style="margin-top: 1.5rem;">
                <button class="btn btn--primary btn--full" data-action="save-nickname">ä¿å­˜</button>
              </section>
            `:""}

            <!-- é€€å‡ºç™»å½• -->
            <section class="animate-fade-in-up animate-delay-200" style="margin-top: 2rem;">
              <button class="btn btn--ghost btn--full profile-logout-btn" data-action="logout">
                é€€å‡ºç™»å½•
              </button>
            </section>

            <div class="mt-8 safe-area-bottom"></div>
          </div>
        </main>
      </div>
    `}attachEvents(){const e=document.querySelector(".navbar__back-btn");e&&e.addEventListener("click",()=>{window.router.back()});const A=document.querySelector('[data-action="edit-nickname"]');A&&A.addEventListener("click",()=>{this.isEditing=!0,this.rerender()});const n=document.querySelector('[data-action="save-nickname"]');n&&n.addEventListener("click",()=>this.saveNickname());const r=document.getElementById("edit-nickname");r&&(r.focus(),r.addEventListener("keydown",s=>{s.key==="Enter"&&this.saveNickname()})),document.querySelectorAll(".gender-option").forEach(s=>{s.addEventListener("click",()=>{const i=s.dataset.gender;this.gender=i,localStorage.setItem("user_gender",i),document.querySelectorAll(".gender-option").forEach(o=>o.classList.remove("active")),s.classList.add("active"),window.showToast("å·²æ›´æ–°","success")})});const a=document.querySelector('[data-action="logout"]');a&&a.addEventListener("click",()=>{ce.logout(),localStorage.removeItem("userId"),localStorage.removeItem("user_gender"),window.showToast("å·²é€€å‡ºç™»å½•","success"),setTimeout(()=>{window.router.navigate("/")},500)})}saveNickname(){const e=document.getElementById("edit-nickname");if(!e)return;const A=e.value.trim();if(!A){window.showToast("ç§°å‘¼ä¸èƒ½ä¸ºç©º","error");return}this.user&&(this.user.nickname=A,localStorage.setItem("user",JSON.stringify(this.user))),this.isEditing=!1,window.showToast("å·²ä¿å­˜","success"),this.rerender()}rerender(){const e=document.getElementById("app");e&&(e.innerHTML=this.render(),this.attachEvents())}}function ot(){const t=new Date,e=t.getFullYear(),A=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0"),r=String(t.getHours()).padStart(2,"0"),a=String(t.getMinutes()).padStart(2,"0"),s=String(t.getSeconds()).padStart(2,"0");return`${e}-${A}-${n} ${r}:${a}:${s}`}function ts(){console.log(`[${ot()}] âœ¨ åŒ¹é…æ¸¸æˆå¯åŠ¨ä¸­...`),Wg(),zg(),jg(),Zg(),nn.start(),console.log(`[${ot()}] âœ¨ åŒ¹é…æ¸¸æˆå¯åŠ¨å®Œæˆï¼`)}function Wg(){let t=localStorage.getItem("sessionId");t||(t=crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const A=Math.random()*16|0;return(e==="x"?A:A&3|8).toString(16)}),localStorage.setItem("sessionId",t)),window.appSession={id:t,createdAt:new Date().toISOString()},console.log(`[${ot()}] ğŸ“‹ SessionId: ${t.slice(0,8)}...`)}function zg(){nn.register("/",Wi).register("/xhs",zi).register("/auth",Zi).register("/test/:type",ji).register("/test/:type/birthday",ho).register("/test/:type/tarot",Co).register("/test/:type/tarot/taboo",Qo).register("/test/:type/tarot/principle",Uo).register("/test/:type/tarot/shuffle",Do).register("/test/:type/tarot/pick",Go).register("/test/:type/tarot/card-selection",$o).register("/test/:type/tarot/result-loading",Yo).register("/test/:type/tarot/result",wg).register("/pay/:type",Tg).register("/result/:id",Lg).register("/divination/result",Yg).register("/history",Jg).register("/history/detail/:id",Xg).register("/profile",qg)}async function Zg(){try{const t=await Yi.getServerState();t.success&&t.data&&(He.set("serverState",t.data.serverState),console.log(`[${ot()}] ğŸ”§ æœåŠ¡ç«¯çŠ¶æ€: ${t.data.serverState}`))}catch(t){console.warn(`[${ot()}] âš ï¸ è·å–æœåŠ¡ç«¯çŠ¶æ€å¤±è´¥:`,t.message),He.set("serverState","production")}}function jg(){window.showToast=Af,window.appState=He,window.router=nn,document.body.addEventListener("touchmove",function(t){t.target.closest(".page-content")||t.preventDefault()},{passive:!1})}function Af(t,e="default",A=2500){const n=document.querySelector(".toast");n&&n.remove();const r=document.createElement("div");r.className=`toast ${e!=="default"?`toast--${e}`:""}`,r.textContent=t,document.body.appendChild(r),requestAnimationFrame(()=>{r.classList.add("toast--visible")}),setTimeout(()=>{r.classList.remove("toast--visible"),setTimeout(()=>r.remove(),300)},A)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",ts):ts();
